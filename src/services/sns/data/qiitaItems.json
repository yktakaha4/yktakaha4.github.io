{
  "items": [
    {
      "rendered_body": "<p>ã“ã¡ã‚‰ã¯ã€<a href=\"https://qiita.com/advent-calendar/2020/lambda\">AWS Lambdaã¨Serverless Advent Calendar 2020</a> 25æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼</p>\n\n<p>ã‚¯ãƒªã‚¹ãƒã‚¹ã®å…¬é–‹ã§ã™ãŒå­£ç¯€æ„Ÿã¯ãªã„ã§ã™<br>\næ‚ªã—ã‹ã‚‰ãšğŸ¦µ</p>\n\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>AWS re:Invent 2020ã«ã¦<a href=\"https://aws.amazon.com/jp/blogs/news/new-for-aws-lambda-container-image-support/\" rel=\"nofollow noopener\" target=\"_blank\">Lambdaã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µãƒãƒ¼ãƒˆ</a>ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸãŒã€<br>\næˆ‘ã‚‰ãŒæ„›ã™ã‚‹Serverless Frameworkã§ã‚‚æ—©ã€…ã«<a href=\"https://github.com/serverless/serverless/issues/8570\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒãƒ¼ãƒˆãŒè¡Œã‚ã‚ŒãŸ</a>ã®ã§ã€ãŠè©¦ã—ã§ä½¿ã£ã¦ã¿ã¾ã—ãŸğŸ„</p>\n\n<p><code>serverless.yml</code> ã«ãŠã‘ã‚‹å®šç¾©ã«ã¤ã„ã¦ã¯ã€<a href=\"https://www.serverless.com/blog/container-support-for-lambda\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®ãƒ–ãƒ­ã‚°ã«ã‚ã‚‹é€šã‚Šã€ <code>&lt;account&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/&lt;repository&gt;@&lt;digest&gt;</code> ã®å½¢å¼ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãã†ã§ã™<br>\nã‚¿ã‚°ã§ãªãã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã®ã“ã¨ãªã®ã§ã€ <code>sls deploy</code> æ™‚ã«ã„ã„æ„Ÿã˜ã«æ³¨å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ğŸ¥›</p>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p>ä»¥ä¸‹ã§å…¬é–‹ã—ã¦ã„ã¾ã™ğŸ™<br>\n<a href=\"https://github.com/yktakaha4/lambda-docker-serverless\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/yktakaha4/lambda-docker-serverless</a></p>\n\n<p>ãªã‚‹ã¹ãç°¡å˜ã«å‹•ä½œã‚’è©¦ã›ã‚‹ã‚ˆã†ã«ã€<br>\nç’°å¢ƒæ§‹ç¯‰ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã«å¿…è¦ãªã‚‚ã‚ã‚‚ã‚ã‚’GitHub Actionsã«<a href=\"https://github.com/yktakaha4/lambda-docker-serverless/blob/master/.github/workflows/deployment.yml\" rel=\"nofollow noopener\" target=\"_blank\">ã¾ã¨ã‚ã¦ã¾ã™</a><br>\nå¤‰æ›´ã™ã¹ãç®‡æ‰€ã¯READMEã«ã¾ã¨ã‚ã¦ã„ã¾ã™ã®ã§ä½µã›ã¦ã”è¦§ãã ã•ã„</p>\n\n<h1>\n<span id=\"ãƒã‚¤ãƒ³ãƒˆ\" class=\"fragment\"></span><a href=\"#%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"><i class=\"fa fa-link\"></i></a>ãƒã‚¤ãƒ³ãƒˆ</h1>\n\n<p>Dockerãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ <code>public.ecr.aws/lambda/xxxxx</code> ã‹ã‚‰ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãã†ã§ã™<br>\n<a href=\"https://github.com/aws/aws-lambda-base-images\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã«ã¦ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ğŸ‹</p>\n\n<p>ã‚ã¨ã€å¾“æ¥ã¯ <code>serverless.yml</code> ã«ã¦é–¢æ•°ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã¦ã„ãŸã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€Dockerfileã«ã¦è¨­å®šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™<br>\nå€‹äººçš„ã«ã€ECSã®Scheduled Taskã§å˜ä¸€ã®ã‚³ãƒ³ãƒ†ãƒŠã«è¤‡æ•°ã®é–¢æ•°ã‚’å«ã‚ã¦ã€å®šç¾©ã”ã¨ã«å‹•ã‹ã™ã‚‚ã®ã‚’å¤‰ãˆã‚‹ã¨ã„ã†ã“ã¨ã‚’ã‚„ã£ã¦ã„ãŸã®ã§ã™ãŒã€ç¾çŠ¶ã ã¨å€‹åˆ¥ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹æ„Ÿã˜ãªã®ã§ã—ã‚‡ã†ã‹...ï¼Ÿ</p>\n\n<div class=\"code-frame\" data-lang=\"dockerfile\">\n<div class=\"code-lang\"><span class=\"bold\">Dockerfile</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">FROM</span><span class=\"s\"> public.ecr.aws/lambda/nodejs:12 AS builder</span>\n\n<span class=\"k\">WORKDIR</span><span class=\"s\"> /opt/build</span>\n\n<span class=\"k\">COPY</span><span class=\"s\"> . .</span>\n\n<span class=\"k\">RUN </span>npm ci\n\n<span class=\"k\">RUN </span>npm run build\n\n<span class=\"c\">##### ##### ##### #####</span>\n<span class=\"k\">FROM</span><span class=\"s\"> public.ecr.aws/lambda/nodejs:12 AS runner</span>\n\n<span class=\"k\">COPY</span><span class=\"s\"> --from=builder \\</span>\n  /opt/build/package*.json \\\n  ./\n\n<span class=\"k\">COPY</span><span class=\"s\"> --from=builder \\</span>\n  /opt/build/dist \\\n  ./dist\n\n<span class=\"k\">RUN </span>npm ci <span class=\"nt\">--only</span><span class=\"o\">=</span>production\n\n<span class=\"c\"># !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!</span>\n<span class=\"k\">CMD</span><span class=\"s\"> [\"dist/index.handler\"]</span>\n</code></pre></div>\n</div>\n\n<p>ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ECRã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ãŒæ¸ˆã‚“ã ã‚‰ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚’å–å¾—ã—ã€ <code>sls</code> ã‚³ãƒãƒ³ãƒ‰ã«æ¸¡ã›ã‚‹ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¾ã™<br>\nå¾“æ¥ã® <code>set-env</code> ã¯ç¾åœ¨ç„¡åŠ¹ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€<a href=\"https://qiita.com/shonansurvivors/items/f256a0443d346f09448e\" id=\"reference-c1315afcf044466efc3e\">æ–°ã—ã„æ›¸ãæ–¹</a>ã§ã‚„ã£ã¦ã¾ã™</p>\n\n<p>ã‚ã¨ã€ä»Šå›åˆã‚ã¦çŸ¥ã£ãŸã®ã§ã™ãŒã€GitHub Actionsã®ç’°å¢ƒã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ <code>aws</code> ã‚³ãƒãƒ³ãƒ‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã‚‹ã‚“ã§ã™ã­...ï¼</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">deployment.yml(æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">jobs</span><span class=\"pi\">:</span>\n  <span class=\"na\">deploy</span><span class=\"pi\">:</span>\n    <span class=\"na\">runs-on</span><span class=\"pi\">:</span> <span class=\"s\">ubuntu-18.04</span>\n    <span class=\"na\">timeout-minutes</span><span class=\"pi\">:</span> <span class=\"m\">300</span>\n\n    <span class=\"na\">steps</span><span class=\"pi\">:</span>\n      <span class=\"c1\"># ç•¥</span>\n\n      <span class=\"c1\"># ECR</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">aws-actions/amazon-ecr-login@v1</span>\n        <span class=\"na\">id</span><span class=\"pi\">:</span> <span class=\"s\">login-ecr</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n          <span class=\"s\">docker build -t $REGISTRY/$REPOSITORY:$TAG .</span>\n          <span class=\"s\">docker push $REGISTRY/$REPOSITORY:$TAG</span>\n\n          <span class=\"s\"># !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!</span>\n          <span class=\"s\">echo \"IMAGE_DIGEST=$(aws ecr describe-images --repository-name $REPOSITORY --image-ids imageTag=$TAG --output text --query 'imageDetails[0].imageDigest')\" &gt;&gt; $GITHUB_ENV</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">REGISTRY</span><span class=\"pi\">:</span> <span class=\"s\">${{ steps.login-ecr.outputs.registry }}</span>\n          <span class=\"na\">REPOSITORY</span><span class=\"pi\">:</span> <span class=\"s\">lambda-docker-serverless-repos</span>\n          <span class=\"na\">TAG</span><span class=\"pi\">:</span> <span class=\"s\">latest</span>\n\n      <span class=\"c1\"># Serverless Framework</span>\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm ci</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm run deploy</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">AWS_ACCESS_KEY_ID</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_ACCESS_KEY_ID }}</span>\n          <span class=\"na\">AWS_SECRET_ACCESS_KEY</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_SECRET_ACCESS_KEY }}</span>\n          <span class=\"na\">AWS_DEFAULT_REGION</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_DEFAULT_REGION }}</span>\n          <span class=\"na\">IMAGE_DIGEST</span><span class=\"pi\">:</span> <span class=\"s\">${{ env.IMAGE_DIGEST }}</span>\n</code></pre></div>\n</div>\n\n<p><code>serverless.yml</code> ã§ã¯ã€å¾“æ¥ <code>handler</code> ã‚’ä½¿ã£ã¦ã„ãŸã¨ã“ã‚ã‚’ã€ <code>image</code> ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’æŒ‡å®šã—ã¾ã™<br>\n<code>#{AWS::AccountId}</code> ãªã©ã€ã‚·ãƒ£ãƒ¼ãƒ—ã§å§‹ã¾ã‚‹ã‚‚ã®ã¯ <a href=\"https://www.serverless.com/plugins/serverless-pseudo-parameters\" rel=\"nofollow noopener\" target=\"_blank\">serverless-pseudo-parameters</a>ã®åƒãã«ã‚ˆã‚Šå®Ÿå€¤ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"yml\">\n<div class=\"code-lang\"><span class=\"bold\">serverless.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">service</span><span class=\"pi\">:</span> <span class=\"s\">lambda-docker-serverless</span>\n\n<span class=\"na\">provider</span><span class=\"pi\">:</span>\n  <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">aws</span>\n  <span class=\"na\">stage</span><span class=\"pi\">:</span> <span class=\"s\">prod</span>\n  <span class=\"na\">region</span><span class=\"pi\">:</span> <span class=\"s\">${env:AWS_DEFAULT_REGION}</span>\n  <span class=\"na\">deploymentBucket</span><span class=\"pi\">:</span> <span class=\"s\">lambda-docker-serverless-deployment</span>\n\n<span class=\"na\">functions</span><span class=\"pi\">:</span>\n  <span class=\"na\">index</span><span class=\"pi\">:</span>\n    <span class=\"c1\"># !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!</span>\n    <span class=\"na\">image</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">#{AWS::AccountId}.dkr.ecr.#{AWS::Region}.amazonaws.com/lambda-docker-serverless-repos@${env:IMAGE_DIGEST}\"</span>\n    <span class=\"na\">events</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">http</span><span class=\"pi\">:</span>\n          <span class=\"na\">path</span><span class=\"pi\">:</span> <span class=\"s\">index</span>\n          <span class=\"na\">method</span><span class=\"pi\">:</span> <span class=\"s\">post</span>\n          <span class=\"na\">cors</span><span class=\"pi\">:</span> <span class=\"no\">true</span>\n\n<span class=\"na\">plugins</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s\">serverless-pseudo-parameters</span>\n</code></pre></div>\n</div>\n\n<p>ä»Šå›ã¯ã€ã“ã‚“ãªã‚·ãƒ³ãƒ—ãƒ«ãªé–¢æ•°ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸ<br>\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã§å—ã‘å–ã£ãŸåå‰ã‚’å¤§æ–‡å­—ã«ã—ã¦ã€æŒ¨æ‹¶ã‚’è¿”ã™å‡¦ç†ã«ãªã‚Šã¾ã™ğŸ‘‹</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">index.ts</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">APIGatewayProxyHandler</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">aws-lambda</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"dl\">\"</span><span class=\"s2\">source-map-support/register</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n\n<span class=\"kr\">interface</span> <span class=\"nx\">Request</span> <span class=\"p\">{</span>\n  <span class=\"nl\">name</span><span class=\"p\">?:</span> <span class=\"kr\">string</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">handler</span><span class=\"p\">:</span> <span class=\"nx\">APIGatewayProxyHandler</span> <span class=\"o\">=</span> <span class=\"k\">async</span> <span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"k\">try</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"p\">{</span> <span class=\"nx\">name</span> <span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">body</span> <span class=\"o\">??</span> <span class=\"dl\">\"</span><span class=\"s2\">{}</span><span class=\"dl\">\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"nx\">Request</span><span class=\"p\">;</span>\n\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n      <span class=\"na\">statusCode</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n      <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">({</span>\n        <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s2\">`Hello, </span><span class=\"p\">${(</span><span class=\"nx\">name</span> <span class=\"o\">??</span> <span class=\"dl\">\"</span><span class=\"s2\">nanashi-san</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">toUpperCase</span><span class=\"p\">()}</span><span class=\"s2\"> !`</span><span class=\"p\">,</span>\n      <span class=\"p\">}),</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">}</span> <span class=\"k\">catch</span> <span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n      <span class=\"na\">statusCode</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n      <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">({</span>\n        <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">),</span>\n      <span class=\"p\">}),</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n</code></pre></div>\n</div>\n\n<p><code>https://xxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/prod/index</code> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™<br>\n<a href=\"https://insomnia.rest/\" rel=\"nofollow noopener\" target=\"_blank\">Insomnia</a>ã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ãã†ã§ã„ã„æ„Ÿã˜ã§ã™ï¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/2d982fe092527fe455771a709acd3b6aa30fa838/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f61346233643061332d373537342d656131612d333736312d3465333632613864313266342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fa4b3d0a3-7574-ea1a-3761-4e362a8d12f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7b09ac2fae9cf50c3681940c4681cf7d\" alt=\"insomnia.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/a4b3d0a3-7574-ea1a-3761-4e362a8d12f4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fa4b3d0a3-7574-ea1a-3761-4e362a8d12f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=11066bd857f5f9a10a21d5e463a86c1c 1x\" loading=\"lazy\"></a></p>\n\n<h1>\n<span id=\"ãŠã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ãŠã‚ã‚Šã«</h1>\n\n<p>å½“åˆã¯ã€é–¢æ•°å†…ã§<a href=\"https://pptr.dev/\" rel=\"nofollow noopener\" target=\"_blank\">Puppeteer</a>ã‚’å‹•ã‹ãã†ã¨å°‘ã—è©¦ã—ã¦ã„ãŸã®ã§ã™ãŒã€<br>\nå¾“æ¥ã®ä¸€ç•ªå®‰å®šã—ãŸã‚„ã‚Šæ–¹ã ã£ãŸ<a href=\"https://github.com/alixaxel/chrome-aws-lambda\" rel=\"nofollow noopener\" target=\"_blank\">chrome-aws-lambda</a>ã‚’ä½¿ã†ã‚ˆã‚Šã‚‚æ¥½ã«æ§‹ç¯‰ã§ãã‚‹ã¨æ€ã„ãã‚„ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸è¶³ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™å‘¨ã‚Šã®å•é¡Œã§çµæ§‹ç•™æ„ã™ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã®ã§è«¦ã‚ã¾ã—ãŸ...<br>\nï¼ˆã¡ãªãã®æ®‹éª¸ã¯<a href=\"https://github.com/yktakaha4/lambda-docker-puppeteer\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã«ã‚ã‚Šã¾ã™âš°ï¸ï¼‰</p>\n\n<p>å¾“æ¥å®Ÿè¡Œç’°å¢ƒã®å¾®å¦™ãªå·®ç•°ã«æ‚©ã¾ã•ã‚Œã‚‹ã“ã¨ã‚‚ã¡ã‚‡ã„ã¡ã‚‡ã„ã‚ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™ãŒã€<br>\nä»Šå¾Œã‚³ãƒ³ãƒ†ãƒŠãƒ™ãƒ¼ã‚¹ã®ç’°å¢ƒã§é–‹ç™ºãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨åˆ©ä¾¿æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å¼•ãç¶šãå‹•å‘ã‚’è¿½ã£ã¦ã„ããŸã„ã§ã™ã­ğŸ¦ŒğŸ¦ŒğŸ…ğŸ</p>\n",
      "body": "ã“ã¡ã‚‰ã¯ã€[AWS Lambdaã¨Serverless Advent Calendar 2020](https://qiita.com/advent-calendar/2020/lambda) 25æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼\n\nã‚¯ãƒªã‚¹ãƒã‚¹ã®å…¬é–‹ã§ã™ãŒå­£ç¯€æ„Ÿã¯ãªã„ã§ã™\næ‚ªã—ã‹ã‚‰ãšğŸ¦µ\n\n# ã¯ã˜ã‚ã«\n\nAWS re:Invent 2020ã«ã¦[Lambdaã®ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚µãƒãƒ¼ãƒˆ](https://aws.amazon.com/jp/blogs/news/new-for-aws-lambda-container-image-support/)ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸãŒã€\næˆ‘ã‚‰ãŒæ„›ã™ã‚‹Serverless Frameworkã§ã‚‚æ—©ã€…ã«[ã‚µãƒãƒ¼ãƒˆãŒè¡Œã‚ã‚ŒãŸ](https://github.com/serverless/serverless/issues/8570)ã®ã§ã€ãŠè©¦ã—ã§ä½¿ã£ã¦ã¿ã¾ã—ãŸğŸ„\n\n`serverless.yml` ã«ãŠã‘ã‚‹å®šç¾©ã«ã¤ã„ã¦ã¯ã€[ã“ã¡ã‚‰](https://www.serverless.com/blog/container-support-for-lambda)ã®ãƒ–ãƒ­ã‚°ã«ã‚ã‚‹é€šã‚Šã€ `<account>.dkr.ecr.<region>.amazonaws.com/<repository>@<digest>` ã®å½¢å¼ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãã†ã§ã™\nã‚¿ã‚°ã§ãªãã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã®ã“ã¨ãªã®ã§ã€ `sls deploy` æ™‚ã«ã„ã„æ„Ÿã˜ã«æ³¨å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ğŸ¥›\n\n# ä½œã£ãŸã‚‚ã®\n\nä»¥ä¸‹ã§å…¬é–‹ã—ã¦ã„ã¾ã™ğŸ™\nhttps://github.com/yktakaha4/lambda-docker-serverless\n\nãªã‚‹ã¹ãç°¡å˜ã«å‹•ä½œã‚’è©¦ã›ã‚‹ã‚ˆã†ã«ã€\nç’°å¢ƒæ§‹ç¯‰ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã«å¿…è¦ãªã‚‚ã‚ã‚‚ã‚ã‚’GitHub Actionsã«[ã¾ã¨ã‚ã¦ã¾ã™](https://github.com/yktakaha4/lambda-docker-serverless/blob/master/.github/workflows/deployment.yml)\nå¤‰æ›´ã™ã¹ãç®‡æ‰€ã¯READMEã«ã¾ã¨ã‚ã¦ã„ã¾ã™ã®ã§ä½µã›ã¦ã”è¦§ãã ã•ã„\n\n# ãƒã‚¤ãƒ³ãƒˆ\n\nDockerãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ `public.ecr.aws/lambda/xxxxx` ã‹ã‚‰ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãã†ã§ã™\n[ã“ã¡ã‚‰](https://github.com/aws/aws-lambda-base-images)ã«ã¦ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ğŸ‹\n\nã‚ã¨ã€å¾“æ¥ã¯ `serverless.yml` ã«ã¦é–¢æ•°ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã¦ã„ãŸã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€Dockerfileã«ã¦è¨­å®šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™\nå€‹äººçš„ã«ã€ECSã®Scheduled Taskã§å˜ä¸€ã®ã‚³ãƒ³ãƒ†ãƒŠã«è¤‡æ•°ã®é–¢æ•°ã‚’å«ã‚ã¦ã€å®šç¾©ã”ã¨ã«å‹•ã‹ã™ã‚‚ã®ã‚’å¤‰ãˆã‚‹ã¨ã„ã†ã“ã¨ã‚’ã‚„ã£ã¦ã„ãŸã®ã§ã™ãŒã€ç¾çŠ¶ã ã¨å€‹åˆ¥ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹æ„Ÿã˜ãªã®ã§ã—ã‚‡ã†ã‹...ï¼Ÿ\n\n```dockerfile:Dockerfile\nFROM public.ecr.aws/lambda/nodejs:12 AS builder\n\nWORKDIR /opt/build\n\nCOPY . .\n\nRUN npm ci\n\nRUN npm run build\n\n##### ##### ##### #####\nFROM public.ecr.aws/lambda/nodejs:12 AS runner\n\nCOPY --from=builder \\\n  /opt/build/package*.json \\\n  ./\n\nCOPY --from=builder \\\n  /opt/build/dist \\\n  ./dist\n\nRUN npm ci --only=production\n\n# !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!\nCMD [\"dist/index.handler\"]\n```\n\nã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ECRã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ãŒæ¸ˆã‚“ã ã‚‰ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚’å–å¾—ã—ã€ `sls` ã‚³ãƒãƒ³ãƒ‰ã«æ¸¡ã›ã‚‹ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¾ã™\nå¾“æ¥ã® `set-env` ã¯ç¾åœ¨ç„¡åŠ¹ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€[æ–°ã—ã„æ›¸ãæ–¹](https://qiita.com/shonansurvivors/items/f256a0443d346f09448e)ã§ã‚„ã£ã¦ã¾ã™\n\nã‚ã¨ã€ä»Šå›åˆã‚ã¦çŸ¥ã£ãŸã®ã§ã™ãŒã€GitHub Actionsã®ç’°å¢ƒã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ `aws` ã‚³ãƒãƒ³ãƒ‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã‚‹ã‚“ã§ã™ã­...ï¼\n\n```yaml:deployment.yml(æŠœç²‹)\njobs:\n  deploy:\n    runs-on: ubuntu-18.04\n    timeout-minutes: 300\n\n    steps:\n      # ç•¥\n\n      # ECR\n      - uses: aws-actions/amazon-ecr-login@v1\n        id: login-ecr\n\n      - run: |\n          docker build -t $REGISTRY/$REPOSITORY:$TAG .\n          docker push $REGISTRY/$REPOSITORY:$TAG\n\n          # !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!\n          echo \"IMAGE_DIGEST=$(aws ecr describe-images --repository-name $REPOSITORY --image-ids imageTag=$TAG --output text --query 'imageDetails[0].imageDigest')\" >> $GITHUB_ENV\n        env:\n          REGISTRY: ${{ steps.login-ecr.outputs.registry }}\n          REPOSITORY: lambda-docker-serverless-repos\n          TAG: latest\n\n      # Serverless Framework\n      - run: npm ci\n\n      - run: npm run deploy\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          AWS_DEFAULT_REGION: ${{ secrets.AWS_DEFAULT_REGION }}\n          IMAGE_DIGEST: ${{ env.IMAGE_DIGEST }}\n```\n\n`serverless.yml` ã§ã¯ã€å¾“æ¥ `handler` ã‚’ä½¿ã£ã¦ã„ãŸã¨ã“ã‚ã‚’ã€ `image` ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’æŒ‡å®šã—ã¾ã™\n`#{AWS::AccountId}` ãªã©ã€ã‚·ãƒ£ãƒ¼ãƒ—ã§å§‹ã¾ã‚‹ã‚‚ã®ã¯ [serverless-pseudo-parameters]\n(https://www.serverless.com/plugins/serverless-pseudo-parameters)ã®åƒãã«ã‚ˆã‚Šå®Ÿå€¤ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¾ã™\n\n```yml:serverless.yml\nservice: lambda-docker-serverless\n\nprovider:\n  name: aws\n  stage: prod\n  region: ${env:AWS_DEFAULT_REGION}\n  deploymentBucket: lambda-docker-serverless-deployment\n\nfunctions:\n  index:\n    # !!! ã“ã“ãƒã‚¤ãƒ³ãƒˆ !!!\n    image: \"#{AWS::AccountId}.dkr.ecr.#{AWS::Region}.amazonaws.com/lambda-docker-serverless-repos@${env:IMAGE_DIGEST}\"\n    events:\n      - http:\n          path: index\n          method: post\n          cors: true\n\nplugins:\n  - serverless-pseudo-parameters\n```\n\nä»Šå›ã¯ã€ã“ã‚“ãªã‚·ãƒ³ãƒ—ãƒ«ãªé–¢æ•°ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸ\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã§å—ã‘å–ã£ãŸåå‰ã‚’å¤§æ–‡å­—ã«ã—ã¦ã€æŒ¨æ‹¶ã‚’è¿”ã™å‡¦ç†ã«ãªã‚Šã¾ã™ğŸ‘‹\n\n```typescript:index.ts\nimport { APIGatewayProxyHandler } from \"aws-lambda\";\nimport \"source-map-support/register\";\n\ninterface Request {\n  name?: string;\n}\n\nexport const handler: APIGatewayProxyHandler = async (event) => {\n  try {\n    const { name } = JSON.parse(event.body ?? \"{}\") as Request;\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify({\n        message: `Hello, ${(name ?? \"nanashi-san\").toUpperCase()} !`,\n      }),\n    };\n  } catch (e) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({\n        error: String(e),\n      }),\n    };\n  }\n};\n```\n\n`https://xxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/prod/index` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™\n[Insomnia](https://insomnia.rest/)ã§å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ãã†ã§ã„ã„æ„Ÿã˜ã§ã™ï¼\n\n![insomnia.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/a4b3d0a3-7574-ea1a-3761-4e362a8d12f4.png)\n\n# ãŠã‚ã‚Šã«\n\nå½“åˆã¯ã€é–¢æ•°å†…ã§[Puppeteer](https://pptr.dev/)ã‚’å‹•ã‹ãã†ã¨å°‘ã—è©¦ã—ã¦ã„ãŸã®ã§ã™ãŒã€\nå¾“æ¥ã®ä¸€ç•ªå®‰å®šã—ãŸã‚„ã‚Šæ–¹ã ã£ãŸ[chrome-aws-lambda](https://github.com/alixaxel/chrome-aws-lambda)ã‚’ä½¿ã†ã‚ˆã‚Šã‚‚æ¥½ã«æ§‹ç¯‰ã§ãã‚‹ã¨æ€ã„ãã‚„ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸è¶³ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™å‘¨ã‚Šã®å•é¡Œã§çµæ§‹ç•™æ„ã™ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã®ã§è«¦ã‚ã¾ã—ãŸ...\nï¼ˆã¡ãªãã®æ®‹éª¸ã¯[ã“ã¡ã‚‰](https://github.com/yktakaha4/lambda-docker-puppeteer)ã«ã‚ã‚Šã¾ã™âš°ï¸ï¼‰\n\nå¾“æ¥å®Ÿè¡Œç’°å¢ƒã®å¾®å¦™ãªå·®ç•°ã«æ‚©ã¾ã•ã‚Œã‚‹ã“ã¨ã‚‚ã¡ã‚‡ã„ã¡ã‚‡ã„ã‚ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™ãŒã€\nä»Šå¾Œã‚³ãƒ³ãƒ†ãƒŠãƒ™ãƒ¼ã‚¹ã®ç’°å¢ƒã§é–‹ç™ºãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨åˆ©ä¾¿æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å¼•ãç¶šãå‹•å‘ã‚’è¿½ã£ã¦ã„ããŸã„ã§ã™ã­ğŸ¦ŒğŸ¦ŒğŸ…ğŸ\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-12-18T03:25:49+09:00",
      "group": null,
      "id": "ead117870617f45c70d5",
      "likes_count": 3,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 1,
      "tags": [
        {
          "name": "TypeScript",
          "versions": []
        },
        {
          "name": "Docker",
          "versions": []
        },
        {
          "name": "lambda",
          "versions": []
        },
        {
          "name": "ServerlessFramework",
          "versions": []
        },
        {
          "name": "GitHubActions",
          "versions": []
        }
      ],
      "title": "Serverless Frameworkã§Lambdaã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã™ã‚‹",
      "updated_at": "2020-12-25T07:02:42+09:00",
      "url": "https://qiita.com/yktakaha4/items/ead117870617f45c70d5",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ã“ã¡ã‚‰ã¯ã€<a href=\"https://qiita.com/advent-calendar/2020/typescript\">TypeScript Advent Calendar 2020</a> 14æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼</p>\n\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>æœ€è¿‘ã€å€‹äººã§ã®é–‹ç™ºã«ã¦TypeScriptã‚’é¸å®šã™ã‚‹ã“ã¨ãŒå¤šããªã‚Šã€ãã®ä¸­ã§ <a href=\"https://nestjs.com/\" rel=\"nofollow noopener\" target=\"_blank\">NestJS</a> ã‚’ä½¿ã£ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®APIã‚’æ§‹ç¯‰ã™ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã§ã™ãŒã€<br>\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ<a href=\"https://ja.nuxtjs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Nuxt.js</a>ã§ä½œã£ãŸSPAï¼‰ã¨ã®é€šä¿¡ã«ã¤ã„ã¦ã€å‰²ã¨ã„ã„æ„Ÿã˜ã«ä½œã‚ŒãŸæ°—ãŒã—ãŸã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ãŸã„ã¨æ€ã„ã¾ã™âœï¸</p>\n\n<h1>\n<span id=\"ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%82%E3%81%AE%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹</h1>\n\n<p>Webã‚¢ãƒ—ãƒªã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã§ã®é€šä¿¡ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã“ã¨ã‚’å®Ÿç¾ã—ãŸã„ã¨ã„ã†æ°—æŒã¡ãŒã‚ã‚Šã¾ã—ãŸ</p>\n\n<ul>\n<li>\n<code>ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å‹ä»˜ã‘</code> ã—ãŸã„ğŸ’ª\n\n<ul>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆ/ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŒæ–¹ã®TSã§ã€Interfaceãªã‚ŠClassãªã‚Šã«å€¤ãŒè©°ã‚ã‚‰ã‚ŒãŸDTOã‚’æ‰±ã„ãŸã„</li>\n<li>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§å®šç¾©ã—ãŸå‹ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã§ã‚‚ä½¿ã„ãŸã„\n\n<ul>\n<li>I/Fã®æ›´æ–°ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã‹ã‚‰ã„ã„æ„Ÿã˜ã«å–ã‚Šè¾¼ã¿ãŸã„</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ä¸Šã§<code>APIã§ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã—ãŸããªã„</code> ğŸª¨\n\n<ul>\n<li>ãƒ‘ã‚¹ã¨ã‹HTTPãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‹ã¯éš è”½ã—ã¦ã€TSä¸Šã§ã¯é–¢æ•°å‘¼ã³å‡ºã—ã§ä½¿ã„ãŸã„</li>\n<li>ãŸã ã—ã€Cookieã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã‚„ç’°å¢ƒæ¯ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…ˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ†ã‘ã‚‹ãªã©ã€å¿…è¦ãŒã‚ã‚Œã°HTTPä¸Šã®æŒ™å‹•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„</li>\n</ul>\n</li>\n<li>\n<code>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’è¿”å´</code> ã—ãŸã„ğŸŸ\n\n<ul>\n<li>é …ç›®æ¯ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã—ãŸã„\n\n<ul>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆã§ã‚‚ã‚ˆã—ãªã«ã‚„ã‚‹ãŒã€ç‰¹ã«ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§æœŸå¾…ã—ãªã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã¨ã—ãŸã„</li>\n</ul>\n</li>\n<li>æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’ã„ã„æ„Ÿã˜ã«è¿”å´ã—ãŸã„\n\n<ul>\n<li>IDã«ç´ã¥ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒDBã‹ã‚‰å–ã‚Œãªã‹ã£ãŸ...ã¨ã‹</li>\n<li>1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦Nå€‹ã®æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ãŸã„\n\n<ul>\n<li>è¿”ã•ã‚ŒãŸæ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã§è­˜åˆ¥ã—ã€å‡¦ç†ï¼ˆã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã€ç„¡è¦–ãªã©ï¼‰ã‚’ãŠã“ãªã„ãŸã„</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ç­‰ã¯ä¾‹å¤–ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ãŸã„</li>\n</ul>\n</li>\n</ul>\n\n<p>ä¸Šè¨˜ã®å®Ÿç¾ã«ã‚ãŸã‚ŠNestJSã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã¿ã¦ã„ãã¨ã€ <a href=\"https://docs.nestjs.com/openapi/introduction\" rel=\"nofollow noopener\" target=\"_blank\">OpenAPI</a> ã®ç« ã®è¨˜è¿°ãŒå½¹ç«‹ã¡ãã†ã§ã™ãŒã€<br>\nã‚„ã£ã¦ãã‚Œã‚‹ã®ã¯OpenAPIã®å®šç¾©ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã¨ã“ã‚ã¾ã§ãªã®ã§ã€ãã“ã‹ã‚‰APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½œæˆã¨ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã‹ã‚‰ã®èª­ã¿è¾¼ã¿ã‚’ã©ã®ã‚ˆã†ã«è¡Œã†ã‹æ¤œè¨ã—ã¾ã—ãŸ</p>\n\n<p>ãªãŠã€æœ¬ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ã‚‚å‹å®‰å…¨ãªé€šä¿¡ã®æ–¹æ³•ã¨ã—ã¦ <a href=\"https://qiita.com/mikan3rd/items/3f46b1edcb79ad63deef\" id=\"reference-e0bccdf12305ce2e49db\">GraphQLã‚’ä½¿ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³</a> ã‚’æ›¸ã‹ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ã¾ã™ã®ã§ã€ä½µã›ã¦ã”è¦§ã„ãŸã ãã¨æ¯”è¼ƒãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“<br>\nï¼ˆç§ã¯ã€é–‹ç™ºæ™‚ã«GraphQLã«å¯¾ã™ã‚‹çŸ¥è¦‹ãŒãªã‹ã£ãŸã®ã¨ã€ä½œã‚ŠãŸã„ã‚‚ã®ã«å¯¾ã—ã¦ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯æ°—å‘³ã«æ„Ÿã˜ãŸãŸã‚ä»Šå›ã¯æ¡ç”¨ã‚’è¦‹é€ã‚Šã¾ã—ãŸï¼‰</p>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ğŸ”<br>\nã‚µãƒ³ãƒ—ãƒ«ã«ãªã‚Šãã†ãªéƒ¨åˆ†ã®ã¿æŠœãå‡ºã—ã¦ã„ã¾ã™<br>\n<a href=\"https://github.com/yktakaha4/nestjs-typed-client\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/yktakaha4/nestjs-typed-client</a></p>\n\n<p><code>/backend</code> ã«NestJSã§ä½œã£ãŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€ <code>/frontend</code> ã«Reactã§ä½œã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™<br>\nå®Ÿéš›ã«ä½œã£ãŸã‚‚ã®ã§ã¯åˆ¥ã€…ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã¦ç®¡ç†ã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ç°¡ä¾¿ã®ãŸã‚ã²ã¨ã¤ã«ã¾ã¨ã‚ã¾ã—ãŸ</p>\n\n<p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆã‹ã‚‰ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å–ã‚Šè¾¼ã¿ã‚’å›³ã«ã—ãŸã‚‚ã®ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ğŸ¦‘<br>\nã‚°ãƒ¬ãƒ¼ã®ç‚¹ç·šãŒã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®é–¢é€£ã€ã‚ªãƒ¬ãƒ³ã‚¸ã®ç‚¹ç·šãŒå®Ÿéš›ã®é€šä¿¡ã®é–¢é€£ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/463178918345172373a0f3c783bacd2ce16759a4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f66363764363830392d303465352d373332332d333136372d3635643234613337383764332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Ff67d6809-04e5-7323-3167-65d24a3787d3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=98ac88464063a5ce5e32041410fa91fb\" alt=\"archtecture.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/f67d6809-04e5-7323-3167-65d24a3787d3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Ff67d6809-04e5-7323-3167-65d24a3787d3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c2774507eccef55585b2cfe284b2c2f6 1x\" loading=\"lazy\"></a></p>\n\n<p>æµã‚Œã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™<br>\nãªãŠã€ä»Šå›ã¯ 2.ã§ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã« <code>typescript-axios</code> ã‚’é¸æŠã—ã¾ã—ãŸãŒã€ <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/docs/generators#client-generators\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a> ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰ä»»æ„ã«é¸æŠå¯èƒ½ã§ã™</p>\n\n<ol>\n<li>NestJSã«ã¦ <a href=\"https://github.com/nestjs/swagger\" rel=\"nofollow noopener\" target=\"_blank\">@nestjs/swagger</a> ã«ã¦ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®šç¾©ã—ã€OpenAPIã®yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹</li>\n<li>\n<a href=\"https://github.com/OpenAPITools/openapi-generator-cli\" rel=\"nofollow noopener\" target=\"_blank\">@openapitools/openapi-generator-cli</a> ã«ã¦ã€1.ã§ä½œæˆã—ãŸyamlãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰TypeScriptã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹</li>\n<li>GitHub Actionsã‚’ç”¨ã„ã¦ã€tagãŒpushã•ã‚ŒãŸï¼ˆâ‰’Releaseã‚’ä½œæˆã—ãŸï¼‰æ™‚ã€APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’tscã«ã¦ãƒ“ãƒ«ãƒ‰ã— <code>GitHub Packages Registry</code> ã«ç™»éŒ²ã™ã‚‹</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ <code>npm install @xxxxx/sample-backend-client</code> ã®å½¢ã§èª­ã¿è¾¼ã‚“ã§åˆ©ç”¨ã™ã‚‹</li>\n</ol>\n\n<h2>\n<span id=\"ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸdtoã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%8E%E3%83%86%E3%83%BC%E3%83%88%E3%81%97%E3%81%9Fdto%E3%81%A8%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%AE%E5%AE%9A%E7%BE%A9\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©</h2>\n\n<p>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å®šç¾©ã—ã¾ã™<br>\né•·ããªã‚‹ã®ã§ä¸€éƒ¨ã®ã¿æŠœç²‹ã—ã¾ã™ãŒã€ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã¯<a href=\"https://github.com/yktakaha4/nestjs-typed-client/blob/master/backend/src/app.error.ts\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã®å®šç¾©ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">EmptyNameError</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ç©ºã®åå‰ã‚’ç¤ºã™ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span> <span class=\"na\">enum</span><span class=\"p\">:</span> <span class=\"nx\">EmptyNameErrorType</span> <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"kd\">type</span> <span class=\"o\">=</span> <span class=\"nx\">EmptyNameErrorType</span><span class=\"p\">.</span><span class=\"nx\">Value</span><span class=\"p\">;</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span> <span class=\"na\">enum</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span> <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">parameter</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">parameter</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">=</span> <span class=\"nx\">parameter</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">VulgarNameError</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ä¸‹å“ãªåå‰ã‚’ç¤ºã™ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span> <span class=\"na\">enum</span><span class=\"p\">:</span> <span class=\"nx\">VulgarNameErrorType</span> <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"kd\">type</span> <span class=\"o\">=</span> <span class=\"nx\">VulgarNameErrorType</span><span class=\"p\">.</span><span class=\"nx\">Value</span><span class=\"p\">;</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span> <span class=\"na\">enum</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span> <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">parameter</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span><span class=\"p\">;</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">()</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">vulgarWord</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">parameter</span><span class=\"p\">:</span> <span class=\"nx\">GreetParameter</span><span class=\"p\">,</span> <span class=\"nx\">vulgarWord</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">=</span> <span class=\"nx\">parameter</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">vulgarWord</span> <span class=\"o\">=</span> <span class=\"nx\">vulgarWord</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">type</span> <span class=\"nx\">GreetErrors</span> <span class=\"o\">=</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">EmptyNameError</span> <span class=\"o\">|</span> <span class=\"nx\">VulgarNameError</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¯ãƒ©ã‚¹ã¸ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">GreetRequest</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">()</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">lastName</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">;</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">()</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">firstName</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">lastName</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">,</span> <span class=\"nx\">firstName</span><span class=\"p\">:</span> <span class=\"kr\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lastName</span> <span class=\"o\">=</span> <span class=\"nx\">lastName</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">firstName</span> <span class=\"o\">=</span> <span class=\"nx\">firstName</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"p\">@</span><span class=\"nd\">ApiExtraModels</span><span class=\"p\">(</span><span class=\"nx\">EmptyNameError</span><span class=\"p\">,</span> <span class=\"nx\">VulgarNameError</span><span class=\"p\">)</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">GreetResponse</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span> <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">,</span> <span class=\"na\">nullable</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">message</span><span class=\"p\">:</span> <span class=\"kr\">string</span> <span class=\"o\">|</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiProperty</span><span class=\"p\">({</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">array</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n    <span class=\"na\">items</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">oneOf</span><span class=\"p\">:</span> <span class=\"nx\">greetErrorSchemaPaths</span> <span class=\"p\">},</span>\n  <span class=\"p\">})</span>\n  <span class=\"k\">readonly</span> <span class=\"nx\">errors</span><span class=\"p\">:</span> <span class=\"nx\">GreetErrors</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">:</span> <span class=\"kr\">string</span> <span class=\"o\">|</span> <span class=\"kc\">null</span><span class=\"p\">,</span> <span class=\"nx\">errors</span><span class=\"p\">:</span> <span class=\"nx\">GreetErrors</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"nx\">message</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">errors</span> <span class=\"o\">=</span> <span class=\"nx\">errors</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ã§ã™<br>\n<code>@ApiOkResponse</code> ã«ã‚ˆã£ã¦ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã‚’æŒ‡å®šã—ã¾ã™ã€‚ <code>@ApiOperation</code> ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ç”Ÿæˆã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰åã‚’æŒ‡å®šã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">@</span><span class=\"nd\">ApiTags</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">App</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n<span class=\"p\">@</span><span class=\"nd\">Controller</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppController</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"k\">private</span> <span class=\"k\">readonly</span> <span class=\"nx\">appService</span><span class=\"p\">:</span> <span class=\"nx\">AppService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"p\">@</span><span class=\"nd\">ApiOkResponse</span><span class=\"p\">({</span> <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">GreetResponse</span> <span class=\"p\">})</span>\n  <span class=\"p\">@</span><span class=\"nd\">ApiOperation</span><span class=\"p\">({</span> <span class=\"na\">operationId</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">greet</span><span class=\"dl\">'</span> <span class=\"p\">})</span>\n  <span class=\"p\">@</span><span class=\"nd\">Post</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">greet</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n  <span class=\"p\">@</span><span class=\"nd\">HttpCode</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n  <span class=\"nx\">greet</span><span class=\"p\">(@</span><span class=\"nd\">Body</span><span class=\"p\">()</span> <span class=\"nx\">request</span><span class=\"p\">:</span> <span class=\"nx\">GreetRequest</span><span class=\"p\">):</span> <span class=\"nx\">GreetResponse</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// å…¥åŠ›ãƒã‚§ãƒƒã‚¯</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">errors</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">appService</span><span class=\"p\">.</span><span class=\"nx\">validateGreetRequest</span><span class=\"p\">(</span><span class=\"nx\">request</span><span class=\"p\">);</span>\n\n    <span class=\"kd\">let</span> <span class=\"nx\">message</span><span class=\"p\">:</span> <span class=\"kr\">string</span> <span class=\"o\">|</span> <span class=\"kc\">null</span> <span class=\"o\">=</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">errors</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">===</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—</span>\n      <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">appService</span><span class=\"p\">.</span><span class=\"nx\">getGreetingMessage</span><span class=\"p\">(</span><span class=\"nx\">request</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"k\">new</span> <span class=\"nx\">GreetResponse</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">,</span> <span class=\"nx\">errors</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>NestJSã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•ã¯<a href=\"https://qiita.com/yktakaha4/items/97ea169ed97dbcdd25fb\" id=\"reference-2e250818221dc4026861\">ã“ã¡ã‚‰</a> ã§ã‚‚èª¬æ˜ã—ã¦ã„ã¾ã™<br>\nã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cd</span> ./backend\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm run openapi:export\n</code></pre></div></div>\n\n<h2>\n<span id=\"yamlãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ\" class=\"fragment\"></span><a href=\"#yaml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8B%E3%82%89%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E7%94%9F%E6%88%90\"><i class=\"fa fa-link\"></i></a>yamlãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ</h2>\n\n<p>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ†ã‘ã‚‹ãŸã‚ã€ <code>./backend/client</code> é…ä¸‹ã«npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”¨ã®ä¸€å¼ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cd</span> ./backend/client\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm ci\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm run generate\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm run build\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>run generateæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰\n<span class=\"gp\">#</span><span class=\"w\"> </span>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç­‰ã¯ä»¥ä¸‹å‚ç…§\n<span class=\"gp\">#</span><span class=\"w\"> </span>https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/typescript-axios.md\n<span class=\"gp\">#</span><span class=\"w\"> </span><span class=\"nv\">JAVA_OPTS</span><span class=\"o\">=</span><span class=\"s2\">\"-Dlog.level=warn\"</span> openapi-generator generate <span class=\"nt\">-i</span> sample-backend.yml <span class=\"nt\">-o</span> lib/ <span class=\"nt\">-g</span> typescript-axios <span class=\"nt\">--api-package</span><span class=\"o\">=</span>api <span class=\"nt\">--model-package</span><span class=\"o\">=</span>models <span class=\"nt\">--additional-properties</span><span class=\"o\">=</span><span class=\"nv\">supportsES6</span><span class=\"o\">=</span><span class=\"nb\">true</span>,withSeparateModelsAndApi<span class=\"o\">=</span><span class=\"nb\">true</span>\n</code></pre></div></div>\n\n<h2>\n<span id=\"npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹\" class=\"fragment\"></span><a href=\"#npm%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E5%85%AC%E9%96%8B\"><i class=\"fa fa-link\"></i></a>npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹</h2>\n\n<p>GitHub Actionsã«ã¦ã€ <code>client.*</code> ã¨ã„ã†å½¢å¼ã®ã‚¿ã‚°ãŒæ‰“ãŸã‚ŒãŸã‚‰ä»¥ä¸‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™<br>\nnpm publishæ™‚ã«ã€ç”Ÿæˆã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã‚’ä¸€æ„ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ä»Šå›ã¯<a href=\"https://github.com/yktakaha4/nestjs-typed-client/blob/master/backend/client/set-package-version.js\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã™<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€æ„æ€§ã‚’ä¿è¨¼ã§ãã‚Œã°ååˆ†ã ã£ãŸã®ã§ã€ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯è€ƒæ…®ã›ãšã«ã€ <code>0.0.1-${ã‚¿ã‚°å}</code> ã®å½¢å¼ã§å…¬é–‹ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ</p>\n\n<p>ã¡ãªã¿ã«ã€ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¤ã„ã¦ã¯ã€GitHub ActionsãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æŒ‡å®šã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“<br>\nï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã‚’è¡Œã†å´ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿æ¨©é™ã®ã‚ã‚‹ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®ç™ºè¡ŒãŒå¿…è¦ã«ãªã‚Šã¾ã™ï¼‰</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">publish-client.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Publish client</span>\n\n<span class=\"na\">on</span><span class=\"pi\">:</span>\n  <span class=\"na\">push</span><span class=\"pi\">:</span>\n    <span class=\"na\">tags</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">client.*</span>\n\n<span class=\"na\">jobs</span><span class=\"pi\">:</span>\n  <span class=\"na\">publish</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Publish client</span>\n    <span class=\"na\">runs-on</span><span class=\"pi\">:</span> <span class=\"s\">ubuntu-18.04</span>\n    <span class=\"na\">timeout-minutes</span><span class=\"pi\">:</span> <span class=\"m\">3</span>\n    <span class=\"na\">steps</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/checkout@v2</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/setup-node@v1</span>\n        <span class=\"na\">with</span><span class=\"pi\">:</span>\n          <span class=\"na\">node-version</span><span class=\"pi\">:</span> <span class=\"s\">12.x</span>\n          <span class=\"na\">registry-url</span><span class=\"pi\">:</span> <span class=\"s\">https://npm.pkg.github.com/</span>\n          <span class=\"na\">scope</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">@yktakaha4\"</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm ci</span>\n        <span class=\"na\">working-directory</span><span class=\"pi\">:</span> <span class=\"s\">./backend</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm run openapi:export</span>\n        <span class=\"na\">working-directory</span><span class=\"pi\">:</span> <span class=\"s\">./backend</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm ci</span>\n        <span class=\"na\">working-directory</span><span class=\"pi\">:</span> <span class=\"s\">./backend/client</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm run version $GH_REF</span>\n        <span class=\"na\">working-directory</span><span class=\"pi\">:</span> <span class=\"s\">./backend/client</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">GH_REF</span><span class=\"pi\">:</span> <span class=\"s\">${{ github.ref }}</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm publish</span>\n        <span class=\"na\">working-directory</span><span class=\"pi\">:</span> <span class=\"s\">./backend/client</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">NODE_AUTH_TOKEN</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.GITHUB_TOKEN }}</span>\n</code></pre></div>\n</div>\n\n<p>ä¸Šè¨˜ã«åŸºã¥ã„ã¦ç”Ÿæˆã•ã‚ŒãŸnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€<a href=\"https://github.com/yktakaha4/nestjs-typed-client/packages/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a> ã«ã¦å…¬é–‹ã•ã‚Œã¾ã™</p>\n\n<h1>\n<span id=\"demo\" class=\"fragment\"></span><a href=\"#demo\"><i class=\"fa fa-link\"></i></a>Demo</h1>\n\n<p>ä»¥ä¸‹ã®æ–¹æ³•ã§èµ·å‹•ã§ãã¾ã™<br>\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ <code>localhost:3100</code>ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ <code>localhost:3000</code> ã§èµ·å‹•ã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cd</span> ./backend\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm ci\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm run start\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¦ï¼‰\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cd</span> ./frontend\n<span class=\"gp\">$</span><span class=\"w\"> </span>yarn <span class=\"nb\">install</span>\n<span class=\"gp\">$</span><span class=\"w\"> </span>yarn start\n</code></pre></div>\n</div>\n\n<p>ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è‹—å­—ã€åå‰ã‚’å…¥åŠ›ã—ã¦ <code>Greet</code> ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æŒ¨æ‹¶ãŒè¿”å´ã•ã‚Œã¾ã™ğŸ‘‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/25ce45631d4a231314337468e9284491df99d831/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30333866313130352d386137352d656435622d613962302d3830626539376462333438322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F038f1105-8a75-ed5b-a9b0-80be97db3482.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=92ba519d5a883f07c7d3c8bb36e04233\" alt=\"åå‰ã‚’å…¥åŠ›\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/038f1105-8a75-ed5b-a9b0-80be97db3482.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F038f1105-8a75-ed5b-a9b0-80be97db3482.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=160b622754d616fa77b11a901ebaac13 1x\" loading=\"lazy\"></a></p>\n\n<p>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ãã‚Œãã‚Œã“ã‚“ãªæ„Ÿã˜ã®ã‚‚ã®ãŒé€å—ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">Request</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"lastName\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"yuuki\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"firstName\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"takahashi\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">Response</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"message\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Hello, Yuuki TAKAHASHI !\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"errors\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®APIå‘¼ã³å‡ºã—ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å‘¼ã³å‡ºã—ã‚µãƒ³ãƒ—ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c1\">// AppApiã‚¯ãƒ©ã‚¹ã¯ npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸã‚‚ã®ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰</span>\n<span class=\"kd\">const</span> <span class=\"nx\">api</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">AppApi</span><span class=\"p\">();</span>\n\n<span class=\"nx\">api</span><span class=\"p\">.</span><span class=\"nx\">greet</span><span class=\"p\">(</span><span class=\"nx\">greetingRequest</span><span class=\"p\">).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">axiosResponse</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">dispatchResponse</span><span class=\"p\">(</span><span class=\"nx\">axiosResponse</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">);</span>\n<span class=\"p\">}).</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">dispatch</span><span class=\"p\">({</span> <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">UPDATE_MESSAGE</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"na\">value</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</code></pre></div>\n</div>\n\n<p>ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãŒã¡ã‚ƒã‚“ã¨åŠ¹ã„ã¦ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/0a7ffbd907f3a954d78c8472e86eaa8cf08c51b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f33373936313532332d623965332d666334362d336230652d3761393666626262656566612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F37961523-b9e3-fc46-3b0e-7a96fbbbeefa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3eb3c344dd9a1aa6215a211754bcc60f\" alt=\"ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/37961523-b9e3-fc46-3b0e-7a96fbbbeefa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F37961523-b9e3-fc46-3b0e-7a96fbbbeefa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=52b16a31ec534d6cad58c1279483fb55 1x\" loading=\"lazy\"></a></p>\n\n<p>å…¥åŠ›ã‚¨ãƒ©ãƒ¼ï¼ˆå€¤ãŒç©º or ä¸‹å“ãªè¨€è‘‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ï¼‰ã‚’ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã§æ¤œè¨¼ã—ã€ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ada15f54c975345b758ec520b421b0a3e09c5c64/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f62356361356334392d333261312d383238332d393061362d3838306232666363623663312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fb5ca5c49-32a1-8283-90a6-880b2fccb6c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7b598a2840db236d0bf05128d0f64042\" alt=\"å…¥åŠ›ã‚¨ãƒ©ãƒ¼\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/b5ca5c49-32a1-8283-90a6-880b2fccb6c1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fb5ca5c49-32a1-8283-90a6-880b2fccb6c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3f650f68a67cca8473e75ecb1fc2cdd8 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">Response</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"message\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"errors\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"EmptyNameError\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"parameter\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"LastName\"</span><span class=\"w\">\n    </span><span class=\"p\">},</span><span class=\"w\">\n    </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"VulgarNameError\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"parameter\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"FirstName\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"vulgarWord\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"shit\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™<br>\nã“ã®ã‚³ãƒ¼ãƒ‰ã ã‘ã§ã¯ã‚ã‹ã‚Šã¥ã‚‰ã„ã§ã™ãŒã€ <code>type</code> ã‚‚ <code>parameter</code> ã‚‚å‹ä»˜ã‘ã•ã‚Œã¦ãŠã‚Šã€ã¾ãŸ <a href=\"https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard\" rel=\"nofollow noopener\" target=\"_blank\">å‹ã‚¬ãƒ¼ãƒ‰</a> ã®åŠ¹æœã«ã‚ˆã‚Š <code>VulgarNameError</code> ã®åˆ¤å®šæ–‡ã®ä¸­ã§ã¯ <code>vulgarWord</code> ãŒå‚ç…§ã§ãã¦ã„ã¾ã™ğŸŒ¿</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®šã‚µãƒ³ãƒ—ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kd\">const</span> <span class=\"nx\">dispatchResponse</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">response</span><span class=\"p\">:</span> <span class=\"nx\">GreetResponse</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”å´ã•ã‚ŒãŸå ´åˆã¯ãã‚Œã‚’è¨­å®š</span>\n    <span class=\"nx\">dispatch</span><span class=\"p\">({</span> <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">UPDATE_MESSAGE</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"na\">value</span><span class=\"p\">:</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// ã•ã‚Œãªã‹ã£ãŸå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦è¨­å®š</span>\n    <span class=\"kd\">const</span> <span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"kr\">string</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kd\">const</span> <span class=\"nx\">error</span> <span class=\"k\">of</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">errors</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"kd\">type</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">EmptyNameError</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">LastName</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">ãƒ»åå‰ã¯ç©ºã«ã§ãã¾ã›ã‚“</span><span class=\"dl\">'</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">FirstName</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">ãƒ»è‹—å­—ã¯ç©ºã«ã§ãã¾ã›ã‚“</span><span class=\"dl\">'</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"kd\">type</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">VulgarNameError</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">LastName</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s2\">`ãƒ»åå‰ã« </span><span class=\"p\">${</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">vulgarWord</span><span class=\"p\">}</span><span class=\"s2\"> ã¯è¨­å®šã§ãã¾ã›ã‚“`</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">parameter</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">FirstName</span><span class=\"dl\">'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s2\">`ãƒ»è‹—å­—ã« </span><span class=\"p\">${</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">vulgarWord</span><span class=\"p\">}</span><span class=\"s2\"> ã¯è¨­å®šã§ãã¾ã›ã‚“`</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"nx\">dispatch</span><span class=\"p\">({</span> <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">UPDATE_MESSAGE</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"na\">value</span><span class=\"p\">:</span> <span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"dl\">''</span><span class=\"p\">)</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n</code></pre></div>\n</div>\n\n<p>ä¸€ã¤æ®‹å¿µãªã®ã¯ã€ç¾æ™‚ç‚¹ã§ã®OpenAPIv3ã§ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸Šã§ãƒªãƒ†ãƒ©ãƒ«å€¤ã‚’è¡¨ç¾ã§ããªã„ãŸã‚ã€ï¼ˆ<a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰ã®Constant Parametersã®é …ã®ã‚ˆã†ã«ã€å˜ä¸€ã®ãƒ¡ãƒ³ãƒã‚’æŒã¤Enumã¨ã—ã¦å®šç¾©ã™ã‚‹å¿…è¦ã‚ã‚Š</a>ï¼‰<br>\nä¸Šè¨˜ã®å‹ã‚¬ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã™ã‚‹ã«ã‚ãŸã‚Šã€ <code>type</code> ã‚’ <code>'EmptyNameError' | 'VulgarNameError'</code> ã®ã‚ˆã†ãªstringã®Unionå‹ã§ã¯å®šç¾©ã§ããšã€è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã¯ <code>EmptyNameErrorTypeEnum | VulgarNameErrorTypeEnum</code> ã®ã‚ˆã†ãªå½¢ã«ãªã‚‹ãŸã‚ã€ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ã‚’åŠ¹ã‹ã›ã‚‹ã“ã¨ãŒã§ããšã«ã„ã¾ã™<br>\nå€¤ã®æ¤œè¨¼ã¯æ­£ã—ãã§ãã‚‹ãŸã‚ã€ã“ã‚Œã§ã‚‚å•é¡Œã¯ãªã„ã§ã™ãŒ...<br>\nï¼ˆç§ã®ç†è§£ä¸è¶³ãªã ã‘ã§ã€ã„ã„ã‚„ã‚Šæ–¹ãŒã§ãã‚‹æ°—ã¯ã‚‚ã®ã™ã”ãã—ã¾ã™ğŸ™ƒï¼‰</p>\n\n<p>ã‚ã¨ã€ä»Šå›ã¯æœ¬æ—¨ã‹ã‚‰å¤–ã‚Œã‚‹ãŸã‚å‰²æ„›ã—ã¦ã„ã¾ã™ãŒã€é …ç›®æ¯ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯<a href=\"https://docs.nestjs.com/techniques/validation#validation\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’ä½¿ã†ã¨ã„ã„æ„Ÿã˜ã«ã§ãã‚‹ã®ã§ã€ä½µã›ã¦å°å…¥ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™</p>\n\n<h1>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h1>\n\n<p>ã²ã¨ã¤ã„ã„å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä½œã‚ŒãŸæ°—ãŒã™ã‚‹ã®ã§ã€ä»–ã®ã‚„ã‚Šæ–¹ï¼ˆå…ˆã»ã©èª¬æ˜ã—ãŸGraphQLã‚„ã€<a href=\"https://github.com/frouriojs/frourio\" rel=\"nofollow noopener\" target=\"_blank\">frourio</a>ãªã‚“ã‹ã‚‚ãã†ãªã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼‰ã«ã¤ã„ã¦ã‚‚æŒ‘æˆ¦ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ï¼</p>\n",
      "body": "ã“ã¡ã‚‰ã¯ã€[TypeScript Advent Calendar 2020](https://qiita.com/advent-calendar/2020/typescript) 14æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼\n\n# ã¯ã˜ã‚ã«\n\næœ€è¿‘ã€å€‹äººã§ã®é–‹ç™ºã«ã¦TypeScriptã‚’é¸å®šã™ã‚‹ã“ã¨ãŒå¤šããªã‚Šã€ãã®ä¸­ã§ [NestJS](https://nestjs.com/) ã‚’ä½¿ã£ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®APIã‚’æ§‹ç¯‰ã™ã‚‹æ©Ÿä¼šãŒã‚ã£ãŸã®ã§ã™ãŒã€\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ[Nuxt.js](https://ja.nuxtjs.org/)ã§ä½œã£ãŸSPAï¼‰ã¨ã®é€šä¿¡ã«ã¤ã„ã¦ã€å‰²ã¨ã„ã„æ„Ÿã˜ã«ä½œã‚ŒãŸæ°—ãŒã—ãŸã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ãŸã„ã¨æ€ã„ã¾ã™âœï¸\n\n# ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\n\nWebã‚¢ãƒ—ãƒªã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã§ã®é€šä¿¡ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã“ã¨ã‚’å®Ÿç¾ã—ãŸã„ã¨ã„ã†æ°—æŒã¡ãŒã‚ã‚Šã¾ã—ãŸ\n\n- `ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å‹ä»˜ã‘` ã—ãŸã„ğŸ’ª\n    - ãƒ•ãƒ­ãƒ³ãƒˆ/ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŒæ–¹ã®TSã§ã€Interfaceãªã‚ŠClassãªã‚Šã«å€¤ãŒè©°ã‚ã‚‰ã‚ŒãŸDTOã‚’æ‰±ã„ãŸã„\n    - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§å®šç¾©ã—ãŸå‹ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã§ã‚‚ä½¿ã„ãŸã„\n        - I/Fã®æ›´æ–°ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã‹ã‚‰ã„ã„æ„Ÿã˜ã«å–ã‚Šè¾¼ã¿ãŸã„\n- ãƒ•ãƒ­ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ä¸Šã§`APIã§ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã—ãŸããªã„` ğŸª¨\n    - ãƒ‘ã‚¹ã¨ã‹HTTPãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‹ã¯éš è”½ã—ã¦ã€TSä¸Šã§ã¯é–¢æ•°å‘¼ã³å‡ºã—ã§ä½¿ã„ãŸã„\n    - ãŸã ã—ã€Cookieã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã‚„ç’°å¢ƒæ¯ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆå…ˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ†ã‘ã‚‹ãªã©ã€å¿…è¦ãŒã‚ã‚Œã°HTTPä¸Šã®æŒ™å‹•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„\n- `ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’è¿”å´` ã—ãŸã„ğŸŸ\n    - é …ç›®æ¯ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã—ãŸã„\n        - ãƒ•ãƒ­ãƒ³ãƒˆã§ã‚‚ã‚ˆã—ãªã«ã‚„ã‚‹ãŒã€ç‰¹ã«ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§æœŸå¾…ã—ãªã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã¨ã—ãŸã„\n    - æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’ã„ã„æ„Ÿã˜ã«è¿”å´ã—ãŸã„\n        - IDã«ç´ã¥ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒDBã‹ã‚‰å–ã‚Œãªã‹ã£ãŸ...ã¨ã‹\n        - 1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦Nå€‹ã®æ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ãŸã„\n            - è¿”ã•ã‚ŒãŸæ¥­å‹™ã‚¨ãƒ©ãƒ¼ã‚’ãƒ•ãƒ­ãƒ³ãƒˆå´ã§è­˜åˆ¥ã—ã€å‡¦ç†ï¼ˆã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã€ç„¡è¦–ãªã©ï¼‰ã‚’ãŠã“ãªã„ãŸã„\n    - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ç­‰ã¯ä¾‹å¤–ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ãŸã„\n\nä¸Šè¨˜ã®å®Ÿç¾ã«ã‚ãŸã‚ŠNestJSã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã¿ã¦ã„ãã¨ã€ [OpenAPI](https://docs.nestjs.com/openapi/introduction) ã®ç« ã®è¨˜è¿°ãŒå½¹ç«‹ã¡ãã†ã§ã™ãŒã€\nã‚„ã£ã¦ãã‚Œã‚‹ã®ã¯OpenAPIã®å®šç¾©ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã¨ã“ã‚ã¾ã§ãªã®ã§ã€ãã“ã‹ã‚‰APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½œæˆã¨ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´ã‹ã‚‰ã®èª­ã¿è¾¼ã¿ã‚’ã©ã®ã‚ˆã†ã«è¡Œã†ã‹æ¤œè¨ã—ã¾ã—ãŸ\n\nãªãŠã€æœ¬ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ã‚‚å‹å®‰å…¨ãªé€šä¿¡ã®æ–¹æ³•ã¨ã—ã¦ [GraphQLã‚’ä½¿ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³](https://qiita.com/mikan3rd/items/3f46b1edcb79ad63deef) ã‚’æ›¸ã‹ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ã¾ã™ã®ã§ã€ä½µã›ã¦ã”è¦§ã„ãŸã ãã¨æ¯”è¼ƒãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“\nï¼ˆç§ã¯ã€é–‹ç™ºæ™‚ã«GraphQLã«å¯¾ã™ã‚‹çŸ¥è¦‹ãŒãªã‹ã£ãŸã®ã¨ã€ä½œã‚ŠãŸã„ã‚‚ã®ã«å¯¾ã—ã¦ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯æ°—å‘³ã«æ„Ÿã˜ãŸãŸã‚ä»Šå›ã¯æ¡ç”¨ã‚’è¦‹é€ã‚Šã¾ã—ãŸï¼‰\n\n# ä½œã£ãŸã‚‚ã®\n\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ğŸ”\nã‚µãƒ³ãƒ—ãƒ«ã«ãªã‚Šãã†ãªéƒ¨åˆ†ã®ã¿æŠœãå‡ºã—ã¦ã„ã¾ã™\nhttps://github.com/yktakaha4/nestjs-typed-client\n\n`/backend` ã«NestJSã§ä½œã£ãŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€ `/frontend` ã«Reactã§ä½œã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™\nå®Ÿéš›ã«ä½œã£ãŸã‚‚ã®ã§ã¯åˆ¥ã€…ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã¦ç®¡ç†ã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ç°¡ä¾¿ã®ãŸã‚ã²ã¨ã¤ã«ã¾ã¨ã‚ã¾ã—ãŸ\n\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆã‹ã‚‰ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å–ã‚Šè¾¼ã¿ã‚’å›³ã«ã—ãŸã‚‚ã®ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ğŸ¦‘\nã‚°ãƒ¬ãƒ¼ã®ç‚¹ç·šãŒã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®é–¢é€£ã€ã‚ªãƒ¬ãƒ³ã‚¸ã®ç‚¹ç·šãŒå®Ÿéš›ã®é€šä¿¡ã®é–¢é€£ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™\n\n![archtecture.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/f67d6809-04e5-7323-3167-65d24a3787d3.png)\n\næµã‚Œã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™\nãªãŠã€ä»Šå›ã¯ 2.ã§ç”Ÿæˆã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã« `typescript-axios` ã‚’é¸æŠã—ã¾ã—ãŸãŒã€ [ã“ã¡ã‚‰](https://github.com/OpenAPITools/openapi-generator/tree/master/docs/generators#client-generators) ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰ä»»æ„ã«é¸æŠå¯èƒ½ã§ã™\n\n1. NestJSã«ã¦ [@nestjs/swagger](https://github.com/nestjs/swagger) ã«ã¦ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®šç¾©ã—ã€OpenAPIã®yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹\n2. [@openapitools/openapi-generator-cli](https://github.com/OpenAPITools/openapi-generator-cli) ã«ã¦ã€1.ã§ä½œæˆã—ãŸyamlãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰TypeScriptã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹\n3. GitHub Actionsã‚’ç”¨ã„ã¦ã€tagãŒpushã•ã‚ŒãŸï¼ˆâ‰’Releaseã‚’ä½œæˆã—ãŸï¼‰æ™‚ã€APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’tscã«ã¦ãƒ“ãƒ«ãƒ‰ã— `GitHub Packages Registry` ã«ç™»éŒ²ã™ã‚‹\n4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ `npm install @xxxxx/sample-backend-client` ã®å½¢ã§èª­ã¿è¾¼ã‚“ã§åˆ©ç”¨ã™ã‚‹\n\n## ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©\n\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å®šç¾©ã—ã¾ã™\né•·ããªã‚‹ã®ã§ä¸€éƒ¨ã®ã¿æŠœç²‹ã—ã¾ã™ãŒã€ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã¯[ã“ã¡ã‚‰](https://github.com/yktakaha4/nestjs-typed-client/blob/master/backend/src/app.error.ts)ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™\n\n```typescript:ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã®å®šç¾©ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰\nexport class EmptyNameError {\n  // ç©ºã®åå‰ã‚’ç¤ºã™ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n\n  @ApiProperty({ enum: EmptyNameErrorType })\n  readonly type = EmptyNameErrorType.Value;\n\n  @ApiProperty({ enum: GreetParameter })\n  readonly parameter: GreetParameter;\n\n  constructor(parameter: GreetParameter) {\n    this.parameter = parameter;\n  }\n}\n\nexport class VulgarNameError {\n  // ä¸‹å“ãªåå‰ã‚’ç¤ºã™ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n\n  @ApiProperty({ enum: VulgarNameErrorType })\n  readonly type = VulgarNameErrorType.Value;\n\n  @ApiProperty({ enum: GreetParameter })\n  readonly parameter: GreetParameter;\n\n  @ApiProperty()\n  readonly vulgarWord: string;\n\n  constructor(parameter: GreetParameter, vulgarWord: string) {\n    this.parameter = parameter;\n    this.vulgarWord = vulgarWord;\n  }\n}\n\nexport type GreetErrors = Array<EmptyNameError | VulgarNameError>;\n```\n\n```typescript:ã‚¯ãƒ©ã‚¹ã¸ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰\nexport class GreetRequest {\n  @ApiProperty()\n  readonly lastName: string;\n\n  @ApiProperty()\n  readonly firstName: string;\n\n  constructor(lastName: string, firstName: string) {\n    this.lastName = lastName;\n    this.firstName = firstName;\n  }\n}\n\n@ApiExtraModels(EmptyNameError, VulgarNameError)\nexport class GreetResponse {\n  @ApiProperty({ type: String, nullable: true })\n  readonly message: string | null;\n\n  @ApiProperty({\n    type: 'array',\n    items: { oneOf: greetErrorSchemaPaths },\n  })\n  readonly errors: GreetErrors;\n\n  constructor(message: string | null, errors: GreetErrors) {\n    this.message = message;\n    this.errors = errors;\n  }\n}\n```\n\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ã§ã™\n`@ApiOkResponse` ã«ã‚ˆã£ã¦ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ãŸDTOã‚’æŒ‡å®šã—ã¾ã™ã€‚ `@ApiOperation` ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ç”Ÿæˆã•ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰åã‚’æŒ‡å®šã§ãã¾ã™\n\n```typescript:ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰\n@ApiTags('App')\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @ApiOkResponse({ type: GreetResponse })\n  @ApiOperation({ operationId: 'greet' })\n  @Post('greet')\n  @HttpCode(200)\n  greet(@Body() request: GreetRequest): GreetResponse {\n    // å…¥åŠ›ãƒã‚§ãƒƒã‚¯\n    const errors = this.appService.validateGreetRequest(request);\n\n    let message: string | null = null;\n    if (errors.length === 0) {\n      // ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—\n      message = this.appService.getGreetingMessage(request);\n    }\n\n    return new GreetResponse(message, errors);\n  }\n}\n```\n\nNestJSã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•ã¯[ã“ã¡ã‚‰](https://qiita.com/yktakaha4/items/97ea169ed97dbcdd25fb) ã§ã‚‚èª¬æ˜ã—ã¦ã„ã¾ã™\nã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹\n\n```terminal\n$ cd ./backend\n$ npm run openapi:export\n```\n\n## yamlãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ\n\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ†ã‘ã‚‹ãŸã‚ã€ `./backend/client` é…ä¸‹ã«npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”¨ã®ä¸€å¼ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™\n\n```terminal\n$ cd ./backend/client\n$ npm ci\n$ npm run generate\n$ npm run build\n\n# run generateæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰\n# ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç­‰ã¯ä»¥ä¸‹å‚ç…§\n# https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/typescript-axios.md\n# JAVA_OPTS=\"-Dlog.level=warn\" openapi-generator generate -i sample-backend.yml -o lib/ -g typescript-axios --api-package=api --model-package=models --additional-properties=supportsES6=true,withSeparateModelsAndApi=true\n```\n\n## npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹\n\nGitHub Actionsã«ã¦ã€ `client.*` ã¨ã„ã†å½¢å¼ã®ã‚¿ã‚°ãŒæ‰“ãŸã‚ŒãŸã‚‰ä»¥ä¸‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™\nnpm publishæ™‚ã«ã€ç”Ÿæˆã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã‚’ä¸€æ„ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ä»Šå›ã¯[ã“ã¡ã‚‰](https://github.com/yktakaha4/nestjs-typed-client/blob/master/backend/client/set-package-version.js)ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã™\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€æ„æ€§ã‚’ä¿è¨¼ã§ãã‚Œã°ååˆ†ã ã£ãŸã®ã§ã€ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯è€ƒæ…®ã›ãšã«ã€ `0.0.1-${ã‚¿ã‚°å}` ã®å½¢å¼ã§å…¬é–‹ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ\n\nã¡ãªã¿ã«ã€ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¤ã„ã¦ã¯ã€GitHub ActionsãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æŒ‡å®šã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“\nï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã‚’è¡Œã†å´ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿æ¨©é™ã®ã‚ã‚‹ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®ç™ºè¡ŒãŒå¿…è¦ã«ãªã‚Šã¾ã™ï¼‰\n\n```yaml:publish-client.yml\nname: Publish client\n\non:\n  push:\n    tags:\n      - client.*\n\njobs:\n  publish:\n    name: Publish client\n    runs-on: ubuntu-18.04\n    timeout-minutes: 3\n    steps:\n      - uses: actions/checkout@v2\n\n      - uses: actions/setup-node@v1\n        with:\n          node-version: 12.x\n          registry-url: https://npm.pkg.github.com/\n          scope: \"@yktakaha4\"\n\n      - run: npm ci\n        working-directory: ./backend\n\n      - run: npm run openapi:export\n        working-directory: ./backend\n\n      - run: npm ci\n        working-directory: ./backend/client\n\n      - run: npm run version $GH_REF\n        working-directory: ./backend/client\n        env:\n          GH_REF: ${{ github.ref }}\n\n      - run: npm publish\n        working-directory: ./backend/client\n        env:\n          NODE_AUTH_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n```\n\nä¸Šè¨˜ã«åŸºã¥ã„ã¦ç”Ÿæˆã•ã‚ŒãŸnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€[ã“ã¡ã‚‰](https://github.com/yktakaha4/nestjs-typed-client/packages/) ã«ã¦å…¬é–‹ã•ã‚Œã¾ã™\n\n# Demo\n\nä»¥ä¸‹ã®æ–¹æ³•ã§èµ·å‹•ã§ãã¾ã™\nãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ `localhost:3100`ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ `localhost:3000` ã§èµ·å‹•ã—ã¾ã™\n\n```terminal:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•\n$ cd ./backend\n$ npm ci\n$ npm run start\n\n# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¦ï¼‰\n$ cd ./frontend\n$ yarn install\n$ yarn start\n```\n\nãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è‹—å­—ã€åå‰ã‚’å…¥åŠ›ã—ã¦ `Greet` ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æŒ¨æ‹¶ãŒè¿”å´ã•ã‚Œã¾ã™ğŸ‘‹\n\n![åå‰ã‚’å…¥åŠ›](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/038f1105-8a75-ed5b-a9b0-80be97db3482.png)\n\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ãã‚Œãã‚Œã“ã‚“ãªæ„Ÿã˜ã®ã‚‚ã®ãŒé€å—ã•ã‚Œã¾ã™\n\n```json:Request\n{\n  \"lastName\": \"yuuki\",\n  \"firstName\": \"takahashi\"\n}\n```\n\n```json:Response\n{\n  \"message\": \"Hello, Yuuki TAKAHASHI !\",\n  \"errors\": []\n}\n```\n\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®APIå‘¼ã³å‡ºã—ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™\n\n```typescript:å‘¼ã³å‡ºã—ã‚µãƒ³ãƒ—ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰\n// AppApiã‚¯ãƒ©ã‚¹ã¯ npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸã‚‚ã®ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰\nconst api = new AppApi();\n\napi.greet(greetingRequest).then((axiosResponse) => {\n  dispatchResponse(axiosResponse.data);\n}).catch((error) => {\n  dispatch({ type: 'UPDATE_MESSAGE', value: String(error) });\n});\n```\n\nã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãŒã¡ã‚ƒã‚“ã¨åŠ¹ã„ã¦ã¾ã™\n\n![ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/37961523-b9e3-fc46-3b0e-7a96fbbbeefa.png)\n\nå…¥åŠ›ã‚¨ãƒ©ãƒ¼ï¼ˆå€¤ãŒç©º or ä¸‹å“ãªè¨€è‘‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ï¼‰ã‚’ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã§æ¤œè¨¼ã—ã€ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†ã—ã¾ã™\n\n![å…¥åŠ›ã‚¨ãƒ©ãƒ¼](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/b5ca5c49-32a1-8283-90a6-880b2fccb6c1.png)\n\n```json:Response\n{\n  \"message\": null,\n  \"errors\": [\n    {\n      \"type\": \"EmptyNameError\",\n      \"parameter\": \"LastName\"\n    },\n    {\n      \"type\": \"VulgarNameError\",\n      \"parameter\": \"FirstName\",\n      \"vulgarWord\": \"shit\"\n    }\n  ]\n}\n```\n\nã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™\nã“ã®ã‚³ãƒ¼ãƒ‰ã ã‘ã§ã¯ã‚ã‹ã‚Šã¥ã‚‰ã„ã§ã™ãŒã€ `type` ã‚‚ `parameter` ã‚‚å‹ä»˜ã‘ã•ã‚Œã¦ãŠã‚Šã€ã¾ãŸ [å‹ã‚¬ãƒ¼ãƒ‰](https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard) ã®åŠ¹æœã«ã‚ˆã‚Š `VulgarNameError` ã®åˆ¤å®šæ–‡ã®ä¸­ã§ã¯ `vulgarWord` ãŒå‚ç…§ã§ãã¦ã„ã¾ã™ğŸŒ¿\n\n```typescript:ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®šã‚µãƒ³ãƒ—ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰\nconst dispatchResponse = (response: GreetResponse) => {\n  if (response.message) {\n    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”å´ã•ã‚ŒãŸå ´åˆã¯ãã‚Œã‚’è¨­å®š\n    dispatch({ type: 'UPDATE_MESSAGE', value: response.message });\n  } else {\n    // ã•ã‚Œãªã‹ã£ãŸå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦è¨­å®š\n    const messages: Array<string> = [];\n    for (const error of response.errors) {\n      if (error.type === 'EmptyNameError') {\n        if (error.parameter === 'LastName') {\n          messages.push('ãƒ»åå‰ã¯ç©ºã«ã§ãã¾ã›ã‚“');\n        } else if (error.parameter === 'FirstName') {\n          messages.push('ãƒ»è‹—å­—ã¯ç©ºã«ã§ãã¾ã›ã‚“');\n        }\n      } else if (error.type === 'VulgarNameError') {\n        if (error.parameter === 'LastName') {\n          messages.push(`ãƒ»åå‰ã« ${error.vulgarWord} ã¯è¨­å®šã§ãã¾ã›ã‚“`);\n        } else if (error.parameter === 'FirstName') {\n          messages.push(`ãƒ»è‹—å­—ã« ${error.vulgarWord} ã¯è¨­å®šã§ãã¾ã›ã‚“`);\n        }\n      }\n    }\n\n    dispatch({ type: 'UPDATE_MESSAGE', value: messages.join('') });\n  }\n};\n```\n\nä¸€ã¤æ®‹å¿µãªã®ã¯ã€ç¾æ™‚ç‚¹ã§ã®OpenAPIv3ã§ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸Šã§ãƒªãƒ†ãƒ©ãƒ«å€¤ã‚’è¡¨ç¾ã§ããªã„ãŸã‚ã€ï¼ˆ[ã“ã¡ã‚‰ã®Constant Parametersã®é …ã®ã‚ˆã†ã«ã€å˜ä¸€ã®ãƒ¡ãƒ³ãƒã‚’æŒã¤Enumã¨ã—ã¦å®šç¾©ã™ã‚‹å¿…è¦ã‚ã‚Š](https://swagger.io/docs/specification/describing-parameters/)ï¼‰\nä¸Šè¨˜ã®å‹ã‚¬ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã™ã‚‹ã«ã‚ãŸã‚Šã€ `type` ã‚’ `'EmptyNameError' | 'VulgarNameError'` ã®ã‚ˆã†ãªstringã®Unionå‹ã§ã¯å®šç¾©ã§ããšã€è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã¯ `EmptyNameErrorTypeEnum | VulgarNameErrorTypeEnum` ã®ã‚ˆã†ãªå½¢ã«ãªã‚‹ãŸã‚ã€ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ã‚’åŠ¹ã‹ã›ã‚‹ã“ã¨ãŒã§ããšã«ã„ã¾ã™\nå€¤ã®æ¤œè¨¼ã¯æ­£ã—ãã§ãã‚‹ãŸã‚ã€ã“ã‚Œã§ã‚‚å•é¡Œã¯ãªã„ã§ã™ãŒ...\nï¼ˆç§ã®ç†è§£ä¸è¶³ãªã ã‘ã§ã€ã„ã„ã‚„ã‚Šæ–¹ãŒã§ãã‚‹æ°—ã¯ã‚‚ã®ã™ã”ãã—ã¾ã™ğŸ™ƒï¼‰\n\nã‚ã¨ã€ä»Šå›ã¯æœ¬æ—¨ã‹ã‚‰å¤–ã‚Œã‚‹ãŸã‚å‰²æ„›ã—ã¦ã„ã¾ã™ãŒã€é …ç›®æ¯ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰](https://docs.nestjs.com/techniques/validation#validation)ã‚’ä½¿ã†ã¨ã„ã„æ„Ÿã˜ã«ã§ãã‚‹ã®ã§ã€ä½µã›ã¦å°å…¥ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™\n\n# ã¾ã¨ã‚\n\nã²ã¨ã¤ã„ã„å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä½œã‚ŒãŸæ°—ãŒã™ã‚‹ã®ã§ã€ä»–ã®ã‚„ã‚Šæ–¹ï¼ˆå…ˆã»ã©èª¬æ˜ã—ãŸGraphQLã‚„ã€[frourio](https://github.com/frouriojs/frourio)ãªã‚“ã‹ã‚‚ãã†ãªã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼‰ã«ã¤ã„ã¦ã‚‚æŒ‘æˆ¦ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-12-10T03:06:46+09:00",
      "group": null,
      "id": "0aecde44848d6a861bf5",
      "likes_count": 17,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 11,
      "tags": [
        {
          "name": "npm",
          "versions": []
        },
        {
          "name": "TypeScript",
          "versions": []
        },
        {
          "name": "OpenAPI",
          "versions": []
        },
        {
          "name": "NestJS",
          "versions": []
        },
        {
          "name": "GitHubActions",
          "versions": []
        }
      ],
      "title": "NestJS + OpenAPI(Swagger)ã‹ã‚‰APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆã—å‹å®‰å…¨ã«é€šä¿¡ã™ã‚‹",
      "updated_at": "2020-12-14T07:03:00+09:00",
      "url": "https://qiita.com/yktakaha4/items/0aecde44848d6a861bf5",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ã²ã˜ã‚‡ãƒ¼ã«ã—ã‚‡ã†ã‚‚ãªã„ã“ã¨ã ãŒã€ã¾ãŸã„ã¤ã‹ä½¿ã†æ°—ãŒã—ãŸã®ã§ã™ã‹ã•ãšmemoâœï¸</p>\n\n<p>ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®æ¬„ã‚’ã‚³ãƒ”ãƒ¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7b84e16cb9fec7af76f0719a3fbd33e05df4871c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f35323962663565342d646539342d376463652d656139372d6439383032646664323839302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F529bf5e4-de94-7dce-ea97-d9802dfd2890.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6625c324765becf901e5de8b97059dac\" alt=\"Secrets Manager 2020-11-08 17-48-01(1).png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/529bf5e4-de94-7dce-ea97-d9802dfd2890.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F529bf5e4-de94-7dce-ea97-d9802dfd2890.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=74ad9e6121e69446e7db6ca7e7d083ce 1x\" loading=\"lazy\"></a></p>\n\n<p>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹<br>\n <code>.envrc</code> ã«è²¼ã‚Šä»˜ã‘ã‚‹ãªã‚Šã™ã‚‹</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>pbpaste | <span class=\"nb\">awk</span> <span class=\"s1\">'{print \"export \"toupper($1)\"=\"$2}'</span> | <span class=\"nb\">sort</span>\n<span class=\"go\">export XXXXXXX=abcdef\nç•¥\n</span></code></pre></div></div>\n",
      "body": "ã²ã˜ã‚‡ãƒ¼ã«ã—ã‚‡ã†ã‚‚ãªã„ã“ã¨ã ãŒã€ã¾ãŸã„ã¤ã‹ä½¿ã†æ°—ãŒã—ãŸã®ã§ã™ã‹ã•ãšmemoâœï¸\n\nã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®æ¬„ã‚’ã‚³ãƒ”ãƒ¼\n\n![Secrets Manager 2020-11-08 17-48-01(1).png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/529bf5e4-de94-7dce-ea97-d9802dfd2890.png)\n\nã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹\n `.envrc` ã«è²¼ã‚Šä»˜ã‘ã‚‹ãªã‚Šã™ã‚‹\n\n```terminal\n$ pbpaste | awk '{print \"export \"toupper($1)\"=\"$2}' | sort\nexport XXXXXXX=abcdef\nç•¥\n```\n\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-11-08T17:56:17+09:00",
      "group": null,
      "id": "27e5e6acce55e5bcaf7f",
      "likes_count": 0,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        }
      ],
      "title": "Secrets Managerã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’.envrcã«ã‚³ãƒ”ãƒ¼ã™ã‚‹",
      "updated_at": "2020-11-08T17:56:17+09:00",
      "url": "https://qiita.com/yktakaha4/items/27e5e6acce55e5bcaf7f",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>é–‹ç™ºã—ã¦ã„ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦ã€<a href=\"https://stripe.com/jp/payments/elements\" rel=\"nofollow noopener\" target=\"_blank\">Stripe Elements</a>ã‚’ç”¨ã„ãŸã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±å…¥åŠ›æ©Ÿèƒ½ğŸ’³ã‚’å®Ÿè£…ã—ãŸã®ã§ã™ãŒã€<br>\n<a href=\"https://github.com/cypress-io/cypress\" rel=\"nofollow noopener\" target=\"_blank\">Cypress</a>ã‚’ç”¨ã„ã¦E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹éš›ã«å°‘ã—è€ƒæ…®ãŒå¿…è¦ã ã£ãŸã®ã§ã€å‚™å¿˜ã¨ã—ã¦æ®‹ã—ã¾ã™âœï¸</p>\n\n<h1>\n<span id=\"ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ\" class=\"fragment\"></span><a href=\"#%E3%83%8F%E3%83%9E%E3%82%8A%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"><i class=\"fa fa-link\"></i></a>ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ</h1>\n\n<p><a href=\"https://github.com/stripe/stripe-js\" rel=\"nofollow noopener\" target=\"_blank\">stripe-js</a>ã‚’ç”¨ã„ã¦ã€ã“ã‚“ãªæ„Ÿã˜ã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ç•ªå·å…¥åŠ›è¦ç´ ã‚’ä½œæˆã—ã¾ã—ãŸ<br>\nãªãŠã€ã‚¢ãƒ—ãƒªã¯Vuetify + Nuxt.jsã§ã§ãã¦ã„ã‚‹ã®ã§ã™ãŒã€Cypressã‚µã‚¤ãƒ‰ã‹ã‚‰ã¯ã‚ã¾ã‚Šé–¢ä¿‚ã®ãªã„ã“ã¨ãªã®ã§ã‚¬ãƒƒãƒ„ãƒªã¨å‰²æ„›ã—ã¾ã™ğŸ›</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">StripeElementsã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c1\">// è«¸ã€…ã‚’å®šç¾©</span>\n<span class=\"c1\">// æœ¬æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ã®ã§å‰²æ„›</span>\n<span class=\"kd\">const</span> <span class=\"nx\">clientSecret</span> <span class=\"o\">=</span> <span class=\"dl\">'</span><span class=\"s1\">xxxxx</span><span class=\"dl\">'</span>\n<span class=\"kd\">const</span> <span class=\"nx\">stripe</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">getStripe</span><span class=\"p\">()</span>\n\n<span class=\"c1\">// ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹è¦ç´ ã‚’ç”Ÿæˆ</span>\n<span class=\"kd\">const</span> <span class=\"nx\">elements</span> <span class=\"o\">=</span> <span class=\"nx\">stripe</span><span class=\"p\">.</span><span class=\"nx\">elements</span><span class=\"p\">()</span>\n<span class=\"kd\">const</span> <span class=\"nx\">card</span> <span class=\"o\">=</span> <span class=\"nx\">elements</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">card</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">hidePostalCode</span><span class=\"p\">:</span> <span class=\"kc\">true</span>\n<span class=\"p\">})</span>\n\n<span class=\"c1\">// blurã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«å‡¦ç†å®Ÿæ–½</span>\n<span class=\"nx\">card</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">blur</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’å…¥åŠ›ä¸å¯ã¨ã™ã‚‹</span>\n  <span class=\"nx\">card</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">({</span> <span class=\"na\">disabled</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">})</span>\n\n  <span class=\"nx\">stripe</span><span class=\"p\">.</span><span class=\"nx\">confirmCardPayment</span><span class=\"p\">(</span><span class=\"nx\">clientSecret</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n    <span class=\"na\">payment_method</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nx\">card</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">confirmResult</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">confirmResult</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã‚ã‚Šã®å ´åˆã€å…¥åŠ›å®Œäº†ã‚’ç¤ºã™ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡¨ç¤º</span>\n      <span class=\"c1\">// å‰²æ„›</span>\n\n      <span class=\"c1\">// ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’å†åº¦å…¥åŠ›å¯èƒ½ã¨ã™ã‚‹</span>\n      <span class=\"nx\">card</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">({</span> <span class=\"na\">disabled</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">})</span>\n    <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆã€ç”»é¢é …ç›®ã‚’ç·¨é›†ä¸å¯ã¨ã™ã‚‹</span>\n      <span class=\"c1\">// å‰²æ„›</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}).</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã®å ´åˆ</span>\n    <span class=\"c1\">// å‰²æ„›</span>\n  <span class=\"p\">})</span>\n<span class=\"p\">})</span>\n\n<span class=\"c1\">// IdãŒCardNoã®è¦ç´ ã®é…ä¸‹ã«ãƒã‚¦ãƒ³ãƒˆ</span>\n<span class=\"nx\">card</span><span class=\"p\">.</span><span class=\"nx\">mount</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">#CardNo</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n</code></pre></div>\n</div>\n\n<p>ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªDOMãŒç”Ÿæˆã•ã‚Œã¾ã™ğŸŒ²<br>\nãƒã‚¤ãƒ³ãƒˆã¯ã€ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹inputè¦ç´ ãŒã€Stripeã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸiframeã®ä¸­ã«ã‚ã‚‹...ã¨ã„ã†ã¨ã“ã‚ã§ã—ã‚‡ã†ã‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/b4c7b189d52bf760b7a420dedc14aff6268bdb18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30643639303161322d383132642d313335622d363266322d6338343933363062393664312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0d6901a2-812d-135b-62f2-c849360b96d1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=81d6497fc0726f9327677a15c0e4d3b7\" alt=\"devtool.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0d6901a2-812d-135b-62f2-c849360b96d1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0d6901a2-812d-135b-62f2-c849360b96d1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=030b449f71715fef6571602fbaa3964a 1x\" loading=\"lazy\"></a></p>\n\n<p>æœ¬æ¥ãªã‚‰ã°ã€ã‚«ãƒ¼ãƒ‰æƒ…å ±ã®å…¥åŠ›ãŒåˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³(Stripe)ã®iframeã«éš”é›¢ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã§å®‰å…¨ã«åˆ©ç”¨ã§ãã‚‹ã‚‚ã®ã«ãªã‚Šã¾ã™ãŒã€<br>\nå®‰å…¨ã™ãã¦Cypressã‹ã‚‰DOMã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€ãƒ†ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã®å…¥åŠ›ãŒã§ãã¾ã›ã‚“</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>  1) ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -&gt; æ¤œç´¢ -&gt; ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -&gt; æ³¨æ–‡æƒ…å ±å…¥åŠ› -&gt; è³¼å…¥:\n     SecurityError: Blocked a frame with origin \"http://localhost\" from accessing a cross-origin frame.\n</code></pre></div></div>\n\n<p>ã¾ãŸã€Cypressã‹ã‚‰è¦ç´ ã‚’ã„ã˜ã£ã¦ã„ã‚‹å½±éŸ¿ã‹ã‚‰ã‹ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ï¼Ÿã§æœªã‚­ãƒ£ãƒƒãƒã®ä¾‹å¤–ãŒç™ºç”Ÿã—ã€ãã‚Œã«å¼•ããšã‚‰ã‚Œã¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚‚è½ã¡ã¦ã—ã¾ã„ã¾ã™<br>\nç†ç”±ã‚’èª¿ã¹ãŸã„ã¨ã“ã‚ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è¦³ç‚¹ã‹ã‚‰Stripeã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã¦ãŠã‚‰ãš(stripe-jsã¯ãŸã ã®ãƒ©ãƒƒãƒ‘ãƒ¼&amp;å‹å®šç¾©)ã€ãªã‚“ã¨ã‚‚è¨€ãˆãªã„æ„Ÿã˜ã§ã™...</p>\n\n<p>ä½•ãŒã—ã‹ã®ç†ç”±ã§ <code>confirmCardPayment</code> ãŒè¤‡æ•°å›å‘¼ã°ã‚Œã¦ã—ã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€<br>\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã§ã¯éæ´»æ€§åŒ–ç­‰ã¯è€ƒæ…®ã—ã¦ãŠã‚Šã€è‡ªå‹•ãƒ†ã‚¹ãƒˆä¸Šã§ã®ã¿ç™ºç”Ÿã™ã‚‹äº‹è±¡ã®ãŸã‚ã€å•é¡Œãªã•ãã†ãªã‚‰è¦‹ã¦è¦‹ã¬ãƒ•ãƒªã‚’æ±ºã‚è¾¼ã¿ãŸã„ã¨ã“ã‚ã§ã™ğŸ™ˆ</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>  1) ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -&gt; æ¤œç´¢ -&gt; ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -&gt; æ³¨æ–‡æƒ…å ±å…¥åŠ› -&gt; è³¼å…¥:\n     IntegrationError: The following error originated from your application code, not from Cypress.\n\n  &gt; You have an in-flight confirmCardPayment! Please be sure to disable your form submit button when confirmCardPayment is called.\n\nWhen Cypress detects uncaught errors originating from your application it will automatically fail the current test.\n\nThis behavior is configurable, and you can choose to turn this off by listening to the `uncaught:exception` event.\n\nhttps://on.cypress.io/uncaught-exception-from-application\n</code></pre></div></div>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p>ã¨ã„ã†ã¨ã“ã‚ã§ã—ãŸãŒã€<br>\nå¯¾å‡¦ç™‚æ³•çš„ãªå½¢ã§ä»¥ä¸‹ã®ã‚ˆã†ã«è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã€ç„¡äº‹å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ™„</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -&gt; æ¤œç´¢ -&gt; ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -&gt; æ³¨æ–‡æƒ…å ±å…¥åŠ› -&gt; è³¼å…¥</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">options</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"na\">timeout</span><span class=\"p\">:</span> <span class=\"mi\">10000</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">// ä»–ã®ã‚·ãƒŠãƒªã‚ªã¯å‰²æ„›</span>\n\n  <span class=\"c1\">// ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’è¨­å®š</span>\n  <span class=\"c1\">// Stripeèµ·å› ã§ç™ºç”Ÿã™ã‚‹ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã™ã‚‹</span>\n  <span class=\"nx\">cy</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">uncaught:exception</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"sr\">/You have an in-flight confirmCardPayment/gi</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span>\n    <span class=\"p\">}</span>\n    <span class=\"c1\">// ä»–ã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã—ãªã„</span>\n    <span class=\"k\">return</span> <span class=\"kc\">true</span>\n  <span class=\"p\">})</span>\n\n  <span class=\"c1\">// èª­ã¿è¾¼ã¿ã‚’ç¢ºèª</span>\n  <span class=\"nx\">cy</span><span class=\"p\">.</span><span class=\"nx\">frameLoaded</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">#CardNo iframe</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n\n  <span class=\"c1\">// ã‚«ãƒ¼ãƒ‰ç•ªå·ãƒ»æœ‰åŠ¹æœŸé™ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›</span>\n  <span class=\"nx\">cy</span><span class=\"p\">.</span><span class=\"nx\">iframe</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">#CardNo iframe</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"c1\">// ã‚«ãƒ¼ãƒ‰ç•ªå·ã®inputã‚’é¸æŠ</span>\n    <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">input[placeholder=\"ã‚«ãƒ¼ãƒ‰ç•ªå·\"]</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"c1\">// å„inputã«å€¤ã‚’ãƒ•ãƒ«æ¡å…¥åŠ›ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«æ¬¡ã®inputã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚Œã‚‹ã®ã§ã‚ã‚ŠãŒãŸãåˆ©ç”¨ã™ã‚‹</span>\n    <span class=\"p\">.</span><span class=\"kd\">type</span><span class=\"p\">([</span><span class=\"dl\">'</span><span class=\"s1\">4242424242424242</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">01</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">50</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">123</span><span class=\"dl\">'</span><span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"dl\">''</span><span class=\"p\">))</span>\n\n  <span class=\"c1\">// Stripeã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª</span>\n  <span class=\"nx\">cy</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">#CardNo</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"c1\">// ä»–ã®è¦ç´ ã‚’é©å½“ã«ã‚¯ãƒªãƒƒã‚¯ã—ã€blurã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã•ã›ã‚‹</span>\n    <span class=\"p\">.</span><span class=\"nx\">click</span><span class=\"p\">()</span>\n    <span class=\"c1\">// waitUntil()ã¯ `cypress-wait-until` ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚‚ã®ã§ã™ãŒå‰²æ„›</span>\n    <span class=\"p\">.</span><span class=\"nx\">waitUntil</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">cy</span><span class=\"p\">.</span><span class=\"nx\">contains</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">ãŠæ”¯æ‰•ã„æƒ…å ±ã‚’ç¢ºèªã—ã¾ã—ãŸ</span><span class=\"dl\">'</span><span class=\"p\">),</span> <span class=\"nx\">options</span><span class=\"p\">)</span>\n\n  <span class=\"c1\">// ä»–ã®ã‚·ãƒŠãƒªã‚ªã¯å‰²æ„›</span>\n<span class=\"p\">})</span>\n</code></pre></div>\n</div>\n\n<p>ã¾ãšã€iframeã«å¯¾ã™ã‚‹ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ã«ã¤ã„ã¦ã¯ã€ <code>cypress.json</code> ã«ä»¥ä¸‹ã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã¨å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ§</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">cypress.json</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"chromeWebSecurity\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p>å®Ÿè£…ã¨ã—ã¦ã¯å¤šåˆ†<a href=\"https://github.com/cypress-io/cypress/blob/develop/packages/server/lib/browsers/chrome.ts#L359-L362\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã§ã€æã‚‰ãã«ã¯ãã‚Œãã‚Œä»¥ä¸‹ã®æ„å‘³ã¨æ€ã‚ã‚Œã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãªã®ã§ã“ã‚Œä»¥ä¸Šã®æ·±è¿½ã„ã¯ã‚„ã‚ã¾ã—ãŸ...</p>\n\n<ul>\n<li><a href=\"https://github.com/chromium/chromium/blob/master/content/public/common/content_switches.cc#L283-L284\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/chromium/chromium/blob/master/content/public/common/content_switches.cc#L283-L284</a></li>\n<li><a href=\"https://github.com/chromium/chromium/blob/master/chrome/common/chrome_switches.cc#L43-L45\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/chromium/chromium/blob/master/chrome/common/chrome_switches.cc#L43-L45</a></li>\n</ul>\n\n<p>ãã®ä¸Šã§ã€Cypressã‹ã‚‰iframeé…ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¥½ã«ã—ã¦ãã‚Œã‚‹<a href=\"https://gitlab.com/kgroat/cypress-iframe\" rel=\"nofollow noopener\" target=\"_blank\">cypress-iframe</a>ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¬é–‹ã•ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’åˆ©ç”¨ã—ã¾ã—ãŸ<br>\n<code>cy.frameLoaded()</code> ã§å¯¾è±¡ã®iframeã®èª­ã¿è¾¼ã¿ç¢ºèªã€ <code>cy.iframe()</code> ã§å¯¾è±¡ã®iframeã®å–å¾—ãŒãŠã“ãªãˆã¾ã™</p>\n\n<p>Stripeèµ·å› ã®æœªã‚­ãƒ£ãƒƒãƒä¾‹å¤–ã«ã¤ã„ã¦ã¯ã€<br>\n<code>cy.on()</code> ã‚’ç”¨ã„ã¦ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ä»Šå›è¦‹ãªã‹ã£ãŸã“ã¨ã«ã—ãŸã„ä¾‹å¤–ã ã£ãŸå ´åˆã®ã¿ç„¡è¦–ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸğŸ<br>\nã“ã‚Œä»¥å¤–ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ã€ãã‚ŒãŒè‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒã«é™ã‚‰ã‚Œã‚‹å ´åˆã¯ã€ç„¡è¦–å¯¾è±¡ã‚’å¢—ã‚„ã—ã¦å¯¾å¿œã™ã‚‹ã¨ã‚ˆã„ã‹ã‚‚ğŸ<br>\nã‚‚ã£ã¨ã‚‚ã€ã“ã¡ã‚‰ã®å•é¡Œã«ã¤ã„ã¦ã¯ã€ç§ã®ã‚³ãƒ¼ãƒ‰ã®æ–¹ã«åŸå› ãŒã‚ã‚‹ã‚ˆã†ãªæ°—ã¯ã—ã¾ã™...</p>\n\n<p>ã‚ªãƒã‚±ã¨ã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªãŒå…ƒæ°—ã‚ˆãå®Ÿè¡Œã•ã‚Œã‚‹æ§˜å­ã‚’è²¼ã£ã¦ãŠãã¾ã™ğŸ‹ï¸â€â™€ï¸</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/1ddd70a7c97dac9c31bfdfceed02db073dddc6ea/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f31663431626338342d313266342d623264372d363733362d3630376336393139363136662e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F1f41bc84-12f4-b2d7-6736-607c6919616f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bf331588e511873b75b87177802f2259\" alt=\"index.ts.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/1f41bc84-12f4-b2d7-6736-607c6919616f.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F1f41bc84-12f4-b2d7-6736-607c6919616f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5bcff9cd4f4f6b6fb77200a923db5642 1x\" loading=\"lazy\"></a></p>\n\n<p><code>å‹•ã„ã¦ã‚‹ã‹ã‚‰ãƒ¨ã‚·ï¼</code> ã¯ã»ã©ã»ã©ã«ğŸ˜¾</p>\n\n<h1>\n<span id=\"å‚è€ƒæ–‡çŒ®\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\"><i class=\"fa fa-link\"></i></a>å‚è€ƒæ–‡çŒ®</h1>\n\n<ul>\n<li><a href=\"https://www.cypress.io/blog/2020/02/12/working-with-iframes-in-cypress/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://www.cypress.io/blog/2020/02/12/working-with-iframes-in-cypress/</a></li>\n<li><a href=\"https://github.com/cypress-io/cypress/issues/987\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/cypress-io/cypress/issues/987</a></li>\n</ul>\n",
      "body": "# ã¯ã˜ã‚ã«\n\né–‹ç™ºã—ã¦ã„ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦ã€[Stripe Elements](https://stripe.com/jp/payments/elements)ã‚’ç”¨ã„ãŸã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±å…¥åŠ›æ©Ÿèƒ½ğŸ’³ã‚’å®Ÿè£…ã—ãŸã®ã§ã™ãŒã€\n[Cypress](https://github.com/cypress-io/cypress)ã‚’ç”¨ã„ã¦E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹éš›ã«å°‘ã—è€ƒæ…®ãŒå¿…è¦ã ã£ãŸã®ã§ã€å‚™å¿˜ã¨ã—ã¦æ®‹ã—ã¾ã™âœï¸\n\n# ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ\n\n[stripe-js](https://github.com/stripe/stripe-js)ã‚’ç”¨ã„ã¦ã€ã“ã‚“ãªæ„Ÿã˜ã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ç•ªå·å…¥åŠ›è¦ç´ ã‚’ä½œæˆã—ã¾ã—ãŸ\nãªãŠã€ã‚¢ãƒ—ãƒªã¯Vuetify + Nuxt.jsã§ã§ãã¦ã„ã‚‹ã®ã§ã™ãŒã€Cypressã‚µã‚¤ãƒ‰ã‹ã‚‰ã¯ã‚ã¾ã‚Šé–¢ä¿‚ã®ãªã„ã“ã¨ãªã®ã§ã‚¬ãƒƒãƒ„ãƒªã¨å‰²æ„›ã—ã¾ã™ğŸ›\n\n```typescript:StripeElementsã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸\n// è«¸ã€…ã‚’å®šç¾©\n// æœ¬æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ã®ã§å‰²æ„›\nconst clientSecret = 'xxxxx'\nconst stripe = await getStripe()\n\n// ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹è¦ç´ ã‚’ç”Ÿæˆ\nconst elements = stripe.elements()\nconst card = elements.create('card', {\n  hidePostalCode: true\n})\n\n// blurã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«å‡¦ç†å®Ÿæ–½\ncard.on('blur', () => {\n  // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’å…¥åŠ›ä¸å¯ã¨ã™ã‚‹\n  card.update({ disabled: true })\n\n  stripe.confirmCardPayment(clientSecret, {\n    payment_method: {\n      card\n    }\n  }).then((confirmResult) => {\n    if (confirmResult.error) {\n      // ã‚¨ãƒ©ãƒ¼ã‚ã‚Šã®å ´åˆã€å…¥åŠ›å®Œäº†ã‚’ç¤ºã™ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡¨ç¤º\n      // å‰²æ„›\n\n      // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’å†åº¦å…¥åŠ›å¯èƒ½ã¨ã™ã‚‹\n      card.update({ disabled: false })\n    } else {\n      // ã‚¨ãƒ©ãƒ¼ãªã—ã®å ´åˆã€ç”»é¢é …ç›®ã‚’ç·¨é›†ä¸å¯ã¨ã™ã‚‹\n      // å‰²æ„›\n    }\n  }).catch((error) => {\n    // ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã®å ´åˆ\n    // å‰²æ„›\n  })\n})\n\n// IdãŒCardNoã®è¦ç´ ã®é…ä¸‹ã«ãƒã‚¦ãƒ³ãƒˆ\ncard.mount('#CardNo')\n```\n\nä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªDOMãŒç”Ÿæˆã•ã‚Œã¾ã™ğŸŒ²\nãƒã‚¤ãƒ³ãƒˆã¯ã€ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹inputè¦ç´ ãŒã€Stripeã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸiframeã®ä¸­ã«ã‚ã‚‹...ã¨ã„ã†ã¨ã“ã‚ã§ã—ã‚‡ã†ã‹\n\n![devtool.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0d6901a2-812d-135b-62f2-c849360b96d1.png)\n\næœ¬æ¥ãªã‚‰ã°ã€ã‚«ãƒ¼ãƒ‰æƒ…å ±ã®å…¥åŠ›ãŒåˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³(Stripe)ã®iframeã«éš”é›¢ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã§å®‰å…¨ã«åˆ©ç”¨ã§ãã‚‹ã‚‚ã®ã«ãªã‚Šã¾ã™ãŒã€\nå®‰å…¨ã™ãã¦Cypressã‹ã‚‰DOMã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€ãƒ†ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã®å…¥åŠ›ãŒã§ãã¾ã›ã‚“\n\n```\n  1) ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -> æ¤œç´¢ -> ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -> æ³¨æ–‡æƒ…å ±å…¥åŠ› -> è³¼å…¥:\n     SecurityError: Blocked a frame with origin \"http://localhost\" from accessing a cross-origin frame.\n```\n\nã¾ãŸã€Cypressã‹ã‚‰è¦ç´ ã‚’ã„ã˜ã£ã¦ã„ã‚‹å½±éŸ¿ã‹ã‚‰ã‹ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ï¼Ÿã§æœªã‚­ãƒ£ãƒƒãƒã®ä¾‹å¤–ãŒç™ºç”Ÿã—ã€ãã‚Œã«å¼•ããšã‚‰ã‚Œã¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚‚è½ã¡ã¦ã—ã¾ã„ã¾ã™\nç†ç”±ã‚’èª¿ã¹ãŸã„ã¨ã“ã‚ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è¦³ç‚¹ã‹ã‚‰Stripeã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã¦ãŠã‚‰ãš(stripe-jsã¯ãŸã ã®ãƒ©ãƒƒãƒ‘ãƒ¼&å‹å®šç¾©)ã€ãªã‚“ã¨ã‚‚è¨€ãˆãªã„æ„Ÿã˜ã§ã™...\n\nä½•ãŒã—ã‹ã®ç†ç”±ã§ `confirmCardPayment` ãŒè¤‡æ•°å›å‘¼ã°ã‚Œã¦ã—ã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€\nãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã§ã¯éæ´»æ€§åŒ–ç­‰ã¯è€ƒæ…®ã—ã¦ãŠã‚Šã€è‡ªå‹•ãƒ†ã‚¹ãƒˆä¸Šã§ã®ã¿ç™ºç”Ÿã™ã‚‹äº‹è±¡ã®ãŸã‚ã€å•é¡Œãªã•ãã†ãªã‚‰è¦‹ã¦è¦‹ã¬ãƒ•ãƒªã‚’æ±ºã‚è¾¼ã¿ãŸã„ã¨ã“ã‚ã§ã™ğŸ™ˆ\n\n```\n  1) ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -> æ¤œç´¢ -> ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -> æ³¨æ–‡æƒ…å ±å…¥åŠ› -> è³¼å…¥:\n     IntegrationError: The following error originated from your application code, not from Cypress.\n\n  > You have an in-flight confirmCardPayment! Please be sure to disable your form submit button when confirmCardPayment is called.\n\nWhen Cypress detects uncaught errors originating from your application it will automatically fail the current test.\n\nThis behavior is configurable, and you can choose to turn this off by listening to the `uncaught:exception` event.\n\nhttps://on.cypress.io/uncaught-exception-from-application\n```\n\n# ä½œã£ãŸã‚‚ã®\n\nã¨ã„ã†ã¨ã“ã‚ã§ã—ãŸãŒã€\nå¯¾å‡¦ç™‚æ³•çš„ãªå½¢ã§ä»¥ä¸‹ã®ã‚ˆã†ã«è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã€ç„¡äº‹å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ™„\n\n```typescript:ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ã‚¤ãƒ¡ãƒ¼ã‚¸\nit('ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ -> æ¤œç´¢ -> ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã‚‹ -> æ³¨æ–‡æƒ…å ±å…¥åŠ› -> è³¼å…¥', () => {\n  const options = {\n    timeout: 10000\n  }\n\n  // ä»–ã®ã‚·ãƒŠãƒªã‚ªã¯å‰²æ„›\n\n  // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’è¨­å®š\n  // Stripeèµ·å› ã§ç™ºç”Ÿã™ã‚‹ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã™ã‚‹\n  cy.on('uncaught:exception', (error) => {\n    if (/You have an in-flight confirmCardPayment/gi.test(error.message)) {\n      return false\n    }\n    // ä»–ã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã—ãªã„\n    return true\n  })\n\n  // èª­ã¿è¾¼ã¿ã‚’ç¢ºèª\n  cy.frameLoaded('#CardNo iframe')\n\n  // ã‚«ãƒ¼ãƒ‰ç•ªå·ãƒ»æœ‰åŠ¹æœŸé™ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›\n  cy.iframe('#CardNo iframe')\n    // ã‚«ãƒ¼ãƒ‰ç•ªå·ã®inputã‚’é¸æŠ\n    .find('input[placeholder=\"ã‚«ãƒ¼ãƒ‰ç•ªå·\"]')\n    // å„inputã«å€¤ã‚’ãƒ•ãƒ«æ¡å…¥åŠ›ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«æ¬¡ã®inputã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚Œã‚‹ã®ã§ã‚ã‚ŠãŒãŸãåˆ©ç”¨ã™ã‚‹\n    .type(['4242424242424242', '01', '50', '123'].join(''))\n\n  // Stripeã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª\n  cy.get('#CardNo')\n    // ä»–ã®è¦ç´ ã‚’é©å½“ã«ã‚¯ãƒªãƒƒã‚¯ã—ã€blurã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã•ã›ã‚‹\n    .click()\n    // waitUntil()ã¯ `cypress-wait-until` ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚‚ã®ã§ã™ãŒå‰²æ„›\n    .waitUntil(() => cy.contains('ãŠæ”¯æ‰•ã„æƒ…å ±ã‚’ç¢ºèªã—ã¾ã—ãŸ'), options)\n\n  // ä»–ã®ã‚·ãƒŠãƒªã‚ªã¯å‰²æ„›\n})\n```\n\nã¾ãšã€iframeã«å¯¾ã™ã‚‹ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ã«ã¤ã„ã¦ã¯ã€ `cypress.json` ã«ä»¥ä¸‹ã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã¨å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ§\n\n```json:cypress.json\n{\n  \"chromeWebSecurity\": false\n}\n```\n\nå®Ÿè£…ã¨ã—ã¦ã¯å¤šåˆ†[ã“ã¡ã‚‰](https://github.com/cypress-io/cypress/blob/develop/packages/server/lib/browsers/chrome.ts#L359-L362)ã§ã€æã‚‰ãã«ã¯ãã‚Œãã‚Œä»¥ä¸‹ã®æ„å‘³ã¨æ€ã‚ã‚Œã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãªã®ã§ã“ã‚Œä»¥ä¸Šã®æ·±è¿½ã„ã¯ã‚„ã‚ã¾ã—ãŸ...\n\n- https://github.com/chromium/chromium/blob/master/content/public/common/content_switches.cc#L283-L284\n- https://github.com/chromium/chromium/blob/master/chrome/common/chrome_switches.cc#L43-L45\n\nãã®ä¸Šã§ã€Cypressã‹ã‚‰iframeé…ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¥½ã«ã—ã¦ãã‚Œã‚‹[cypress-iframe](https://gitlab.com/kgroat/cypress-iframe)ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¬é–‹ã•ã‚Œã¦ã„ã‚‹æ–¹ãŒã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’åˆ©ç”¨ã—ã¾ã—ãŸ\n`cy.frameLoaded()` ã§å¯¾è±¡ã®iframeã®èª­ã¿è¾¼ã¿ç¢ºèªã€ `cy.iframe()` ã§å¯¾è±¡ã®iframeã®å–å¾—ãŒãŠã“ãªãˆã¾ã™\n\nStripeèµ·å› ã®æœªã‚­ãƒ£ãƒƒãƒä¾‹å¤–ã«ã¤ã„ã¦ã¯ã€\n`cy.on()` ã‚’ç”¨ã„ã¦ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ä»Šå›è¦‹ãªã‹ã£ãŸã“ã¨ã«ã—ãŸã„ä¾‹å¤–ã ã£ãŸå ´åˆã®ã¿ç„¡è¦–ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸğŸ\nã“ã‚Œä»¥å¤–ã®ä¾‹å¤–ãŒç™ºç”Ÿã—ã€ãã‚ŒãŒè‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒã«é™ã‚‰ã‚Œã‚‹å ´åˆã¯ã€ç„¡è¦–å¯¾è±¡ã‚’å¢—ã‚„ã—ã¦å¯¾å¿œã™ã‚‹ã¨ã‚ˆã„ã‹ã‚‚ğŸ\nã‚‚ã£ã¨ã‚‚ã€ã“ã¡ã‚‰ã®å•é¡Œã«ã¤ã„ã¦ã¯ã€ç§ã®ã‚³ãƒ¼ãƒ‰ã®æ–¹ã«åŸå› ãŒã‚ã‚‹ã‚ˆã†ãªæ°—ã¯ã—ã¾ã™...\n\nã‚ªãƒã‚±ã¨ã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªãŒå…ƒæ°—ã‚ˆãå®Ÿè¡Œã•ã‚Œã‚‹æ§˜å­ã‚’è²¼ã£ã¦ãŠãã¾ã™ğŸ‹ï¸â€â™€ï¸\n\n![index.ts.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/1f41bc84-12f4-b2d7-6736-607c6919616f.gif)\n\n`å‹•ã„ã¦ã‚‹ã‹ã‚‰ãƒ¨ã‚·ï¼` ã¯ã»ã©ã»ã©ã«ğŸ˜¾\n\n# å‚è€ƒæ–‡çŒ®\n\n- https://www.cypress.io/blog/2020/02/12/working-with-iframes-in-cypress/\n- https://github.com/cypress-io/cypress/issues/987\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-08-31T02:03:45+09:00",
      "group": null,
      "id": "13c3c13a0e13d0890371",
      "likes_count": 6,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 1,
      "tags": [
        {
          "name": "stripe",
          "versions": []
        },
        {
          "name": "TypeScript",
          "versions": []
        },
        {
          "name": "Cypress",
          "versions": []
        }
      ],
      "title": "Cypressã§Stripe Elementsã®è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’ãŠã“ãªã†",
      "updated_at": "2020-08-31T02:03:45+09:00",
      "url": "https://qiita.com/yktakaha4/items/13c3c13a0e13d0890371",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h2>\n<span id=\"å•é¡Œ\" class=\"fragment\"></span><a href=\"#%E5%95%8F%E9%A1%8C\"><i class=\"fa fa-link\"></i></a>å•é¡Œ</h2>\n\n<p><a href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/acm_certificate#domain_validation_options\" rel=\"nofollow noopener\" target=\"_blank\">aws_acm_certificate.domain_validation_options</a>ã¯ã€v2ç³»ã®Providerã§ã¯ <code>A list of attributes ~</code> ã¨ã®ã“ã¨ã§ãƒªã‚¹ãƒˆãŒè¿”å´ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€v3ç³»ã§ã¯ <code>Set of domain validation objects ~</code> ã®ç¤ºã™ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆãŒè¿”å´ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€ <a href=\"https://qiita.com/y-ohgi/items/b823b6bd078ce8e11546\" id=\"reference-7e1f0988a7d66d02e830\">ã“ã¡ã‚‰</a>ã®è¨˜äº‹ãªã©ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ãƒªã‚¹ãƒˆã¨ã—ã¦ãã®ã¾ã¾èµ°æŸ»ã—ã¦å€¤ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ããªããªã£ãŸæ¨¡æ§˜ã§ã™</p>\n\n<p>ä¸€èˆ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨åŒæ§˜ã€ã‚»ãƒƒãƒˆã¯é †åºã‚’æŒãŸãªã„ã‹ã‚‰èµ°æŸ»ã§ããªã„...çš„ãªè€ƒãˆæ–¹ã‹ã‚‰ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>\n\n<div class=\"code-frame\" data-lang=\"tf\">\n<div class=\"code-lang\"><span class=\"bold\">domain_validation_optionsã®ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">Outputs</span><span class=\"err\">:</span>\n\n<span class=\"nx\">domain_validation_options</span> <span class=\"err\">=</span> <span class=\"p\">[</span>\n  <span class=\"p\">{</span>\n    <span class=\"s2\">\"domain_name\"</span> <span class=\"p\">=</span> <span class=\"s2\">\"example.com\"</span>\n    <span class=\"s2\">\"resource_record_name\"</span> <span class=\"p\">=</span> <span class=\"s2\">\"_xxxxx.example.com.\"</span>\n    <span class=\"s2\">\"resource_record_type\"</span> <span class=\"p\">=</span> <span class=\"s2\">\"CNAME\"</span>\n    <span class=\"s2\">\"resource_record_value\"</span> <span class=\"p\">=</span> <span class=\"s2\">\"_yyyyy.zzzzz.acm-validations.aws.\"</span>\n  <span class=\"p\">},</span>\n<span class=\"p\">]</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¨ãƒ©ãƒ¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code>Error: Invalid index\n\n  on ./xxx/route53-record.tf line 17, in resource \"aws_route53_record\" \"domain_validation\":\n  17:   name    = lookup(aws_acm_certificate.example.domain_validation_options[count.index], \"resource_record_name\")\n    |----------------\n    | aws_acm_certificate.example.domain_validation_options is set of object with 1 element\n    | count.index is 0\n\nThis value does not have any indices.\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"è§£æ³•\" class=\"fragment\"></span><a href=\"#%E8%A7%A3%E6%B3%95\"><i class=\"fa fa-link\"></i></a>è§£æ³•</h2>\n\n<p>ã“ã‚Œã«ã¤ã„ã¦ã€Terraform v0.12ç³»ã§åˆ©ç”¨ã§ãã‚‹<a href=\"https://www.terraform.io/docs/configuration/resources.html#for_each-multiple-resource-instances-defined-by-a-map-or-set-of-strings\" rel=\"nofollow noopener\" target=\"_blank\">for_each</a>ã¨<a href=\"https://www.terraform.io/docs/configuration/expressions.html#for-expressions\" rel=\"nofollow noopener\" target=\"_blank\">forå¼</a>ã‚’ä½¿ã†ã¨ã€ã„ã„æ„Ÿã˜ã§ããŸã®ã§å‚™å¿˜éŒ²ã§ã™âœï¸<br>\nfor_eachã¯<code>list</code>ä»¥å¤–ã«ã‚‚<code>map</code>ã‚’èµ°æŸ»ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€forã§å¤‰æ›ã—ã¦ã‚ã’ã¦æ¸¡ã™ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‰ãšå‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"tf\">\n<div class=\"code-lang\"><span class=\"bold\">route53-record.tf</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">resource</span> <span class=\"s2\">\"aws_route53_record\"</span> <span class=\"s2\">\"domain_validation\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\"># domain_name ã‚’ã‚­ãƒ¼ã«ã—ãŸmapã«å¤‰æ›ã™ã‚‹</span>\n  <span class=\"nx\">for_each</span> <span class=\"p\">=</span> <span class=\"p\">{</span> <span class=\"nx\">for</span> <span class=\"nx\">el</span> <span class=\"nx\">in</span> <span class=\"nx\">aws_acm_certificate</span><span class=\"p\">.</span><span class=\"nx\">example</span><span class=\"p\">.</span><span class=\"nx\">domain_validation_options</span> <span class=\"err\">:</span> <span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">domain_name</span> <span class=\"p\">=</span><span class=\"err\">&gt;</span> <span class=\"nx\">el</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\"># å€¤ã¯each.valueã§å‚ç…§ã§ãã‚‹</span>\n  <span class=\"nx\">name</span>    <span class=\"p\">=</span> <span class=\"nx\">each</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">resource_record_name</span>\n  <span class=\"nx\">type</span>    <span class=\"p\">=</span> <span class=\"nx\">each</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">resource_record_type</span>\n  <span class=\"nx\">records</span> <span class=\"p\">=</span> <span class=\"p\">[</span><span class=\"nx\">each</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">resource_record_value</span><span class=\"p\">]</span>\n\n  <span class=\"nx\">zone_id</span> <span class=\"p\">=</span> <span class=\"nx\">aws_route53_zone</span><span class=\"p\">.</span><span class=\"nx\">example</span><span class=\"p\">.</span><span class=\"nx\">zone_id</span>\n  <span class=\"nx\">ttl</span>     <span class=\"p\">=</span> <span class=\"mi\">30</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>å¾“æ¥ã®æ›¸ãæ–¹ã‚ˆã‚Šå†—é•·ã•ãŒæ¸›ã£ã¦ã€ã‚¹ãƒãƒ¼ãƒˆãªæ„Ÿã˜ãŒã—ã¾ã™ã­...ï¼</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<p>ã¨ã„ã†ã‹ä»¥ä¸‹ã«æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šã®ã“ã¨ã§ã™...</p>\n\n<p><qiita-embed-ogp src=\"https://github.com/hashicorp/terraform/issues/23354\"></qiita-embed-ogp></p>\n",
      "body": "## å•é¡Œ\n\n[aws_acm_certificate.domain_validation_options](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/acm_certificate#domain_validation_options)ã¯ã€v2ç³»ã®Providerã§ã¯ `A list of attributes ~` ã¨ã®ã“ã¨ã§ãƒªã‚¹ãƒˆãŒè¿”å´ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€v3ç³»ã§ã¯ `Set of domain validation objects ~` ã®ç¤ºã™ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆãŒè¿”å´ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€ [ã“ã¡ã‚‰](https://qiita.com/y-ohgi/items/b823b6bd078ce8e11546)ã®è¨˜äº‹ãªã©ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ãƒªã‚¹ãƒˆã¨ã—ã¦ãã®ã¾ã¾èµ°æŸ»ã—ã¦å€¤ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ããªããªã£ãŸæ¨¡æ§˜ã§ã™\n\nä¸€èˆ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨åŒæ§˜ã€ã‚»ãƒƒãƒˆã¯é †åºã‚’æŒãŸãªã„ã‹ã‚‰èµ°æŸ»ã§ããªã„...çš„ãªè€ƒãˆæ–¹ã‹ã‚‰ã§ã—ã‚‡ã†ã‹ï¼Ÿ\n\n```tf:domain_validation_optionsã®ã‚¤ãƒ¡ãƒ¼ã‚¸\nOutputs:\n\ndomain_validation_options = [\n  {\n    \"domain_name\" = \"example.com\"\n    \"resource_record_name\" = \"_xxxxx.example.com.\"\n    \"resource_record_type\" = \"CNAME\"\n    \"resource_record_value\" = \"_yyyyy.zzzzz.acm-validations.aws.\"\n  },\n]\n```\n\n\n```text:ã‚¨ãƒ©ãƒ¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸\nError: Invalid index\n\n  on ./xxx/route53-record.tf line 17, in resource \"aws_route53_record\" \"domain_validation\":\n  17:   name    = lookup(aws_acm_certificate.example.domain_validation_options[count.index], \"resource_record_name\")\n    |----------------\n    | aws_acm_certificate.example.domain_validation_options is set of object with 1 element\n    | count.index is 0\n\nThis value does not have any indices.\n```\n\n## è§£æ³•\n\nã“ã‚Œã«ã¤ã„ã¦ã€Terraform v0.12ç³»ã§åˆ©ç”¨ã§ãã‚‹[for_each](https://www.terraform.io/docs/configuration/resources.html#for_each-multiple-resource-instances-defined-by-a-map-or-set-of-strings)ã¨[forå¼](https://www.terraform.io/docs/configuration/expressions.html#for-expressions)ã‚’ä½¿ã†ã¨ã€ã„ã„æ„Ÿã˜ã§ããŸã®ã§å‚™å¿˜éŒ²ã§ã™âœï¸\nfor_eachã¯`list`ä»¥å¤–ã«ã‚‚`map`ã‚’èµ°æŸ»ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€forã§å¤‰æ›ã—ã¦ã‚ã’ã¦æ¸¡ã™ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‰ãšå‚ç…§ã§ãã¾ã™\n\n```tf:route53-record.tf\nresource \"aws_route53_record\" \"domain_validation\" {\n  # domain_name ã‚’ã‚­ãƒ¼ã«ã—ãŸmapã«å¤‰æ›ã™ã‚‹\n  for_each = { for el in aws_acm_certificate.example.domain_validation_options : el.domain_name => el }\n\n  # å€¤ã¯each.valueã§å‚ç…§ã§ãã‚‹\n  name    = each.value.resource_record_name\n  type    = each.value.resource_record_type\n  records = [each.value.resource_record_value]\n\n  zone_id = aws_route53_zone.example.zone_id\n  ttl     = 30\n}\n```\n\nå¾“æ¥ã®æ›¸ãæ–¹ã‚ˆã‚Šå†—é•·ã•ãŒæ¸›ã£ã¦ã€ã‚¹ãƒãƒ¼ãƒˆãªæ„Ÿã˜ãŒã—ã¾ã™ã­...ï¼\n\n## å‚è€ƒ\n\nã¨ã„ã†ã‹ä»¥ä¸‹ã«æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šã®ã“ã¨ã§ã™...\n\nhttps://github.com/hashicorp/terraform/issues/23354\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-08-09T04:45:32+09:00",
      "group": null,
      "id": "2fa3700c660466b27175",
      "likes_count": 1,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "Terraform",
          "versions": []
        }
      ],
      "title": "Terraformã§Set of objectsã‚’for_eachã¨forå¼ã§èµ°æŸ»ã™ã‚‹",
      "updated_at": "2020-08-09T04:58:58+09:00",
      "url": "https://qiita.com/yktakaha4/items/2fa3700c660466b27175",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>å…ˆæ—¥GitHub Pagesã‚’ä½¿ã£ã¦<a href=\"https://yktakaha4.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">è‡ªå·±ç´¹ä»‹ãƒšãƒ¼ã‚¸</a>ã‚’ä½œæˆã—ãŸã®ã§ã™ãŒã€<br>\nå¤–éƒ¨ãƒªãƒ³ã‚¯å…ˆãŒ404ã«ãªã£ã¦ã„ãŸã‚‰ã‚«ãƒƒã‚³æ‚ªã„ã®ã§ã€GitHub Actionsã§ãƒªãƒ³ã‚¯åˆ‡ã‚Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸğŸš¨</p>\n\n<p>ãƒªãƒ³ã‚¯åˆ‡ã‚Œã®ãƒã‚§ãƒƒã‚¯è‡ªä½“ã¯<a href=\"https://github.com/tcort/markdown-link-check\" rel=\"nofollow noopener\" target=\"_blank\">markdown-link-check</a>ã¨ã„ã†ãƒŠã‚¤ã‚¹ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ã™ãã«å®Ÿç¾ã§ããŸã®ã§ã™ãŒã€<br>\nå‡ºåŠ›çµæœã‚’Issueã¨ã—ã¦æŠ•ç¨¿ã—ã‚ˆã†ã¨ã—ãŸæ™‚ã«ã€ä»¥ä¸‹ã‚’å®Ÿç¾ã—ã‚ˆã†ã¨ã—ã¦å°‘ã—ãƒãƒã£ãŸãŸã‚å…±æœ‰ã—ã¾ã™</p>\n\n<ul>\n<li>\n<code>npm run</code>ã®çµæœã‚’codeè¨˜æ³•ã§æœ¬æ–‡ã«è²¼ã‚Šä»˜ã‘ãŸã„\n\n<ul>\n<li>ã‚‚ã£ã¨è¨€ã†ã¨ã€Issue Templateã®ä¸­ã«åŸ‹ã‚è¾¼ã‚“ã§æŠ•ç¨¿ã—ãŸã„</li>\n</ul>\n</li>\n<li>\n<code>npm run</code>ãŒå¤±æ•—ã—ãŸæ™‚ã ã‘Issueã‚’ä½œæˆã—ãŸã„</li>\n</ul>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p><a href=\"https://github.com/yktakaha4/yktakaha4.github.io/blob/source/.github/workflows/schedule.yml\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã§å‹•ã„ã¦ã‚‹å®Ÿç‰©ã«ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã¤ã‘ã¦ã”ç´¹ä»‹ã—ã¾ã™ğŸŒ¾<br>\nãªãŠãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯<a href=\"https://github.com/yktakaha4/yktakaha4.github.io/blob/source/.github/issue_template_link_check.md\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">schedule.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Schedule</span>\n\n<span class=\"na\">on</span><span class=\"pi\">:</span>\n  <span class=\"na\">schedule</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"na\">cron</span><span class=\"pi\">:</span> <span class=\"s\">0 0 * * </span><span class=\"m\">0</span> <span class=\"c1\"># æ—¥æœ¬æ™‚é–“ã®æ¯é€±æ—¥æ›œ9æ™‚ã«å®šæœŸå®Ÿè¡Œ</span>\n\n<span class=\"na\">jobs</span><span class=\"pi\">:</span>\n  <span class=\"na\">schedule</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Check</span>\n    <span class=\"na\">runs-on</span><span class=\"pi\">:</span> <span class=\"s\">ubuntu-18.04</span>\n    <span class=\"na\">steps</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/checkout@v2</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/setup-node@v1</span>\n        <span class=\"na\">with</span><span class=\"pi\">:</span>\n          <span class=\"na\">node-version</span><span class=\"pi\">:</span> <span class=\"s1\">'</span><span class=\"s\">12'</span>\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm install</span>\n      <span class=\"pi\">-</span> <span class=\"na\">id</span><span class=\"pi\">:</span> <span class=\"s\">check_link</span> <span class=\"c1\"># idã‚’è¨­å®šã—ã¦ã€å¾Œç¶šã®stepã§å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</span>\n        <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">npm run check:link &gt; ./out/check_link_result.txt</span> <span class=\"c1\"># å®Ÿè¡Œçµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›</span>\n        <span class=\"na\">continue-on-error</span><span class=\"pi\">:</span> <span class=\"no\">true</span> <span class=\"c1\"># ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®çµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ0ä»¥å¤–ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ã›ãšã€å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹</span>\n      <span class=\"pi\">-</span> <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"pi\">|</span> <span class=\"c1\"># ::set-env ã‚’ä½¿ã£ã¦ç’°å¢ƒå¤‰æ•°ã‚’å¾Œç¶šã‚¹ãƒ†ãƒƒãƒ—ã«æ¸¡ã™éš›ã«ã€æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒå¿…è¦ãªã®ã§å®Ÿæ–½ã™ã‚‹</span>\n          <span class=\"s\">CHECK_LINK_RESULT=\"$(cat ./out/check_link_result.txt)\"</span>\n          <span class=\"s\">CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//'%'/'%25'}\"</span>\n          <span class=\"s\">CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//$'\\n'/'%0A'}\"</span>\n          <span class=\"s\">CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//$'\\r'/'%0D'}\"</span>\n          <span class=\"s\">echo \"::set-env name=CHECK_LINK_RESULT::$CHECK_LINK_RESULT\"</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">JasonEtco/create-an-issue@v2</span>\n        <span class=\"na\">if</span><span class=\"pi\">:</span> <span class=\"s\">steps.check_link.outcome == 'failure'</span> <span class=\"c1\"># steps.ã‚¹ãƒ†ãƒƒãƒ—ã®id.outcome ã§ã€ã‚¹ãƒ†ãƒƒãƒ—æ¯ã®å®Ÿè¡Œã®æˆå¦ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">GITHUB_TOKEN</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.GITHUB_TOKEN }}</span>\n          <span class=\"na\">CHECK_LINK_RESULT</span><span class=\"pi\">:</span> <span class=\"s\">${{ env.CHECK_LINK_RESULT }}</span> <span class=\"c1\"># ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ {{ env.XXX }} ã®å½¢å¼ã§å€¤ã‚’å‚ç…§</span>\n        <span class=\"na\">with</span><span class=\"pi\">:</span>\n          <span class=\"na\">filename</span><span class=\"pi\">:</span> <span class=\"s\">.github/issue_template_link_check.md</span>\n      <span class=\"c1\"># Actionsã¨ã—ã¦ã¯ã€ check_linkã‚¹ãƒ†ãƒƒãƒ—ã®æˆå¦ã«é–¢ã‚ã‚‰ãšæˆåŠŸã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹</span>\n      <span class=\"c1\"># ï¼ˆãã‚Œä»¥å¤–ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸå ´åˆã¯å¤±æ•—ã¨ãªã‚‹ï¼‰</span>\n</code></pre></div>\n</div>\n\n<p>ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã¨ã€ã“ã‚“ãªæ„Ÿã˜ã§Issueã‚’æŠ•ç¨¿ã—ã¦ãã‚Œã¾ã™ğŸ’º<br>\nã„ã„æ„Ÿã˜...</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/890bb19266284698e2c7a638dc1970d8b8f2c0b0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f32323166383962322d613764342d383831332d386162662d3435636461623836333139372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F221f89b2-a7d4-8813-8abf-45cdab863197.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aed4307010fa04445c195254363272b9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/221f89b2-a7d4-8813-8abf-45cdab863197.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F221f89b2-a7d4-8813-8abf-45cdab863197.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8495836bbcedd516f699073f49440653 1x\" loading=\"lazy\"></a></p>\n\n<h1>\n<span id=\"å‚è€ƒã«ã—ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>å‚è€ƒã«ã—ãŸã‚‚ã®</h1>\n\n<ul>\n<li><a href=\"https://docs.github.com/ja/actions/reference/context-and-expression-syntax-for-github-actions\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://docs.github.com/ja/actions/reference/context-and-expression-syntax-for-github-actions</a></li>\n<li><a href=\"https://docs.github.com/ja/actions/reference/workflow-commands-for-github-actions\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://docs.github.com/ja/actions/reference/workflow-commands-for-github-actions</a></li>\n<li><a href=\"https://github.community/t/set-output-truncates-multiline-strings/16852\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.community/t/set-output-truncates-multiline-strings/16852</a></li>\n</ul>\n",
      "body": "# ã¯ã˜ã‚ã«\n\nå…ˆæ—¥GitHub Pagesã‚’ä½¿ã£ã¦[è‡ªå·±ç´¹ä»‹ãƒšãƒ¼ã‚¸](https://yktakaha4.github.io/)ã‚’ä½œæˆã—ãŸã®ã§ã™ãŒã€\nå¤–éƒ¨ãƒªãƒ³ã‚¯å…ˆãŒ404ã«ãªã£ã¦ã„ãŸã‚‰ã‚«ãƒƒã‚³æ‚ªã„ã®ã§ã€GitHub Actionsã§ãƒªãƒ³ã‚¯åˆ‡ã‚Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸğŸš¨\n\nãƒªãƒ³ã‚¯åˆ‡ã‚Œã®ãƒã‚§ãƒƒã‚¯è‡ªä½“ã¯[markdown-link-check](https://github.com/tcort/markdown-link-check)ã¨ã„ã†ãƒŠã‚¤ã‚¹ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ã™ãã«å®Ÿç¾ã§ããŸã®ã§ã™ãŒã€\nå‡ºåŠ›çµæœã‚’Issueã¨ã—ã¦æŠ•ç¨¿ã—ã‚ˆã†ã¨ã—ãŸæ™‚ã«ã€ä»¥ä¸‹ã‚’å®Ÿç¾ã—ã‚ˆã†ã¨ã—ã¦å°‘ã—ãƒãƒã£ãŸãŸã‚å…±æœ‰ã—ã¾ã™\n\n- `npm run`ã®çµæœã‚’codeè¨˜æ³•ã§æœ¬æ–‡ã«è²¼ã‚Šä»˜ã‘ãŸã„\n    - ã‚‚ã£ã¨è¨€ã†ã¨ã€Issue Templateã®ä¸­ã«åŸ‹ã‚è¾¼ã‚“ã§æŠ•ç¨¿ã—ãŸã„\n- `npm run`ãŒå¤±æ•—ã—ãŸæ™‚ã ã‘Issueã‚’ä½œæˆã—ãŸã„\n\n# ä½œã£ãŸã‚‚ã®\n\n[ã“ã¡ã‚‰](https://github.com/yktakaha4/yktakaha4.github.io/blob/source/.github/workflows/schedule.yml)ã§å‹•ã„ã¦ã‚‹å®Ÿç‰©ã«ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã¤ã‘ã¦ã”ç´¹ä»‹ã—ã¾ã™ğŸŒ¾\nãªãŠãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯[ã“ã¡ã‚‰](https://github.com/yktakaha4/yktakaha4.github.io/blob/source/.github/issue_template_link_check.md)ã§ã™\n\n```yaml:schedule.yml\nname: Schedule\n\non:\n  schedule:\n    - cron: 0 0 * * 0 # æ—¥æœ¬æ™‚é–“ã®æ¯é€±æ—¥æ›œ9æ™‚ã«å®šæœŸå®Ÿè¡Œ\n\njobs:\n  schedule:\n    name: Check\n    runs-on: ubuntu-18.04\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-node@v1\n        with:\n          node-version: '12'\n      - run: npm install\n      - id: check_link # idã‚’è¨­å®šã—ã¦ã€å¾Œç¶šã®stepã§å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹\n        run: npm run check:link > ./out/check_link_result.txt # å®Ÿè¡Œçµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›\n        continue-on-error: true # ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®çµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ0ä»¥å¤–ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ã›ãšã€å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹\n      - run: | # ::set-env ã‚’ä½¿ã£ã¦ç’°å¢ƒå¤‰æ•°ã‚’å¾Œç¶šã‚¹ãƒ†ãƒƒãƒ—ã«æ¸¡ã™éš›ã«ã€æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒå¿…è¦ãªã®ã§å®Ÿæ–½ã™ã‚‹\n          CHECK_LINK_RESULT=\"$(cat ./out/check_link_result.txt)\"\n          CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//'%'/'%25'}\"\n          CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//$'\\n'/'%0A'}\"\n          CHECK_LINK_RESULT=\"${CHECK_LINK_RESULT//$'\\r'/'%0D'}\"\n          echo \"::set-env name=CHECK_LINK_RESULT::$CHECK_LINK_RESULT\"\n      - uses: JasonEtco/create-an-issue@v2\n        if: steps.check_link.outcome == 'failure' # steps.ã‚¹ãƒ†ãƒƒãƒ—ã®id.outcome ã§ã€ã‚¹ãƒ†ãƒƒãƒ—æ¯ã®å®Ÿè¡Œã®æˆå¦ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          CHECK_LINK_RESULT: ${{ env.CHECK_LINK_RESULT }} # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ {{ env.XXX }} ã®å½¢å¼ã§å€¤ã‚’å‚ç…§\n        with:\n          filename: .github/issue_template_link_check.md\n      # Actionsã¨ã—ã¦ã¯ã€ check_linkã‚¹ãƒ†ãƒƒãƒ—ã®æˆå¦ã«é–¢ã‚ã‚‰ãšæˆåŠŸã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹\n      # ï¼ˆãã‚Œä»¥å¤–ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸå ´åˆã¯å¤±æ•—ã¨ãªã‚‹ï¼‰\n```\n\nã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã¨ã€ã“ã‚“ãªæ„Ÿã˜ã§Issueã‚’æŠ•ç¨¿ã—ã¦ãã‚Œã¾ã™ğŸ’º\nã„ã„æ„Ÿã˜...\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/221f89b2-a7d4-8813-8abf-45cdab863197.png)\n\n# å‚è€ƒã«ã—ãŸã‚‚ã®\n\n- https://docs.github.com/ja/actions/reference/context-and-expression-syntax-for-github-actions\n- https://docs.github.com/ja/actions/reference/workflow-commands-for-github-actions\n- https://github.community/t/set-output-truncates-multiline-strings/16852\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-07-25T01:59:38+09:00",
      "group": null,
      "id": "19877ad86b54c22420e9",
      "likes_count": 31,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 20,
      "tags": [
        {
          "name": "GitHubActions",
          "versions": []
        }
      ],
      "title": "GitHub Actionsã§ã‚³ãƒãƒ³ãƒ‰å¤±æ•—æ™‚ã®å®Ÿè¡Œçµæœã‚’Issueã«è²¼ã‚Šä»˜ã‘ã¦æŠ•ç¨¿ã™ã‚‹",
      "updated_at": "2020-07-25T01:59:38+09:00",
      "url": "https://qiita.com/yktakaha4/items/19877ad86b54c22420e9",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>CIç’°å¢ƒã§LocalStackã‚’å‹•ã‹ã™ã«ã‚ãŸã‚Šæ¤œè¨ã—ãŸã‚‚ã®ã®å‚™å¿˜ã§ã™ğŸš</p>\n\n<p>å…¬å¼ã«<a href=\"https://github.com/localstack/localstack#service-health-checks\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯</a>ã‚‚æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€<br>\nå®Ÿæ„Ÿã¨ã—ã¦dockerã®ãƒ­ã‚°ã« <code>Ready.</code> ã¨è¡¨ç¤ºã•ã‚ŒãŸè¾ºã‚Šã‹ã‚‰å®‰å®šã—ã¦å‹•ä½œã™ã‚‹ã‚ˆã†ã«æ€ãˆãŸã®ã§ã€ãƒ­ã‚°ã«åã‹ã‚Œã‚‹ã¾ã§å‡¦ç†å¾…ã¡ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ</p>\n\n<p>ã“ã‚Œã ã‘ã ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ã®æã‚ŒãŒã‚ã‚‹ã®ã§ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç­‰ãŒå¿…è¦ã§ã‚ã‚Œã°é©å®œå®Ÿè£…ã—ã¦ãã ã•ã„</p>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><code><span class=\"c\"># ã‚µãƒ¼ãƒ“ã‚¹å</span>\n<span class=\"nv\">service_name</span><span class=\"o\">=</span><span class=\"s2\">\"xxxxx\"</span>\n<span class=\"c\"># èµ·å‹•æ™‚åˆ»</span>\n<span class=\"nv\">start_time</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">date</span> <span class=\"nt\">-u</span> +%FT%T<span class=\"si\">)</span><span class=\"s2\">\"</span>\n\n<span class=\"c\"># ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•</span>\ndocker-compose up <span class=\"nt\">-d</span>\n\n<span class=\"c\"># èµ·å‹•æ™‚åˆ»ä»¥é™ã« `Ready.` ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¾ã§å‡¦ç†å¾…ã¡</span>\n<span class=\"k\">while</span> <span class=\"o\">[</span> <span class=\"s2\">\"</span><span class=\"si\">$(</span>docker-compose logs <span class=\"nt\">--no-color</span> <span class=\"nt\">--timestamp</span> | <span class=\"nb\">awk</span> <span class=\"s1\">'$1==\"'</span><span class=\"s2\">\"</span><span class=\"nv\">$service_name</span><span class=\"s2\">\"</span><span class=\"s1\">'\"&amp;&amp;$3&gt;=\"'</span><span class=\"s2\">\"</span><span class=\"nv\">$start_time</span><span class=\"s2\">\"</span><span class=\"s1\">'\"'</span> | <span class=\"nb\">grep</span> <span class=\"nt\">-c</span> <span class=\"s2\">\"Ready.\"</span><span class=\"si\">)</span><span class=\"s2\">\"</span> <span class=\"nt\">-eq</span> 0 <span class=\"o\">]</span><span class=\"p\">;</span> <span class=\"k\">do\n  </span><span class=\"nb\">echo</span> <span class=\"s2\">\"Waiting LocalStack...\"</span>\n  <span class=\"nb\">sleep </span>1\n<span class=\"k\">done\n\n</span><span class=\"nb\">echo</span> <span class=\"s2\">\"LocalStack Ready.\"</span>\n</code></pre></div></div>\n",
      "body": "CIç’°å¢ƒã§LocalStackã‚’å‹•ã‹ã™ã«ã‚ãŸã‚Šæ¤œè¨ã—ãŸã‚‚ã®ã®å‚™å¿˜ã§ã™ğŸš\n\nå…¬å¼ã«[ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯](https://github.com/localstack/localstack#service-health-checks)ã‚‚æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€\nå®Ÿæ„Ÿã¨ã—ã¦dockerã®ãƒ­ã‚°ã« `Ready.` ã¨è¡¨ç¤ºã•ã‚ŒãŸè¾ºã‚Šã‹ã‚‰å®‰å®šã—ã¦å‹•ä½œã™ã‚‹ã‚ˆã†ã«æ€ãˆãŸã®ã§ã€ãƒ­ã‚°ã«åã‹ã‚Œã‚‹ã¾ã§å‡¦ç†å¾…ã¡ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ\n\nã“ã‚Œã ã‘ã ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ã®æã‚ŒãŒã‚ã‚‹ã®ã§ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç­‰ãŒå¿…è¦ã§ã‚ã‚Œã°é©å®œå®Ÿè£…ã—ã¦ãã ã•ã„\n\n```bash\n# ã‚µãƒ¼ãƒ“ã‚¹å\nservice_name=\"xxxxx\"\n# èµ·å‹•æ™‚åˆ»\nstart_time=\"$(date -u +%FT%T)\"\n\n# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•\ndocker-compose up -d\n\n# èµ·å‹•æ™‚åˆ»ä»¥é™ã« `Ready.` ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¾ã§å‡¦ç†å¾…ã¡\nwhile [ \"$(docker-compose logs --no-color --timestamp | awk '$1==\"'\"$service_name\"'\"&&$3>=\"'\"$start_time\"'\"' | grep -c \"Ready.\")\" -eq 0 ]; do\n  echo \"Waiting LocalStack...\"\n  sleep 1\ndone\n\necho \"LocalStack Ready.\"\n```\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-07-01T11:44:32+09:00",
      "group": null,
      "id": "ed88dbdfc0547ea41d28",
      "likes_count": 0,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "ShellScript",
          "versions": []
        },
        {
          "name": "docker-compose",
          "versions": []
        },
        {
          "name": "LocalStack",
          "versions": []
        }
      ],
      "title": "LocalStackã®èµ·å‹•å¾…ã¡ã‚’ã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ",
      "updated_at": "2020-07-01T11:44:32+09:00",
      "url": "https://qiita.com/yktakaha4/items/ed88dbdfc0547ea41d28",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p><a href=\"https://docs.nestjs.com/recipes/swagger\" rel=\"nofollow noopener\" target=\"_blank\">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã«ã¯èµ·å‹•ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒã‹ã‚‰JSONå‡ºåŠ›ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã—ã‹ãªã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸ<br>\nå˜ç´”ã« <code>OpenAPIObject</code> ã‚’YAMLãªã‚ŠJSONãªã‚Šã«å‡ºåŠ›ã™ã‚Œã°ã‚ˆã„æ¨¡æ§˜</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">exportOpenAPIDocument.ts</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">import</span> <span class=\"nx\">yaml</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">js-yaml</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">fs</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">fs-extra</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">path</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">DocumentBuilder</span><span class=\"p\">,</span> <span class=\"nx\">SwaggerModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">@nestjs/swagger</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">./app.module</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NestFactory</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">'</span><span class=\"s1\">@nestjs/core</span><span class=\"dl\">'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">exportOpenAPIDocument</span> <span class=\"o\">=</span> <span class=\"k\">async</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">NestFactory</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">AppModule</span><span class=\"p\">);</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">documentBuilder</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">DocumentBuilder</span><span class=\"p\">()</span>\n    <span class=\"p\">.</span><span class=\"nx\">setTitle</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">xxxxx</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">setDescription</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">xxxxx</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">setVersion</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">1.0</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">build</span><span class=\"p\">();</span>\n\n  <span class=\"kd\">const</span> <span class=\"nb\">document</span> <span class=\"o\">=</span> <span class=\"nx\">SwaggerModule</span><span class=\"p\">.</span><span class=\"nx\">createDocument</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">,</span> <span class=\"nx\">documentBuilder</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">yamlDocument</span> <span class=\"o\">=</span> <span class=\"nx\">yaml</span><span class=\"p\">.</span><span class=\"nx\">safeDump</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n    <span class=\"na\">skipInvalid</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"na\">noRefs</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"p\">});</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">yamlPath</span> <span class=\"o\">=</span> <span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">path_to</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">openapi.yml</span><span class=\"dl\">'</span><span class=\"p\">);</span>\n\n  <span class=\"k\">await</span> <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">writeFile</span><span class=\"p\">(</span><span class=\"nx\">yamlPath</span><span class=\"p\">,</span> <span class=\"nx\">yamlDocument</span><span class=\"p\">);</span>\n<span class=\"p\">};</span>\n\n<span class=\"p\">(</span><span class=\"k\">async</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"k\">await</span> <span class=\"nx\">exportOpenAPIDocument</span><span class=\"p\">())();</span>\n</code></pre></div>\n</div>\n\n<p><code>package.json</code> ã«ã¯ä»¥ä¸‹ã®æ„Ÿã˜ã§æ›¸ã„ã¦ãŠãã¨ä¾¿åˆ©ã§ã—ã‚‡ã†</p>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonï¼ˆæŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre><code>{\n  \"scripts\": {\n    \"openapi:export\": \"ts-node src/exportOpenAPIDocument.ts\"\n  }\n}\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>npm run openapi:export\n</code></pre></div></div>\n\n<p>ãŠè©¦ã—ã‚’ï¼ğŸ‘³â€â™‚ï¸</p>\n",
      "body": "[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.nestjs.com/recipes/swagger)ã«ã¯èµ·å‹•ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒã‹ã‚‰JSONå‡ºåŠ›ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã—ã‹ãªã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸ\nå˜ç´”ã« `OpenAPIObject` ã‚’YAMLãªã‚ŠJSONãªã‚Šã«å‡ºåŠ›ã™ã‚Œã°ã‚ˆã„æ¨¡æ§˜\n\n```typescript:exportOpenAPIDocument.ts\nimport yaml from 'js-yaml';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport { AppModule } from './app.module';\nimport { NestFactory } from '@nestjs/core';\n\nconst exportOpenAPIDocument = async () => {\n  const app = await NestFactory.create(AppModule);\n\n  const documentBuilder = new DocumentBuilder()\n    .setTitle('xxxxx')\n    .setDescription('xxxxx')\n    .setVersion('1.0')\n    .build();\n\n  const document = SwaggerModule.createDocument(app, documentBuilder);\n  const yamlDocument = yaml.safeDump(document, {\n    skipInvalid: true,\n    noRefs: true,\n  });\n  const yamlPath = path.join(__dirname, 'path_to', 'openapi.yml');\n\n  await fs.writeFile(yamlPath, yamlDocument);\n};\n\n(async () => await exportOpenAPIDocument())();\n```\n\n`package.json` ã«ã¯ä»¥ä¸‹ã®æ„Ÿã˜ã§æ›¸ã„ã¦ãŠãã¨ä¾¿åˆ©ã§ã—ã‚‡ã†\n\n```package.jsonï¼ˆæŠœç²‹ï¼‰\n{\n  \"scripts\": {\n    \"openapi:export\": \"ts-node src/exportOpenAPIDocument.ts\"\n  }\n}\n```\n\n```terminal\n$ npm run openapi:export\n```\n\nãŠè©¦ã—ã‚’ï¼ğŸ‘³â€â™‚ï¸\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-03-15T20:32:52+09:00",
      "group": null,
      "id": "97ea169ed97dbcdd25fb",
      "likes_count": 7,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "TypeScript",
          "versions": []
        },
        {
          "name": "OpenAPI",
          "versions": []
        },
        {
          "name": "NestJS",
          "versions": []
        }
      ],
      "title": "NestJSã§OpenAPI(Swagger)å®šç¾©ã‚’ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã™ã‚‹",
      "updated_at": "2020-03-21T00:37:26+09:00",
      "url": "https://qiita.com/yktakaha4/items/97ea169ed97dbcdd25fb",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>æœ€è¿‘TypeScriptãŒæ¥½ã—ã„ã®ã§ã€å®Ÿç›Šå…¼ã­ã¦ä½œã£ãŸã‚‚ã®ã‚’ã”ç´¹ä»‹ã—ã¾ã™</p>\n\n<h1>\n<span id=\"ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%82%E3%81%AE%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹</h1>\n\n<p>AWSä¸Šã§<a href=\"https://qiita.com/yktakaha4/items/bc26c38baea56f244c19\" id=\"reference-a44d4584b2b9e8e1bcd2\">ã‚µãƒ¼ãƒãƒ¬ã‚¹ã«æ§‹ç¯‰ã—ãŸLP</a>ã‚’å€‹äººã§é–‹ç™ºãƒ»ä¿å®ˆãƒ»é‹ç”¨ã—ã¦ã„ã¾ã™ğŸ‘·â€â™‚ï¸</p>\n\n<p>ä»Šã¾ã§ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç•°å¸¸å€¤ï¼ˆCloudFrontã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°å¢—åŠ ã€Lambdaã§ã®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã€è«‹æ±‚é‡‘é¡ãªã©ï¼‰ã«ã¤ã„ã¦ã¯ã€<code>CloudWatchã‚¢ãƒ©ãƒ¼ãƒ  -&gt; SNS -&gt; Chatbot -&gt; Slack</code> ã¨ã„ã†çµŒè·¯ã§é©å®œé€šçŸ¥ã‚’è¡Œã£ã¦ã„ãŸã®ã§ã™ãŒã€<br>\nå¹³å¸¸æ™‚ã®å€¤ã«ã¤ã„ã¦ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ãŸã‚‚ã®ã®ã‚ã¾ã‚Šè¦‹ã‚Œã¦ãŠã‚‰ãšã€Slackä¸Šã§ã‚‚ã†å°‘ã—æ‰‹è»½&amp;ã“ã¾ã‚ã«ç¢ºèªã—ãŸã„...ã¨è€ƒãˆã¦ã„ã¾ã—ãŸ</p>\n\n<p>AWS SDKã«ã¯<a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_GetMetricWidgetImage.html\" rel=\"nofollow noopener\" target=\"_blank\">GetMetricWidgetImage</a>ã¨ã„ã†ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç”»åƒå‡ºåŠ›ã§ãã‚‹ã¨ã„ã†ãã®ã‚‚ã®ã‚ºãƒãƒªãªã‚„ã¤ãŒã‚ã‚Šã¾ã™ãŒã€<br>\nCloudWatchãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾å‡ºåŠ›ã™ã‚‹æ©Ÿèƒ½ã¯æä¾›ã•ã‚Œã¦ãŠã‚‰ãšã€ä½•ã‹ã—ã‚‰å·¥å¤«ãŒå¿…è¦ã¨ãªã‚Šã¾ã™</p>\n\n<p>ã¨ã„ã†ã“ã¨ã§ã€TypeScriptã¨Serverless Frameworkã‚’ç”¨ã„ã¦ã€CloudWatchãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’æ—¥æ¬¡ã§Slackã«é€šçŸ¥ã™ã‚‹ä»•çµ„ã¿ã‚’é–‹ç™ºã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸğŸ”</p>\n\n<h1>\n<span id=\"ã©ã†ã‚„ã£ã¦ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã†ã‚„ã£ã¦ä½œã‚‹ã‹</h1>\n\n<p>ã“ã®ä¸Šãªãç°¡å˜ãªæ§‹æˆå›³ãŒã“ã¡ã‚‰ã§ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ee799917910c6bf1b560d9d5ce95ed2175fbc320/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f38343866316335382d373065322d353439382d373663302d6333333334303430303964622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F848f1c58-70e2-5498-76c0-c333404009db.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e43961b92269c6222efc57d283c1af1f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/848f1c58-70e2-5498-76c0-c333404009db.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F848f1c58-70e2-5498-76c0-c333404009db.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dd77228297e89e9800e4c8e9e3a802c4 1x\" loading=\"lazy\"></a></p>\n\n<p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ‰‹ãƒãƒã§ä½œæˆã—ãŸä¸Šã§ã€JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸã‚‚ã®ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰èª­ã¿è¾¼ã¿åˆ©ç”¨ã—ã¾ã™<br>\nLambdaä¸Šã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ¯ã«ç”»åƒå‡ºåŠ›ã—ã¾ã™</p>\n\n<p>ãã®ã¾ã¾ç”»åƒæ¯ã«Slackã«æŠ•ç¨¿ã—ã¦ã‚‚æ‚ªãã¯ãªã„ã§ã™ãŒã€å¥½ã¿ã¨ã—ã¦ã¯ãã®æ™‚ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®æ–­é¢ã‚’æ®‹ã—ã¦ãŠããŸã‹ã£ãŸã®ã§ã€<a href=\"https://github.com/lukechilds/merge-images\" rel=\"nofollow noopener\" target=\"_blank\">merge-images</a>ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦å„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç”»åƒã‚’1æšã®ç”»åƒã«ã¾ã¨ã‚ã‚‹ã“ã¨ã¨ã—ã¾ã™</p>\n\n<p>æœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹•ä½œã«ã¯<a href=\"https://github.com/Automattic/node-canvas\" rel=\"nofollow noopener\" target=\"_blank\">node-canvas</a>ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ä¾‹ã«ã‚ˆã£ã¦Lambdaä¸Šã§ã¯å‹•ã‹ãšå›°ã£ã¦ã„ãŸã¨ã“ã‚ã€<br>\næ¸¡ã‚Šã«èˆ¹â›´ã¨ã°ã‹ã‚Šã«<a href=\"https://github.com/jwerre/node-canvas-lambda\" rel=\"nofollow noopener\" target=\"_blank\">node-canvas-lambda</a>ãªã‚‹Lambda Layerã‚’ä½œã£ã¦ã„ã‚‹æ–¹ãŒã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’ã‚ã‚ŠãŒãŸãèª­ã¿è¾¼ã‚“ã§ä½¿ã„ã¾ã™</p>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p>ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"></p>\n\n<p><qiita-embed-ogp src=\"https://github.com/yktakaha4/cw-metrics-notifier\"></qiita-embed-ogp></p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ–¹æ³•</h2>\n\n<p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ãŸä¸Šã§ã€ <code>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -&gt; ã‚½ãƒ¼ã‚¹ã®è¡¨ç¤º/ç·¨é›†</code> ã§è¡¨ç¤ºã•ã‚Œã‚‹JSONå®šç¾©ã‚’ã‚³ãƒ”ãƒ¼ã—ã€<code>widgets/sample.json</code> ã‚’ä¸Šæ›¸ãã—ã¦ãã ã•ã„</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f3aec8e1e3e19ca1a070aaa6b7cc13f1a3516cb2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f39663232333238392d313639612d646233362d373231332d3266316137373262316535342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F9f223289-169a-db36-7213-2f1a772b1e54.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7cfb1cdb31d489cfe448dd9d84f0641c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/9f223289-169a-db36-7213-2f1a772b1e54.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F9f223289-169a-db36-7213-2f1a772b1e54.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7c4e6a055c637ef6dea7af0a538c9e2f 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">widgets/sample.json</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"comment\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"replace me!\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p><code>serverless.yml</code>ã® <code>deploymentBucket</code>ã‚„ <code>schedule</code>ã€é–¢æ•°ã®<code>environment</code>ãªã©ã‚’é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„</p>\n\n<div class=\"code-frame\" data-lang=\"yml\">\n<div class=\"code-lang\"><span class=\"bold\">serverless.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"s\">service:service:</span>\n  <span class=\"s\">name</span><span class=\"pi\">:</span> <span class=\"s\">cw-metrics-notifier</span>\n\n<span class=\"na\">provider</span><span class=\"pi\">:</span>\n  <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">aws</span>\n  <span class=\"na\">runtime</span><span class=\"pi\">:</span> <span class=\"s\">nodejs12.x</span>\n  <span class=\"na\">region</span><span class=\"pi\">:</span> <span class=\"s\">ap-northeast-1</span>\n  <span class=\"na\">stage</span><span class=\"pi\">:</span> <span class=\"s\">prod</span>\n  <span class=\"na\">deploymentBucket</span><span class=\"pi\">:</span> <span class=\"s\">xxxxxxx</span>\n  <span class=\"na\">memorySize</span><span class=\"pi\">:</span> <span class=\"m\">256</span>\n  <span class=\"na\">timeout</span><span class=\"pi\">:</span> <span class=\"m\">60</span>\n  <span class=\"na\">environment</span><span class=\"pi\">:</span>\n    <span class=\"na\">SLACK_TOKEN</span><span class=\"pi\">:</span> <span class=\"s\">${env:SLACK_TOKEN}</span>\n    <span class=\"na\">SLACK_METRICS_CHANNEL_ID</span><span class=\"pi\">:</span> <span class=\"s\">${env:SLACK_METRICS_CHANNEL_ID}</span>\n  <span class=\"na\">iamRoleStatements</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"na\">Effect</span><span class=\"pi\">:</span> <span class=\"s\">Allow</span>\n      <span class=\"na\">Action</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"s\">cloudwatch:GetMetricWidgetImage</span>\n      <span class=\"na\">Resource</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">*\"</span>\n\n<span class=\"na\">functions</span><span class=\"pi\">:</span>\n  <span class=\"na\">widgets</span><span class=\"pi\">:</span>\n    <span class=\"na\">handler</span><span class=\"pi\">:</span> <span class=\"s\">src/widgets.scheduledHandler</span>\n    <span class=\"na\">environment</span><span class=\"pi\">:</span>\n      <span class=\"c1\"># widgets/ é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šå¯ï¼‰</span>\n      <span class=\"na\">WIDGETS_NAMES</span><span class=\"pi\">:</span> <span class=\"s\">sample</span>\n      <span class=\"c1\"># ãƒãƒ¼ã‚¸ç”»åƒã§xæ–¹å‘ã«ã„ãã¤ã¾ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä¸¦ã¹ã‚‹ã‹</span>\n      <span class=\"na\">METRICS_X_COUNT</span><span class=\"pi\">:</span> <span class=\"m\">2</span>\n      <span class=\"c1\"># ä½•æ—¥å‰ã¾ã§ã‚’è¡¨ç¤ºå¯¾è±¡ã«ã™ã‚‹ã‹</span>\n      <span class=\"na\">METRICS_DAYS_AGO</span><span class=\"pi\">:</span> <span class=\"m\">7</span>\n    <span class=\"na\">events</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">schedule</span><span class=\"pi\">:</span>\n          <span class=\"na\">rate</span><span class=\"pi\">:</span> <span class=\"s\">cron(0 0 * * ? *)</span>\n          <span class=\"na\">enabled</span><span class=\"pi\">:</span> <span class=\"no\">true</span>\n    <span class=\"na\">layers</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"pi\">{</span> <span class=\"nv\">Ref</span><span class=\"pi\">:</span> <span class=\"nv\">NodeCanvasLambdaLayer</span> <span class=\"pi\">}</span>\n      <span class=\"pi\">-</span> <span class=\"pi\">{</span> <span class=\"nv\">Ref</span><span class=\"pi\">:</span> <span class=\"nv\">CanvasLib64LambdaLayer</span> <span class=\"pi\">}</span>\n\n<span class=\"na\">layers</span><span class=\"pi\">:</span>\n  <span class=\"na\">nodeCanvas</span><span class=\"pi\">:</span>\n    <span class=\"na\">package</span><span class=\"pi\">:</span>\n      <span class=\"na\">artifact</span><span class=\"pi\">:</span> <span class=\"s\">vendor/node-canvas-lambda/node12_canvas_layer.zip</span>\n  <span class=\"na\">canvasLib64</span><span class=\"pi\">:</span>\n    <span class=\"na\">package</span><span class=\"pi\">:</span>\n      <span class=\"na\">artifact</span><span class=\"pi\">:</span> <span class=\"s\">vendor/node-canvas-lambda/canvas-lib64-layer.zip</span>\n\n<span class=\"na\">package</span><span class=\"pi\">:</span>\n  <span class=\"na\">include</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"s\">widgets/</span>\n\n<span class=\"na\">plugins</span><span class=\"pi\">:</span>\n  <span class=\"pi\">-</span> <span class=\"s\">serverless-plugin-typescript</span>\n  <span class=\"pi\">-</span> <span class=\"s\">serverless-plugin-optimize</span>\n\n<span class=\"na\">custom</span><span class=\"pi\">:</span>\n  <span class=\"na\">optimize</span><span class=\"pi\">:</span>\n    <span class=\"na\">exclude</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">canvas</span>\n    <span class=\"na\">includePaths</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">widgets/</span>\n</code></pre></div>\n</div>\n\n<p>node-canvas-lambdaã®å–å¾—ã«ã¤ã„ã¦ã¯ã€npm scriptsã«æ›¸ã„ã¦ã‚ã‚‹ã®ã§æ°—ã«ã—ãªãã¦ã‚‚okã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonï¼ˆæŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"predeploy\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"rm -rf .build; [[ -d vendor/node-canvas-lambda ]] || (cd vendor &amp;&amp; git clone https://github.com/jwerre/node-canvas-lambda.git)\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"deploy\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"dotenv -- sls deploy -v\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p>ç›´ã—ã¦ã¿ã¦ã‚ˆã•ãã†ã ã£ãŸã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤</p>\n\n<div class=\"code-frame\" data-lang=\"shell-session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm ci\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ç’°å¢ƒå¤‰æ•°æƒ…å ±ã‚’è¿½åŠ \n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cp</span> <span class=\"nt\">-p</span> .env.sample .env\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cat</span> .env\n<span class=\"go\">AWS_ACCESS_KEY_ID=xxxxx\nAWS_SECRET_ACCESS_KEY=xxxxx\n\nSLACK_TOKEN=xoxp-xxxxx\nSLACK_METRICS_CHANNEL_ID=Cxxxxx\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ãƒ‡ãƒ—ãƒ­ã‚¤\n<span class=\"gp\">$</span><span class=\"w\"> </span>npm run deploy\n</code></pre></div>\n</div>\n\n<p>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ãŸæ™‚é–“ãŒæ¥ã‚‹ã¨ã€Slackã®æ‰€å®šã®ãƒãƒ£ãƒ³ãƒãƒ«ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã£ã½ã„ç”»åƒãŒæŠ•ç¨¿ã•ã‚Œã¾ã™ğŸ¨</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/34ff6d0252d67699b573ad51e4e639247fac0a26/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f31333762343636642d323532622d376131302d346239652d3163636666633836656433632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F137b466d-252b-7a10-4b9e-1ccffc86ed3c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ccbd99bec03a065c0805cb2536eafc40\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/137b466d-252b-7a10-4b9e-1ccffc86ed3c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F137b466d-252b-7a10-4b9e-1ccffc86ed3c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5e79efc6ca78c6c15f4dfa515232f7bf 1x\" loading=\"lazy\"></a></p>\n\n<p>å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã¯GitHubã‚’è¦‹ã¦é ‚ãã®ãŒã‚ˆã„ã§ã™ãŒã€è‚ã¨ãªã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç”»åƒå‡ºåŠ›ã¨ãƒãƒ¼ã‚¸ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã£ã¦ãŠãã¾ã™<br>\n<code>MetricWidget</code>ã«ä½•ãŒæ¸¡ã›ã‚‹ã‹ã¯<a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/CloudWatch-Metric-Widget-Structure.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’è¦‹ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™</p>\n\n<p>ã‚ã¨ã€ã“ã‚Œã¯ã¡ã‚ƒã‚“ã¨èª¿æŸ»ã§ãã¦ãªã„ã®ã§ã™ãŒã€<code>timeSeries</code>ã‚¿ã‚¤ãƒ—ä»¥å¤–ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã„ã„æ„Ÿã˜ã«æç”»ã•ã‚Œãªã„æ„Ÿã˜ãŒã—ãŸã®ã§ã€å–å¾—å¯¾è±¡å¤–ã¨ã—ã¦ã„ã¾ã™<br>\nãã—ã¦ã‚°ãƒ©ãƒ•ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã«æ—¥æœ¬èªãªã©ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã‚’å…¥ã‚Œã‚‹ã¨æ–‡å­—åŒ–ã‘ã—ã¾ã™...</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">widgets.tsï¼ˆæŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre><code>  <span class=\"c1\">// ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæ¯ã«pngç”»åƒã‚’ç”Ÿæˆã—ã€ãƒãƒ¼ã‚¸ç”¨å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">imageSources</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nb\">Promise</span><span class=\"p\">.</span><span class=\"nx\">all</span><span class=\"p\">(</span>\n    <span class=\"nx\">widgets</span>\n      <span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span><span class=\"nx\">widgetPart</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">widgetPart</span><span class=\"p\">?.</span><span class=\"nx\">properties</span><span class=\"p\">?.</span><span class=\"nx\">view</span> <span class=\"o\">===</span> <span class=\"dl\">'</span><span class=\"s1\">timeSeries</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"k\">async</span> <span class=\"p\">(</span><span class=\"nx\">widgetPart</span><span class=\"p\">,</span> <span class=\"nx\">index</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">properties</span> <span class=\"o\">=</span> <span class=\"nx\">widgetPart</span><span class=\"p\">.</span><span class=\"nx\">properties</span><span class=\"p\">;</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">imagePath</span> <span class=\"o\">=</span> <span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">imagesDir</span><span class=\"p\">,</span> <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">index</span><span class=\"p\">}</span><span class=\"s2\">.png`</span><span class=\"p\">);</span>\n\n        <span class=\"c1\">// +0000 å½¢å¼</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">timezone</span> <span class=\"o\">=</span> <span class=\"nx\">moment</span><span class=\"p\">()</span>\n          <span class=\"p\">.</span><span class=\"nx\">format</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">Z</span><span class=\"dl\">'</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">:</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"dl\">''</span><span class=\"p\">);</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">cw</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">CloudWatch</span><span class=\"p\">({</span>\n          <span class=\"na\">region</span><span class=\"p\">:</span> <span class=\"nx\">properties</span><span class=\"p\">.</span><span class=\"nx\">region</span><span class=\"p\">,</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"c1\">// AWSã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã€çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">output</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">cw</span>\n          <span class=\"p\">.</span><span class=\"nx\">getMetricWidgetImage</span><span class=\"p\">({</span>\n            <span class=\"na\">MetricWidget</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">({</span>\n              <span class=\"p\">...</span><span class=\"nx\">properties</span><span class=\"p\">,</span>\n              <span class=\"na\">start</span><span class=\"p\">:</span> <span class=\"s2\">`-PT</span><span class=\"p\">${</span><span class=\"nx\">metricsDaysAgo</span> <span class=\"o\">*</span> <span class=\"mi\">24</span><span class=\"p\">}</span><span class=\"s2\">H`</span><span class=\"p\">,</span>\n              <span class=\"na\">end</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">PT0H</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n              <span class=\"nx\">timezone</span><span class=\"p\">,</span>\n              <span class=\"na\">width</span><span class=\"p\">:</span> <span class=\"nx\">imageWidth</span><span class=\"p\">,</span>\n              <span class=\"na\">height</span><span class=\"p\">:</span> <span class=\"nx\">imageHeight</span><span class=\"p\">,</span>\n            <span class=\"p\">}),</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">promise</span><span class=\"p\">();</span>\n\n        <span class=\"k\">await</span> <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">writeFile</span><span class=\"p\">(</span><span class=\"nx\">imagePath</span><span class=\"p\">,</span> <span class=\"nx\">output</span><span class=\"p\">.</span><span class=\"nx\">MetricWidgetImage</span><span class=\"p\">);</span>\n\n        <span class=\"c1\">// ãƒãƒ¼ã‚¸ç”¨å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—è¿”å´</span>\n        <span class=\"c1\">// æç”»ä½ç½®ã®æŒ‡å®šã‚’ãŠã“ãªã„ã€ç”»åƒã‚’ metricsXCount ãšã¤æ¨ªã«ä¸¦ã¹ã‚‹</span>\n        <span class=\"kd\">const</span> <span class=\"na\">source</span><span class=\"p\">:</span> <span class=\"nx\">ImageSource</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n          <span class=\"na\">src</span><span class=\"p\">:</span> <span class=\"nx\">imagePath</span><span class=\"p\">,</span>\n          <span class=\"na\">x</span><span class=\"p\">:</span> <span class=\"nx\">imageWidth</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">%</span> <span class=\"nx\">metricsXCount</span><span class=\"p\">),</span>\n          <span class=\"na\">y</span><span class=\"p\">:</span> <span class=\"nx\">imageHeight</span> <span class=\"o\">*</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">floor</span><span class=\"p\">(</span><span class=\"nx\">index</span> <span class=\"o\">/</span> <span class=\"nx\">metricsXCount</span><span class=\"p\">),</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"k\">return</span> <span class=\"nx\">source</span><span class=\"p\">;</span>\n      <span class=\"p\">}),</span>\n  <span class=\"p\">);</span>\n\n  <span class=\"c1\">// ç”»åƒã®ãƒãƒ¼ã‚¸</span>\n  <span class=\"c1\">// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªéƒ½åˆã§ Canvas.Image ãŒå­˜åœ¨ã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸãŸã‚ä»¥ä¸‹æŒ‡å®š</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">canvas</span><span class=\"p\">:</span> <span class=\"kr\">any</span> <span class=\"o\">=</span> <span class=\"nx\">Canvas</span><span class=\"p\">;</span>\n  <span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">Image</span> <span class=\"o\">=</span> <span class=\"nx\">Image</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">mergedImageBase64</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">mergeImages</span><span class=\"p\">(</span><span class=\"nx\">imageSources</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n    <span class=\"na\">Canvas</span><span class=\"p\">:</span> <span class=\"nx\">canvas</span><span class=\"p\">,</span>\n    <span class=\"na\">width</span><span class=\"p\">:</span> <span class=\"nx\">imageWidth</span> <span class=\"o\">*</span> <span class=\"nx\">metricsXCount</span><span class=\"p\">,</span>\n    <span class=\"na\">height</span><span class=\"p\">:</span> <span class=\"nx\">imageHeight</span> <span class=\"o\">*</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">ceil</span><span class=\"p\">(</span><span class=\"nx\">imageSources</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">/</span> <span class=\"nx\">metricsXCount</span><span class=\"p\">),</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Base64å½¢å¼ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">metricsData</span> <span class=\"o\">=</span> <span class=\"nx\">mergedImageBase64</span><span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span><span class=\"sr\">/^data:image</span><span class=\"se\">\\/</span><span class=\"sr\">png;base64,/</span><span class=\"p\">,</span> <span class=\"dl\">''</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">metricsPath</span> <span class=\"o\">=</span> <span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">imagesDir</span><span class=\"p\">,</span> <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">widgetsName</span><span class=\"p\">}</span><span class=\"s2\">.png`</span><span class=\"p\">);</span>\n  <span class=\"k\">await</span> <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">writeFile</span><span class=\"p\">(</span><span class=\"nx\">metricsPath</span><span class=\"p\">,</span> <span class=\"nx\">metricsData</span><span class=\"p\">,</span> <span class=\"dl\">'</span><span class=\"s1\">base64</span><span class=\"dl\">'</span><span class=\"p\">);</span>\n</code></pre></div>\n</div>\n\n<p>ä»Šå›ã¯ä¸»æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ã®ã§è§¦ã‚Œã¾ã›ã‚“ãŒã€<code>.github/workflows/</code> é…ä¸‹ã«GitHub Actionsã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ç”¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚‚å…¥ã‚Œã¦ã„ã¾ã™ã®ã§ã€å¿…è¦ã‚ã‚‰ã°ã”åˆ©ç”¨ãã ã•ã„</p>\n\n<h1>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h1>\n\n<p>TypeScriptã¯ã€é™çš„å‹ä»˜ã‘ã®ãƒ¡ãƒªãƒƒãƒˆã‚’æ‰‹è»½ã«äº«å—ã—ã¤ã¤ã€Nodeè£½ã®å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ´»ç”¨ã§ãã¤ã¤ã€Lambdaã¯ã˜ã‚ã‚µãƒ¼ãƒãƒ¬ã‚¹ã¨ã®è¦ªå’Œæ€§ã‚‚é«˜ãã€ãƒ•ãƒ­ãƒ³ãƒˆã‚‚æ›¸ã‘ã‚‹ã‚“ã ã‹ã‚‰ã ã„ã¶æœ€é«˜æ„Ÿã‚ã‚Šã¾ã™ã­...ï¼<br>\nã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ğŸš</p>\n",
      "body": "# ã¯ã˜ã‚ã«\n\næœ€è¿‘TypeScriptãŒæ¥½ã—ã„ã®ã§ã€å®Ÿç›Šå…¼ã­ã¦ä½œã£ãŸã‚‚ã®ã‚’ã”ç´¹ä»‹ã—ã¾ã™\n\n# ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\n\nAWSä¸Šã§[ã‚µãƒ¼ãƒãƒ¬ã‚¹ã«æ§‹ç¯‰ã—ãŸLP](https://qiita.com/yktakaha4/items/bc26c38baea56f244c19)ã‚’å€‹äººã§é–‹ç™ºãƒ»ä¿å®ˆãƒ»é‹ç”¨ã—ã¦ã„ã¾ã™ğŸ‘·â€â™‚ï¸\n\nä»Šã¾ã§ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç•°å¸¸å€¤ï¼ˆCloudFrontã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°å¢—åŠ ã€Lambdaã§ã®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã€è«‹æ±‚é‡‘é¡ãªã©ï¼‰ã«ã¤ã„ã¦ã¯ã€`CloudWatchã‚¢ãƒ©ãƒ¼ãƒ  -> SNS -> Chatbot -> Slack` ã¨ã„ã†çµŒè·¯ã§é©å®œé€šçŸ¥ã‚’è¡Œã£ã¦ã„ãŸã®ã§ã™ãŒã€\nå¹³å¸¸æ™‚ã®å€¤ã«ã¤ã„ã¦ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ãŸã‚‚ã®ã®ã‚ã¾ã‚Šè¦‹ã‚Œã¦ãŠã‚‰ãšã€Slackä¸Šã§ã‚‚ã†å°‘ã—æ‰‹è»½&ã“ã¾ã‚ã«ç¢ºèªã—ãŸã„...ã¨è€ƒãˆã¦ã„ã¾ã—ãŸ\n\nAWS SDKã«ã¯[GetMetricWidgetImage](https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_GetMetricWidgetImage.html)ã¨ã„ã†ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç”»åƒå‡ºåŠ›ã§ãã‚‹ã¨ã„ã†ãã®ã‚‚ã®ã‚ºãƒãƒªãªã‚„ã¤ãŒã‚ã‚Šã¾ã™ãŒã€\nCloudWatchãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾å‡ºåŠ›ã™ã‚‹æ©Ÿèƒ½ã¯æä¾›ã•ã‚Œã¦ãŠã‚‰ãšã€ä½•ã‹ã—ã‚‰å·¥å¤«ãŒå¿…è¦ã¨ãªã‚Šã¾ã™\n\nã¨ã„ã†ã“ã¨ã§ã€TypeScriptã¨Serverless Frameworkã‚’ç”¨ã„ã¦ã€CloudWatchãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’æ—¥æ¬¡ã§Slackã«é€šçŸ¥ã™ã‚‹ä»•çµ„ã¿ã‚’é–‹ç™ºã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸğŸ”\n\n# ã©ã†ã‚„ã£ã¦ä½œã‚‹ã‹\n\nã“ã®ä¸Šãªãç°¡å˜ãªæ§‹æˆå›³ãŒã“ã¡ã‚‰ã§ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/848f1c58-70e2-5498-76c0-c333404009db.png)\n\nãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ‰‹ãƒãƒã§ä½œæˆã—ãŸä¸Šã§ã€JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸã‚‚ã®ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰èª­ã¿è¾¼ã¿åˆ©ç”¨ã—ã¾ã™\nLambdaä¸Šã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ¯ã«ç”»åƒå‡ºåŠ›ã—ã¾ã™\n\nãã®ã¾ã¾ç”»åƒæ¯ã«Slackã«æŠ•ç¨¿ã—ã¦ã‚‚æ‚ªãã¯ãªã„ã§ã™ãŒã€å¥½ã¿ã¨ã—ã¦ã¯ãã®æ™‚ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®æ–­é¢ã‚’æ®‹ã—ã¦ãŠããŸã‹ã£ãŸã®ã§ã€[merge-images](https://github.com/lukechilds/merge-images)ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦å„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç”»åƒã‚’1æšã®ç”»åƒã«ã¾ã¨ã‚ã‚‹ã“ã¨ã¨ã—ã¾ã™\n\næœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹•ä½œã«ã¯[node-canvas](https://github.com/Automattic/node-canvas)ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ä¾‹ã«ã‚ˆã£ã¦Lambdaä¸Šã§ã¯å‹•ã‹ãšå›°ã£ã¦ã„ãŸã¨ã“ã‚ã€\næ¸¡ã‚Šã«èˆ¹â›´ã¨ã°ã‹ã‚Šã«[node-canvas-lambda](https://github.com/jwerre/node-canvas-lambda)ãªã‚‹Lambda Layerã‚’ä½œã£ã¦ã„ã‚‹æ–¹ãŒã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’ã‚ã‚ŠãŒãŸãèª­ã¿è¾¼ã‚“ã§ä½¿ã„ã¾ã™\n\n# ä½œã£ãŸã‚‚ã®\n\nã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™:octocat:\n\nhttps://github.com/yktakaha4/cw-metrics-notifier\n\n## æ§‹ç¯‰æ–¹æ³•\n\nãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã—ãŸä¸Šã§ã€ `ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -> ã‚½ãƒ¼ã‚¹ã®è¡¨ç¤º/ç·¨é›†` ã§è¡¨ç¤ºã•ã‚Œã‚‹JSONå®šç¾©ã‚’ã‚³ãƒ”ãƒ¼ã—ã€`widgets/sample.json` ã‚’ä¸Šæ›¸ãã—ã¦ãã ã•ã„\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/9f223289-169a-db36-7213-2f1a772b1e54.png)\n\n```json:widgets/sample.json\n{\n  \"comment\": \"replace me!\"\n}\n```\n\n`serverless.yml`ã® `deploymentBucket`ã‚„ `schedule`ã€é–¢æ•°ã®`environment`ãªã©ã‚’é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„\n\n```yml:serverless.yml\nservice:service:\n  name: cw-metrics-notifier\n\nprovider:\n  name: aws\n  runtime: nodejs12.x\n  region: ap-northeast-1\n  stage: prod\n  deploymentBucket: xxxxxxx\n  memorySize: 256\n  timeout: 60\n  environment:\n    SLACK_TOKEN: ${env:SLACK_TOKEN}\n    SLACK_METRICS_CHANNEL_ID: ${env:SLACK_METRICS_CHANNEL_ID}\n  iamRoleStatements:\n    - Effect: Allow\n      Action:\n        - cloudwatch:GetMetricWidgetImage\n      Resource: \"*\"\n\nfunctions:\n  widgets:\n    handler: src/widgets.scheduledHandler\n    environment:\n      # widgets/ é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šå¯ï¼‰\n      WIDGETS_NAMES: sample\n      # ãƒãƒ¼ã‚¸ç”»åƒã§xæ–¹å‘ã«ã„ãã¤ã¾ã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä¸¦ã¹ã‚‹ã‹\n      METRICS_X_COUNT: 2\n      # ä½•æ—¥å‰ã¾ã§ã‚’è¡¨ç¤ºå¯¾è±¡ã«ã™ã‚‹ã‹\n      METRICS_DAYS_AGO: 7\n    events:\n      - schedule:\n          rate: cron(0 0 * * ? *)\n          enabled: true\n    layers:\n      - { Ref: NodeCanvasLambdaLayer }\n      - { Ref: CanvasLib64LambdaLayer }\n\nlayers:\n  nodeCanvas:\n    package:\n      artifact: vendor/node-canvas-lambda/node12_canvas_layer.zip\n  canvasLib64:\n    package:\n      artifact: vendor/node-canvas-lambda/canvas-lib64-layer.zip\n\npackage:\n  include:\n    - widgets/\n\nplugins:\n  - serverless-plugin-typescript\n  - serverless-plugin-optimize\n\ncustom:\n  optimize:\n    exclude:\n      - canvas\n    includePaths:\n      - widgets/\n```\n\nnode-canvas-lambdaã®å–å¾—ã«ã¤ã„ã¦ã¯ã€npm scriptsã«æ›¸ã„ã¦ã‚ã‚‹ã®ã§æ°—ã«ã—ãªãã¦ã‚‚okã§ã™\n\n```json:package.jsonï¼ˆæŠœç²‹ï¼‰\n{\n  \"scripts\": {\n    \"predeploy\": \"rm -rf .build; [[ -d vendor/node-canvas-lambda ]] || (cd vendor && git clone https://github.com/jwerre/node-canvas-lambda.git)\",\n    \"deploy\": \"dotenv -- sls deploy -v\"\n  }\n}\n```\n\nç›´ã—ã¦ã¿ã¦ã‚ˆã•ãã†ã ã£ãŸã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤\n\n```shell-session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n$ npm ci\n\n# ç’°å¢ƒå¤‰æ•°æƒ…å ±ã‚’è¿½åŠ \n$ cp -p .env.sample .env\n$ cat .env\nAWS_ACCESS_KEY_ID=xxxxx\nAWS_SECRET_ACCESS_KEY=xxxxx\n\nSLACK_TOKEN=xoxp-xxxxx\nSLACK_METRICS_CHANNEL_ID=Cxxxxx\n\n# ãƒ‡ãƒ—ãƒ­ã‚¤\n$ npm run deploy\n```\n\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ãŸæ™‚é–“ãŒæ¥ã‚‹ã¨ã€Slackã®æ‰€å®šã®ãƒãƒ£ãƒ³ãƒãƒ«ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã£ã½ã„ç”»åƒãŒæŠ•ç¨¿ã•ã‚Œã¾ã™ğŸ¨\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/137b466d-252b-7a10-4b9e-1ccffc86ed3c.png)\n\nå®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã¯GitHubã‚’è¦‹ã¦é ‚ãã®ãŒã‚ˆã„ã§ã™ãŒã€è‚ã¨ãªã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç”»åƒå‡ºåŠ›ã¨ãƒãƒ¼ã‚¸ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã£ã¦ãŠãã¾ã™\n`MetricWidget`ã«ä½•ãŒæ¸¡ã›ã‚‹ã‹ã¯[ã“ã¡ã‚‰](https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/CloudWatch-Metric-Widget-Structure.html)ã‚’è¦‹ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™\n\nã‚ã¨ã€ã“ã‚Œã¯ã¡ã‚ƒã‚“ã¨èª¿æŸ»ã§ãã¦ãªã„ã®ã§ã™ãŒã€`timeSeries`ã‚¿ã‚¤ãƒ—ä»¥å¤–ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã„ã„æ„Ÿã˜ã«æç”»ã•ã‚Œãªã„æ„Ÿã˜ãŒã—ãŸã®ã§ã€å–å¾—å¯¾è±¡å¤–ã¨ã—ã¦ã„ã¾ã™\nãã—ã¦ã‚°ãƒ©ãƒ•ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã«æ—¥æœ¬èªãªã©ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã‚’å…¥ã‚Œã‚‹ã¨æ–‡å­—åŒ–ã‘ã—ã¾ã™...\n\n```typescript:widgets.tsï¼ˆæŠœç²‹ï¼‰\n  // ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæ¯ã«pngç”»åƒã‚’ç”Ÿæˆã—ã€ãƒãƒ¼ã‚¸ç”¨å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹\n  const imageSources = await Promise.all(\n    widgets\n      .filter(widgetPart => widgetPart?.properties?.view === 'timeSeries')\n      .map(async (widgetPart, index) => {\n        const properties = widgetPart.properties;\n        const imagePath = path.join(imagesDir, `${index}.png`);\n\n        // +0000 å½¢å¼\n        const timezone = moment()\n          .format('Z')\n          .replace(':', '');\n\n        const cw = new CloudWatch({\n          region: properties.region,\n        });\n\n        // AWSã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã€çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜\n        const output = await cw\n          .getMetricWidgetImage({\n            MetricWidget: JSON.stringify({\n              ...properties,\n              start: `-PT${metricsDaysAgo * 24}H`,\n              end: 'PT0H',\n              timezone,\n              width: imageWidth,\n              height: imageHeight,\n            }),\n          })\n          .promise();\n\n        await fs.writeFile(imagePath, output.MetricWidgetImage);\n\n        // ãƒãƒ¼ã‚¸ç”¨å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—è¿”å´\n        // æç”»ä½ç½®ã®æŒ‡å®šã‚’ãŠã“ãªã„ã€ç”»åƒã‚’ metricsXCount ãšã¤æ¨ªã«ä¸¦ã¹ã‚‹\n        const source: ImageSource = {\n          src: imagePath,\n          x: imageWidth * (index % metricsXCount),\n          y: imageHeight * Math.floor(index / metricsXCount),\n        };\n\n        return source;\n      }),\n  );\n\n  // ç”»åƒã®ãƒãƒ¼ã‚¸\n  // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªéƒ½åˆã§ Canvas.Image ãŒå­˜åœ¨ã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã£ãŸãŸã‚ä»¥ä¸‹æŒ‡å®š\n  const canvas: any = Canvas;\n  canvas.Image = Image;\n\n  const mergedImageBase64 = await mergeImages(imageSources, {\n    Canvas: canvas,\n    width: imageWidth * metricsXCount,\n    height: imageHeight * Math.ceil(imageSources.length / metricsXCount),\n  });\n\n  // Base64å½¢å¼ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›\n  const metricsData = mergedImageBase64.replace(/^data:image\\/png;base64,/, '');\n  const metricsPath = path.join(imagesDir, `${widgetsName}.png`);\n  await fs.writeFile(metricsPath, metricsData, 'base64');\n```\n\nä»Šå›ã¯ä¸»æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ã®ã§è§¦ã‚Œã¾ã›ã‚“ãŒã€`.github/workflows/` é…ä¸‹ã«GitHub Actionsã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ç”¨ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚‚å…¥ã‚Œã¦ã„ã¾ã™ã®ã§ã€å¿…è¦ã‚ã‚‰ã°ã”åˆ©ç”¨ãã ã•ã„\n\n# ã¾ã¨ã‚\n\nTypeScriptã¯ã€é™çš„å‹ä»˜ã‘ã®ãƒ¡ãƒªãƒƒãƒˆã‚’æ‰‹è»½ã«äº«å—ã—ã¤ã¤ã€Nodeè£½ã®å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ´»ç”¨ã§ãã¤ã¤ã€Lambdaã¯ã˜ã‚ã‚µãƒ¼ãƒãƒ¬ã‚¹ã¨ã®è¦ªå’Œæ€§ã‚‚é«˜ãã€ãƒ•ãƒ­ãƒ³ãƒˆã‚‚æ›¸ã‘ã‚‹ã‚“ã ã‹ã‚‰ã ã„ã¶æœ€é«˜æ„Ÿã‚ã‚Šã¾ã™ã­...ï¼\nã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ğŸš\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-03-14T16:57:27+09:00",
      "group": null,
      "id": "3df6947c77599a722762",
      "likes_count": 8,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "TypeScript",
          "versions": []
        },
        {
          "name": "CloudWatch",
          "versions": []
        },
        {
          "name": "Slack",
          "versions": []
        },
        {
          "name": "ServerlessFramework",
          "versions": []
        }
      ],
      "title": "CloudWatch ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’å®šæœŸçš„ã«Slacké€šçŸ¥ã™ã‚‹ï¼ˆã‚½ãƒ¼ã‚¹ä»˜ãï¼‰",
      "updated_at": "2020-03-14T16:57:27+09:00",
      "url": "https://qiita.com/yktakaha4/items/3df6947c77599a722762",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>èª¿æŸ»ã‚„ãƒªã‚«ãƒãƒªãªã©ã§æ‰‹å…ƒã«â†“ã®ã‚ˆã†ãªcsvã£ã½ã„æ–‡å­—åˆ—ãŒã‚ã£ã¦ã€ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ†ãƒ¼ãƒ–ãƒ«ä½œã‚‹ã®ãŒå„„åŠ«ãªæ™‚ã«ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">sample.csv</span></div>\n<div class=\"highlight\"><pre><code>1,taro,hello\n2,jiro,konnnichiha\n</code></pre></div>\n</div>\n\n<p>ã“ã†ã™ã‚‹ã¨æ‰‹è»½ã«è¡¨ãŒä½œã‚Œã¾ã™<br>\n<code>,</code>ã‚’<code>\\t</code>ã«ã™ã‚Œã°TSVã‚‚ã§ãã‚‹ã§ã—ã‚‡ã†</p>\n\n<div class=\"code-frame\" data-lang=\"sql\">\n<div class=\"code-lang\"><span class=\"bold\">awful.sql</span></div>\n<div class=\"highlight\"><pre><code><span class=\"k\">select</span>\n  <span class=\"n\">cols</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"k\">as</span> <span class=\"n\">id</span><span class=\"p\">,</span>\n  <span class=\"n\">cols</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"k\">as</span> <span class=\"n\">name</span><span class=\"p\">,</span>\n  <span class=\"n\">cols</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]</span> <span class=\"k\">as</span> <span class=\"n\">msg</span>\n<span class=\"k\">from</span> <span class=\"p\">(</span>\n  <span class=\"k\">select</span> \n    <span class=\"n\">regexp_split_to_array</span><span class=\"p\">(</span>\n      <span class=\"n\">regexp_split_to_table</span><span class=\"p\">(</span>\n        <span class=\"s1\">'1,taro,hello</span><span class=\"se\">\\n</span><span class=\"s1\">2,jiro,konnichiha'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'</span><span class=\"se\">\\\\</span><span class=\"s1\">n'</span><span class=\"p\">),</span>\n      <span class=\"s1\">','</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">cols</span>\n  <span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">awful</span>\n<span class=\"k\">order</span> <span class=\"k\">by</span>\n  <span class=\"n\">id</span>\n<span class=\"p\">;</span>\n</code></pre></div>\n</div>\n\n<p><a href=\"https://camo.qiitausercontent.com/1c4fbe8e65bc18f306386a315730c7fe453601b7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f65383333643136312d333931352d376434652d336433322d3438363866343534663734652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe833d161-3915-7d4e-3d32-4868f454f74e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a2d7d852bd2b7dbf9566099ff02bc1dc\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e833d161-3915-7d4e-3d32-4868f454f74e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe833d161-3915-7d4e-3d32-4868f454f74e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=af89519d5cb5a3aad16aad00253f125e 1x\" loading=\"lazy\"></a></p>\n\n<p>æœ¬ç•ªã®ã‚³ãƒ¼ãƒ‰ã§ä½¿ã£ã¡ã‚ƒã ã‚ãğŸ™…â€â™‚ï¸</p>\n",
      "body": "èª¿æŸ»ã‚„ãƒªã‚«ãƒãƒªãªã©ã§æ‰‹å…ƒã«â†“ã®ã‚ˆã†ãªcsvã£ã½ã„æ–‡å­—åˆ—ãŒã‚ã£ã¦ã€ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ†ãƒ¼ãƒ–ãƒ«ä½œã‚‹ã®ãŒå„„åŠ«ãªæ™‚ã«ã€\n\n```text:sample.csv\n1,taro,hello\n2,jiro,konnnichiha\n```\n\nã“ã†ã™ã‚‹ã¨æ‰‹è»½ã«è¡¨ãŒä½œã‚Œã¾ã™\n`,`ã‚’`\\t`ã«ã™ã‚Œã°TSVã‚‚ã§ãã‚‹ã§ã—ã‚‡ã†\n\n```sql:awful.sql\nselect\n  cols[1] as id,\n  cols[2] as name,\n  cols[3] as msg\nfrom (\n  select \n    regexp_split_to_array(\n      regexp_split_to_table(\n        '1,taro,hello\\n2,jiro,konnichiha',\n        '\\\\n'),\n      ',') as cols\n  ) as awful\norder by\n  id\n;\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e833d161-3915-7d4e-3d32-4868f454f74e.png)\n\næœ¬ç•ªã®ã‚³ãƒ¼ãƒ‰ã§ä½¿ã£ã¡ã‚ƒã ã‚ãğŸ™…â€â™‚ï¸\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-02-24T12:23:34+09:00",
      "group": null,
      "id": "cf0d990e5394dfe03231",
      "likes_count": 0,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "SQL",
          "versions": []
        },
        {
          "name": "PostgreSQL",
          "versions": []
        }
      ],
      "title": "PostgreSQLã§CSVæ–‡å­—åˆ—ã‹ã‚‰è¡¨ã‚’ä½œã‚‹",
      "updated_at": "2020-02-24T12:25:03+09:00",
      "url": "https://qiita.com/yktakaha4/items/cf0d990e5394dfe03231",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>VPNæ¥ç¶šãªã©ã§ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆã¨ã„ã†ã‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼‰ã«æ¥ç¶šã—ã¦ã„ã‚‹PCã‹ã‚‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPã‚’ä»˜ä¸ã—ãŸPackerã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ“ãƒ«ãƒ‰ã—ãŸã„ã¨ãã¯ <code>ssh_interface</code> ã« <code>private</code> ã‚’æŒ‡å®šã™ã‚‹ã¨ã„ã„æ„Ÿã˜ã«å‹•ãã¾ã™</p>\n\n<p><a href=\"https://www.packer.io/docs/builders/amazon-ebs.html#ssh_interface\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨ãªã‚“ã¨ã‚‚è¨€ãˆãªã„æ„Ÿã˜ã§ã™ãŒã€<a href=\"https://github.com/hashicorp/packer/blob/f0461da1a1a6234c934ecacf1c16a7458d1a088b/website/source/partials/helper/communicator/_SSHInterface-not-required.html.md\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãªã©è¦‹ã‚‹ã¨ã¡ã‚ƒã‚“ã¨è¨˜è¼‰ãŒã‚ã‚Šã¾ã™</p>\n\n<blockquote>\n<p>One of public_ip, private_ip, public_dns, or private_dns.</p>\n</blockquote>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">æŠœç²‹</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"builders\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"amazon-ebs\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"associate_public_ip_address\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"ssh_interface\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"private_ip\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<p>è‡ªåˆ†ã¯æŒ‡æ‘˜ã—ã¦ã‚‚ã‚‰ã£ã¦åˆ†ã‹ã£ãŸã“ã¨ã ã£ãŸã®ã§ã™ãŒã€<br>\nä½œæ¥­ã—ã¦ã¦è©°ã¾ã£ãŸã¨ãã¯ãƒªãƒã‚¸ãƒˆãƒªãã®ã‚‚ã®ã‚’èª¿ã¹ã‚‹ã®ã‚‚å¤§äº‹ã§ã™ã­...ï¼</p>\n",
      "body": "VPNæ¥ç¶šãªã©ã§ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼ˆã¨ã„ã†ã‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼‰ã«æ¥ç¶šã—ã¦ã„ã‚‹PCã‹ã‚‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPã‚’ä»˜ä¸ã—ãŸPackerã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ“ãƒ«ãƒ‰ã—ãŸã„ã¨ãã¯ `ssh_interface` ã« `private` ã‚’æŒ‡å®šã™ã‚‹ã¨ã„ã„æ„Ÿã˜ã«å‹•ãã¾ã™\n\n[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.packer.io/docs/builders/amazon-ebs.html#ssh_interface)ã‚’è¦‹ã‚‹ã¨ãªã‚“ã¨ã‚‚è¨€ãˆãªã„æ„Ÿã˜ã§ã™ãŒã€[ã“ã¡ã‚‰](https://github.com/hashicorp/packer/blob/f0461da1a1a6234c934ecacf1c16a7458d1a088b/website/source/partials/helper/communicator/_SSHInterface-not-required.html.md)ãªã©è¦‹ã‚‹ã¨ã¡ã‚ƒã‚“ã¨è¨˜è¼‰ãŒã‚ã‚Šã¾ã™\n\n>  One of public_ip, private_ip, public_dns, or private_dns.\n\n```json:æŠœç²‹\n{\n  \"builders\": [\n    {\n      \"type\": \"amazon-ebs\",\n      \"associate_public_ip_address\": true,\n      \"ssh_interface\": \"private_ip\"\n    }\n  ]\n}\n```\n\nè‡ªåˆ†ã¯æŒ‡æ‘˜ã—ã¦ã‚‚ã‚‰ã£ã¦åˆ†ã‹ã£ãŸã“ã¨ã ã£ãŸã®ã§ã™ãŒã€\nä½œæ¥­ã—ã¦ã¦è©°ã¾ã£ãŸã¨ãã¯ãƒªãƒã‚¸ãƒˆãƒªãã®ã‚‚ã®ã‚’èª¿ã¹ã‚‹ã®ã‚‚å¤§äº‹ã§ã™ã­...ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-02-01T13:03:22+09:00",
      "group": null,
      "id": "e842f5be06f84ab15b10",
      "likes_count": 1,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "packer",
          "versions": []
        }
      ],
      "title": "ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPä»˜ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§Packer buildã™ã‚‹",
      "updated_at": "2020-02-01T13:03:22+09:00",
      "url": "https://qiita.com/yktakaha4/items/e842f5be06f84ab15b10",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>å€‹äººé–‹ç™ºã®ãƒã‚¿ã¨ã—ã¦æ‰€æœ‰ã—ã¦ã„ã‚‹MP3ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¿ã‚°æƒ…å ±ã‚’æŠ½å‡ºã—ãŸããªã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸğŸª•</p>\n\n<h1>\n<span id=\"æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>æ–¹æ³•</h1>\n\n<p><code>ffmpeg</code>ã«ãã£ã¤ã„ã¦ãã‚‹<code>ffprobe</code>ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ãŸã‚ã€<a href=\"https://brew.sh/index_ja\" rel=\"nofollow noopener\" target=\"_blank\">Homebrew</a>ã‚’ä½¿ã£ã¦å…¥ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>brew <span class=\"nb\">install </span>ffmpeg\n</code></pre></div></div>\n\n<p>ä»¥ä¸‹ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã—ã¦...</p>\n\n<div class=\"code-frame\" data-lang=\"shell\">\n<div class=\"code-lang\"><span class=\"bold\">tag2json.bash</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\">#!/bin/bash -eu</span>\n\n<span class=\"nv\">input_dir</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">cd</span> <span class=\"s2\">\"</span><span class=\"nv\">$1</span><span class=\"s2\">\"</span><span class=\"p\">;</span> <span class=\"nb\">pwd</span><span class=\"si\">)</span><span class=\"s2\">\"</span>\n<span class=\"nv\">output_dir</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">cd</span> <span class=\"s2\">\"</span><span class=\"nv\">$2</span><span class=\"s2\">\"</span><span class=\"p\">;</span> <span class=\"nb\">pwd</span><span class=\"si\">)</span><span class=\"s2\">\"</span>\n\n<span class=\"o\">(</span>\n  <span class=\"nb\">cd</span> <span class=\"s2\">\"</span><span class=\"nv\">$input_dir</span><span class=\"s2\">\"</span>\n  find <span class=\"nb\">.</span> <span class=\"nt\">-name</span> <span class=\"s2\">\"*.mp3\"</span> |\n  <span class=\"nb\">sort</span> |\n  <span class=\"k\">while </span><span class=\"nb\">read </span>target_path<span class=\"p\">;</span> <span class=\"k\">do\n    </span><span class=\"nb\">echo</span> <span class=\"s2\">\"exporing: </span><span class=\"nv\">$target_path</span><span class=\"s2\">\"</span>\n    <span class=\"nv\">output_path</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">dirname</span> <span class=\"s2\">\"</span><span class=\"nv\">$output_dir</span><span class=\"s2\">/</span><span class=\"nv\">$target_path</span><span class=\"s2\">\"</span><span class=\"si\">)</span><span class=\"s2\">/</span><span class=\"si\">$(</span><span class=\"nb\">basename</span> <span class=\"s2\">\"</span><span class=\"nv\">$target_path</span><span class=\"s2\">\"</span> .mp3<span class=\"si\">)</span><span class=\"s2\">.json\"</span>\n\n    <span class=\"nb\">mkdir</span> <span class=\"nt\">-p</span> <span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">dirname</span> <span class=\"s2\">\"</span><span class=\"nv\">$output_path</span><span class=\"s2\">\"</span><span class=\"si\">)</span><span class=\"s2\">\"</span>\n    ffprobe <span class=\"nt\">-v</span> error <span class=\"nt\">-show_entries</span> format <span class=\"nt\">-of</span> json <span class=\"s2\">\"</span><span class=\"nv\">$target_path</span><span class=\"s2\">\"</span> <span class=\"o\">&gt;</span> <span class=\"s2\">\"</span><span class=\"nv\">$output_path</span><span class=\"s2\">\"</span>\n  <span class=\"k\">done</span>\n<span class=\"o\">)</span>\n</code></pre></div>\n</div>\n\n<p>å®Ÿè¡Œã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"console\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>mp3ãŒã“ã‚“ãªæ„Ÿã˜ã§ã‚ã£ãŸã¨ã—ã¦\n<span class=\"gp\">$</span><span class=\"w\"> </span>ll ~/data/music/japanese/ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«/ROM/ | <span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n<span class=\"go\">total 545624\n-rw-r--r--@ 1 tkhs  staff   6.8M 11 14 23:34 1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\n-rw-r--r--@ 1 tkhs  staff   6.9M 11 14 23:34 1-02 ãƒŠã‚¿ãƒªãƒ¼.mp3\n-rw-r--r--@ 1 tkhs  staff   7.1M 11 14 23:34 1-03 å…‰ã‚‹è¡—ã¸.mp3\n-rw-r--r--@ 1 tkhs  staff   7.2M 11 14 23:34 1-04 é ã„æ—¥ã®èŠ±ç«.mp3\n\n</span><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">mkdir </span>out\n<span class=\"gp\">$</span><span class=\"w\"> </span>./tag2json.bash ~/data/music/japanese/ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«/ROM/ out/\n<span class=\"go\">exporing: ./1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\nexporing: ./1-02 ãƒŠã‚¿ãƒªãƒ¼.mp3\nexporing: ./1-03 å…‰ã‚‹è¡—ã¸.mp3\nexporing: ./1-04 é ã„æ—¥ã®èŠ±ç«.mp3\nï¼ˆç•¥ï¼‰\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ã“ã‚“ãªæ„Ÿã˜ã§ã§ãã‚ãŒã‚‹\n<span class=\"gp\">$</span><span class=\"w\"> </span>ll out/ | <span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n<span class=\"go\">total 288\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-02 ãƒŠã‚¿ãƒªãƒ¼.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-03 å…‰ã‚‹è¡—ã¸.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-04 é ã„æ—¥ã®èŠ±ç«.json\n</span></code></pre></div>\n</div>\n\n<p>MP3ã‚¿ã‚°ã ã‘ã§ãªãã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚„æ›²ã®é•·ã•ãªã©ã‚‚å–å¾—ã§ãã¾ã™ğŸ¤—</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">å‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"format\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"filename\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"./1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"nb_streams\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"nb_programs\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"format_name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"mp3\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"format_long_name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"MP2/3 (MPEG audio layer 2/3)\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"start_time\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.000000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"duration\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"282.775544\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"size\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"7086331\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"bit_rate\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"200479\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"probe_score\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">51</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"tags\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"æ–°ä¸–ç•Œäº¤éŸ¿æ¥½\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"artist\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"TCM\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ãµã£ãã‚“\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"album\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ROM\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"track\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1/12\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"TPA\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1/3\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"TS2\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ã‚µãƒ¨ãƒŠãƒ©ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"genre\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Pop\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"iTunPGAP\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"encoded_by\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ 12.10.1.37\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"iTunNORM\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\" 000023F4 ...\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"iTunSMPB\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\" 00000000 00000210 ...\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"iTunes_CDDB_1\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"AE0DCD0C+265143+12...\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"iTunes_CDDB_TrackNumber\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"album_artist\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"TSP\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ã‚µãƒ¨ãƒŠãƒ©ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"date\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2019\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<h1>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h1>\n\n<p><a href=\"https://qiita.com/PianoScoreJP/items/dcb875757a703c8f3322\" class=\"autolink\" id=\"reference-b901a14127bdb6447872\">https://qiita.com/PianoScoreJP/items/dcb875757a703c8f3322</a><br>\n<a href=\"https://nico-lab.net/how_to_use_ffprobe/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://nico-lab.net/how_to_use_ffprobe/</a></p>\n",
      "body": "# ã¯ã˜ã‚ã«\n\nå€‹äººé–‹ç™ºã®ãƒã‚¿ã¨ã—ã¦æ‰€æœ‰ã—ã¦ã„ã‚‹MP3ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¿ã‚°æƒ…å ±ã‚’æŠ½å‡ºã—ãŸããªã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸğŸª•\n\n# æ–¹æ³•\n\n`ffmpeg`ã«ãã£ã¤ã„ã¦ãã‚‹`ffprobe`ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ãŸã‚ã€[Homebrew](https://brew.sh/index_ja)ã‚’ä½¿ã£ã¦å…¥ã‚Œã¾ã™\n\n```terminal\n$ brew install ffmpeg\n```\n\nä»¥ä¸‹ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã—ã¦...\n\n```tag2json.bash\n#!/bin/bash -eu\n\ninput_dir=\"$(cd \"$1\"; pwd)\"\noutput_dir=\"$(cd \"$2\"; pwd)\"\n\n(\n  cd \"$input_dir\"\n  find . -name \"*.mp3\" |\n  sort |\n  while read target_path; do\n    echo \"exporing: $target_path\"\n    output_path=\"$(dirname \"$output_dir/$target_path\")/$(basename \"$target_path\" .mp3).json\"\n\n    mkdir -p \"$(dirname \"$output_path\")\"\n    ffprobe -v error -show_entries format -of json \"$target_path\" > \"$output_path\"\n  done\n)\n```\n\nå®Ÿè¡Œã—ã¾ã™\n\n```console:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# mp3ãŒã“ã‚“ãªæ„Ÿã˜ã§ã‚ã£ãŸã¨ã—ã¦\n$ ll ~/data/music/japanese/ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«/ROM/ | head -5\ntotal 545624\n-rw-r--r--@ 1 tkhs  staff   6.8M 11 14 23:34 1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\n-rw-r--r--@ 1 tkhs  staff   6.9M 11 14 23:34 1-02 ãƒŠã‚¿ãƒªãƒ¼.mp3\n-rw-r--r--@ 1 tkhs  staff   7.1M 11 14 23:34 1-03 å…‰ã‚‹è¡—ã¸.mp3\n-rw-r--r--@ 1 tkhs  staff   7.2M 11 14 23:34 1-04 é ã„æ—¥ã®èŠ±ç«.mp3\n\n$ mkdir out\n$ ./tag2json.bash ~/data/music/japanese/ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«/ROM/ out/\nexporing: ./1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\nexporing: ./1-02 ãƒŠã‚¿ãƒªãƒ¼.mp3\nexporing: ./1-03 å…‰ã‚‹è¡—ã¸.mp3\nexporing: ./1-04 é ã„æ—¥ã®èŠ±ç«.mp3\nï¼ˆç•¥ï¼‰\n\n# ã“ã‚“ãªæ„Ÿã˜ã§ã§ãã‚ãŒã‚‹\n$ ll out/ | head -5\ntotal 288\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-02 ãƒŠã‚¿ãƒªãƒ¼.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-03 å…‰ã‚‹è¡—ã¸.json\n-rw-r--r--  1 tkhs  staff   1.3K  1  5 22:59 1-04 é ã„æ—¥ã®èŠ±ç«.json\n```\n\nMP3ã‚¿ã‚°ã ã‘ã§ãªãã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚„æ›²ã®é•·ã•ãªã©ã‚‚å–å¾—ã§ãã¾ã™ğŸ¤—\n\n```json:å‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«\n{\n  \"format\": {\n    \"filename\": \"./1-01 æ–°ä¸–ç•Œäº¤éŸ¿æ¥½.mp3\",\n    \"nb_streams\": 2,\n    \"nb_programs\": 0,\n    \"format_name\": \"mp3\",\n    \"format_long_name\": \"MP2/3 (MPEG audio layer 2/3)\",\n    \"start_time\": \"0.000000\",\n    \"duration\": \"282.775544\",\n    \"size\": \"7086331\",\n    \"bit_rate\": \"200479\",\n    \"probe_score\": 51,\n    \"tags\": {\n      \"title\": \"æ–°ä¸–ç•Œäº¤éŸ¿æ¥½\",\n      \"artist\": \"ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\",\n      \"TCM\": \"ãµã£ãã‚“\",\n      \"album\": \"ROM\",\n      \"track\": \"1/12\",\n      \"TPA\": \"1/3\",\n      \"TS2\": \"ã‚µãƒ¨ãƒŠãƒ©ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\",\n      \"genre\": \"Pop\",\n      \"iTunPGAP\": \"0\",\n      \"encoded_by\": \"ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ 12.10.1.37\",\n      \"iTunNORM\": \" 000023F4 ...\",\n      \"iTunSMPB\": \" 00000000 00000210 ...\",\n      \"iTunes_CDDB_1\": \"AE0DCD0C+265143+12...\",\n      \"iTunes_CDDB_TrackNumber\": \"1\",\n      \"album_artist\": \"ã•ã‚ˆãªã‚‰ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\",\n      \"TSP\": \"ã‚µãƒ¨ãƒŠãƒ©ãƒãƒ‹ãƒ¼ãƒ†ãƒ¼ãƒ«\",\n      \"date\": \"2019\"\n    }\n  }\n}\n```\n\n# å‚è€ƒ\n\nhttps://qiita.com/PianoScoreJP/items/dcb875757a703c8f3322\nhttps://nico-lab.net/how_to_use_ffprobe/\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2020-01-05T23:28:40+09:00",
      "group": null,
      "id": "e4414714827db213e279",
      "likes_count": 1,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 0,
      "tags": [
        {
          "name": "ShellScript",
          "versions": []
        },
        {
          "name": "ffmpeg",
          "versions": []
        },
        {
          "name": "MP3",
          "versions": []
        }
      ],
      "title": "MP3ã®ã‚¿ã‚°æƒ…å ±ã‚’JSONå½¢å¼ã§ä¸€æ‹¬å‡ºåŠ›ã™ã‚‹",
      "updated_at": "2020-01-05T23:28:40+09:00",
      "url": "https://qiita.com/yktakaha4/items/e4414714827db213e279",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ã“ã¡ã‚‰ã¯ã€<a href=\"https://qiita.com/advent-calendar/2019/github-actions\">GitHub Actions Advent Calendar 2019</a> 11æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼</p>\n\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p><a href=\"https://www.hands-lab.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒãƒ³ã‚ºãƒ©ãƒœæ ªå¼ä¼šç¤¾</a>ã®<a href=\"https://twitter.com/yktakaha4\" rel=\"nofollow noopener\" target=\"_blank\">yktakaha4</a>ã§ã™ğŸ²<br>\næ™®æ®µã¯ã€<a href=\"https://qiita.com/homines22/items/7c309cdb093eee3240af\" id=\"reference-8443c87a5fac4fce2cd2\">7æ—¥ç›®ã«æŠ•ç¨¿ã—ã¦ã„ã‚‹homines22ã•ã‚“</a>ã‚‰ã¨ã€æŸå°å£²ã®ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚„ã€ECã‚µã‚¤ãƒˆã®é–‹ç™ºãƒ»é‹ç”¨ã«æºã‚ã£ã¦ã„ã¾ã™<br>\nå½“åˆ<a href=\"https://qiita.com/advent-calendar/2019/handslab\">å¼Šç¤¾ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</a>ã«2æ æŠ•ç¨¿ã™ã‚‹ã¤ã‚‚ã‚Šã§è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ãŸã®ã§ã™ãŒã€å‚åŠ è€…ãŒå¢—ãˆã¦æ ã‚’è­²ã‚‹ã“ã¨ã¨ã—ãŸãŸã‚ã€ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã¾ã—ãŸ</p>\n\n<hr>\n\n<p>ä»Šå¹´ã‚‚ã‚‚ã†ã™ãçµ‚ã‚ã‚Šã§ã™ã­...ğŸ…<br>\nè‰²ã€…ã‚ã‚Šã¾ã—ãŸãŒã€æ¥­å‹™ã§å¤§å¤‰ã ã£ãŸã®ã¯ã‚„ã¯ã‚Šæ¶ˆè²»å¢—ç¨å¯¾å¿œï¼ˆã‚‚ã¨ã„è»½æ¸›ç¨ç‡å¯¾å¿œï¼‰ã§ã—ãŸ</p>\n\n<p>æ©Ÿèƒ½å¤‰æ›´ãŒãªã„ãŸã‚æ™®æ®µè¦‹ãªã„ãƒ•ãƒªğŸ™ˆã‚’ã—ã¦ã„ã‚‹ã‚ã®ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã€æ³¨æ–‡ã‚„å•†å“ã¨ã„ã£ãŸæ¥­å‹™ã®æ ¹å¹¹ã«é–¢ã‚ã‚‹å¤§äº‹ãªã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¾ã§ã€ã‚ã¡ã‚‰ã“ã¡ã‚‰ã«<code>è»½æ¸›ç¨ç‡åŒºåˆ†</code>ã‚„<code>ç¨ç‡åˆ¥åˆè¨ˆé‡‘é¡</code>ã¨ã„ã£ãŸé …ç›®ã‚’è¿½åŠ ã™ã‚‹...ã¨ã„ã†å¯¾å¿œã§ã€<br>\nä¿®æ­£è‡ªä½“ã¯è»½å¾®ãªã®ã«å¯¾ã—ã¦æ¥­å‹™å½±éŸ¿åº¦åˆã„ãŒå¤§ããã€å°å£²ã«é–¢ã‚ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ã”æ‹…å½“ã®è«¸æ°ã«ã‚‚é ­ã‚’æŠ±ãˆãŸæ–¹ãŒã„ã‚‰ã£ã—ã‚ƒã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™</p>\n\n<p>ç§å€‹äººã¨ã—ã¦ã‚‚ã€å¤–éƒ¨ECã‚µã‚¤ãƒˆã¨ã®ãƒ‡ãƒ¼ã‚¿é€£æºã‚„ã€æ³¨æ–‡ç· ã‚ã€å‡ºè·ã€ãŠå®¢æ§˜ã¸ã®ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãªã©ã¨ã„ã£ãŸæ§˜ã€…ãªç®‡æ‰€ã«å¯¾ã—ã¦æ”¹ä¿®ã‚’è¡Œã„ã¾ã—ãŸãŒã€<br>\nè¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ãƒ»æ©Ÿèƒ½é–“ã®ãƒ•ãƒ­ãƒ³ãƒˆã€APIã€ãƒãƒƒãƒã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚«ãƒ©ãƒ ã¾ã§æ¨ªæ–­çš„ã«å½±éŸ¿èª¿æŸ»ã‚’è¡Œã†ã®ã¯ã€ä¸­ã€…éª¨ã®æŠ˜ã‚Œã‚‹ä½œæ¥­ã§ã—ãŸ</p>\n\n<p>æœ€åˆã¯VSCodeã‚„GitHubã®æ¤œç´¢æ©Ÿèƒ½ã€grepãªã©ã§çŠ¶æ³ã«å¿œã˜ã¦é©å½“ã«èª¿ã¹ã¦ã„ã¾ã—ãŸãŒã€<br>\nä½œæ¥­ã®é€”ä¸­ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«<a href=\"https://github.com/livegrep/livegrep\" rel=\"nofollow noopener\" target=\"_blank\">Livegrep</a>ã‚’å°å…¥ã—ãŸã¨ã“ã‚ã€èª¿æŸ»ã®åŠ¹ç‡ãŒã ã„ã¶ä¸ŠãŒã‚Šã€ç‰¹ã«æƒ³å®šå¤–ã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ãŒåŠã‚“ã§ã„ãŸ...ã¨ã„ã†ã‚±ãƒ¼ã‚¹ã«äº‹å‰ã«æ°—ã¥ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</p>\n\n<p>Livegrepã¯ã¨ã¦ã‚‚ã„ã„ãƒ„ãƒ¼ãƒ«ã§ã—ãŸãŒã€æ¤œç´¢å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ã‚’è‡ªåˆ†ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãªã©ã®æ©Ÿèƒ½ãŒã¤ã„ã¦ãŠã‚‰ãšè¤‡æ•°äººã§åˆ©ç”¨ã™ã‚‹ã«ã¯ä¸ä¾¿ãªéƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€<br>\nç¨å¯¾å¿œãŒå®Œäº†ã—ã¦æœ€è¿‘ã‚„ã£ã¨äººå¿ƒåœ°ã¤ã„ãŸã¨ã“ã‚ã§ã€æ”¹ã‚ã¦ãƒãƒ¼ãƒ ã§å…¨æ–‡æ¤œç´¢ã®ä»•çµ„ã¿ã‚’æ‰‹è»½ã«å…±ç”¨ã§ãã‚‹ã‚ˆã†æ•´å‚™ã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%82%E3%81%AE%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹</h1>\n\n<p>ä»Šå›ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã‚„ãƒªãƒã‚¸ãƒˆãƒªã®è‡ªå‹•ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã¨ã„ã£ãŸæ©Ÿèƒ½ãŒã¤ã„ãŸå…¨æ–‡æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹<a href=\"https://github.com/sourcegraph/sourcegraph\" rel=\"nofollow noopener\" target=\"_blank\">Sourcegraph</a>ã®OSSç‰ˆã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ<br>\n<a href=\"https://knowledge.sakura.ad.jp/21833/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®è¨˜äº‹ã«éå¸¸ã«ã‚ˆãã¾ã¨ã¾ã£ã¦ã„ã¾ã™ãŒã€runã™ã‚‹ã ã‘ã§å³åº§ã«åˆ©ç”¨ã§ãã‚‹ä¾¿åˆ©ãª<a href=\"https://hub.docker.com/r/sourcegraph/server/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹</a>ã®ã§ã€ã“ã¡ã‚‰ã‚’AWSã§é‹ç”¨ã—ã¾ã™ğŸ³</p>\n\n<p>ç¤¾å†…å‘ã‘ã®ç”¨é€”ã§ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚‚å¿…è¦ãªãã€ã‹ã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åœæ­¢æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ®‹ã—ãŸã‹ã£ãŸã®ã§ã€<br>\nDockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸEC2ã‚’CloudFormationã§ä½œæˆã—ã‚ˆã†ã¨æ€ã„ã¾ã™<br>\nã¾ãŸã€å¼Šç¤¾ã®æ¨™æº–çš„ãªå‹¤å‹™æ™‚é–“ã¯10æ™‚ã‹ã‚‰19æ™‚ãªã®ã§ã€ãã‚Œä»¥å¤–ã®æ™‚é–“å¸¯ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åœæ­¢ã•ã›ã€ãªã‚‹ã¹ãä½ã‚³ã‚¹ãƒˆã«é‹ç”¨ã§ãã‚‹ã¨è‰¯ã•ãã†ã§ã™</p>\n\n<p>ã¨ã„ã†ã“ã¨ã§ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ã«ãªã‚Šã¾ã—ãŸğŸ </p>\n\n<p><a href=\"https://camo.qiitausercontent.com/fe715982189ba5a9465b5a05b4e0429a2ba38e8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f61643731616433342d623539662d653462332d643737332d6238346130363137653232322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fad71ad34-b59f-e4b3-d773-b84a0617e222.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=062e642052969529349b7d30acc1caef\" alt=\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/ad71ad34-b59f-e4b3-d773-b84a0617e222.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fad71ad34-b59f-e4b3-d773-b84a0617e222.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b48fe5c6e894303fbf31d5ed27d94a84 1x\" loading=\"lazy\"></a></p>\n\n<p>CloudFormationã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ãŠã‚ˆã³åœæ­¢ã¯GitHub Actionsã‚’ç”¨ã„ã¦è¡Œã„ã¾ã™<br>\næœ¬è¨˜äº‹ã®åŸ·ç­†æ™‚ç‚¹ã§ã€æŒ‡å®šæ™‚é–“ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã«ã¯CloudWatch Eventsã‹ã‚‰Lambdaã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ãŒã€<br>\nGitHub Actionsã«ã¯<a href=\"https://help.github.com/ja/actions/automating-your-workflow-with-github-actions/workflow-syntax-for-github-actions#onschedule\" rel=\"nofollow noopener\" target=\"_blank\">æ‰€å®šã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹æ©Ÿèƒ½</a>ãŒã‚ã‚‹ã®ã§ã€ã“ã„ã¤ã§AWS CLIã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã™ã‚Œã°æ‰‹è»½ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ãƒ»åœæ­¢ãŒå®Ÿç¾ã§ããã†ã§ã™</p>\n\n<h1>\n<span id=\"ã§ããŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E3%81%A7%E3%81%8D%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ã§ããŸã‚‚ã®</h1>\n\n<p>ä¼šç¤¾ã§å®Ÿéš›ã«ä½¿ã£ã¦ã„ã‚‹ã‚‚ã®ã¯ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã®åˆ©ç”¨ã‚’å‰æã¨ã—ãŸæ§‹æˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€<br>\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ãªå½¢ã«ä¿®æ­£ã—ãŸã‚‚ã®ã‚’ä»¥ä¸‹ãƒªãƒã‚¸ãƒˆãƒªã«å…¬é–‹ã—ã¾ã—ãŸ<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"></p>\n\n<p><qiita-embed-ogp src=\"https://github.com/yktakaha4/sourcegraph-ec2\"></qiita-embed-ogp></p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<p>ã¾ãšã€ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¾ã™ğŸ´</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/726b7dd98f4381d262a66ff24fb45407eaf6a9ba/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f63356133363138302d613561392d316339382d636631352d3263376461643238316636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc5a36180-a5a9-1c98-cf15-2c7dad281f66.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6434939eaf2d75f58376fe1b80155906\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c5a36180-a5a9-1c98-cf15-2c7dad281f66.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc5a36180-a5a9-1c98-cf15-2c7dad281f66.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f8f424d47a7f57fcfcd7aeced3627751 1x\" loading=\"lazy\"></a></p>\n\n<p>ãƒ•ã‚©ãƒ¼ã‚¯ç›´å¾Œã ã¨GitHub ActionsãŒæœ‰åŠ¹ã«ãªã‚‰ãªã„ã‚ˆã†ãªã®ã§ã€<code>Actions</code>ã‚¿ãƒ–ã‹ã‚‰æœ‰åŠ¹åŒ–ã—ã¦ãŠãã¾ã™ï¼ˆã‚¹ã‚¯ã‚·ãƒ§æ’®ã‚Šå¿˜ã‚ŒãŸ...ï¼‰</p>\n\n<p><code>Settings -&gt; Secrets -&gt; Add a new secret</code> ã§ã€ä»¥ä¸‹ã®å€¤ã‚’è¨­å®šã—ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/44f8a20cc284afb34164c43199e0e80326506e2e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f32303038323062372d323439372d333533382d343432322d6533366164323139383866392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F200820b7-2497-3538-4422-e36ad21988f9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=715250c0bd39c9fd00a91fd3975e0858\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/200820b7-2497-3538-4422-e36ad21988f9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F200820b7-2497-3538-4422-e36ad21988f9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fc51ec42e20372f44290a0808875cb69 1x\" loading=\"lazy\"></a></p>\n\n<table>\n<thead>\n<tr>\n<th>ã‚­ãƒ¼</th>\n<th>èª¬æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AWS_ACCESS_KEY_ID</td>\n<td>AWSã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ID</td>\n</tr>\n<tr>\n<td>AWS_SECRET_ACCESS_KEY</td>\n<td>AWSã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼</td>\n</tr>\n<tr>\n<td>AWS_DEFAULT_REGION</td>\n<td>ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³<br><code>ap-northeast-1</code>ãªã©</td>\n</tr>\n<tr>\n<td>RESOURCE_NAME</td>\n<td>AWSä¸Šã§ã®ãƒªã‚½ãƒ¼ã‚¹å<br><code>sourcegraph-ec2</code>ãªã©</td>\n</tr>\n<tr>\n<td>AVAILABILITY_ZONE</td>\n<td>ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³<br><code>ap-northeast-1c</code>ãªã©</td>\n</tr>\n<tr>\n<td>SUBNET_ID</td>\n<td>ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚µãƒ–ãƒãƒƒãƒˆID<br><code>AVAILABILITY_ZONE</code>é…ä¸‹ã®ã‚µãƒ–ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã“ã¨</td>\n</tr>\n<tr>\n<td>SECURITY_GROUP_ID_LIST</td>\n<td>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆè¤‡æ•°æŒ‡å®šæ™‚ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰<br>TCP443ã¨2633ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã—ãŸã‚‚ã®ã‚’æŒ‡å®š</td>\n</tr>\n</tbody>\n</table>\n\n<p>ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒæŒ‡å®šã§ããŸã‚‰ã€ãªã‚“ã§ã‚‚ã‚ˆã„ã®ã§<code>master</code>ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™<br>\nã¨ã‚Šã‚ãˆãšãªã®ã§README.mdã‚’ã„ã˜ã‚Šã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/333859b4fcad21b00616dbc63e2d11b5efbb31db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f37383365366632392d343135372d316633642d653438372d6130366639636636303633632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F783e6f29-4157-1f3d-e487-a06f9cf6063c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=06f4e31df25fe73d6b13c7e78a2da0a8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/783e6f29-4157-1f3d-e487-a06f9cf6063c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F783e6f29-4157-1f3d-e487-a06f9cf6063c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b467ee4b82d54cf30b3f17e4f1611b50 1x\" loading=\"lazy\"></a></p>\n\n<p>é©å½“ã«æ–‡é¢ã‚’ç·¨é›†ã®ä¸Šã€ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™</p>\n\n<p>ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¦æ€ã„è‡³ã£ãŸã®ã§ã™ãŒã€ã“ã‚Œã ã¨æ¨ªå±•é–‹ãŒã—ã¥ã‚‰ã„ã®ã§ã€ã‚¿ã‚°æ‰“ã£ãŸã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤...ã¿ãŸã„ãªæ„Ÿã˜ã«ã—ãŸæ–¹ãŒã‚ˆã„ã§ã™ã­<br>\nã‚ã‚‹ã„ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ‰‹å‹•å®Ÿè¡ŒãŒã§ãã‚‹ã¨ã‚ˆã„ã®ã§ã™ãŒ...</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/1b0e3f97a30ba76d2e02e70e1324910b6492ff64/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30613863333861622d363030612d343233632d373230352d3633336430653738316633302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0a8c38ab-600a-423c-7205-633d0e781f30.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d175221433cd65cf8af0aa72b0aee858\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0a8c38ab-600a-423c-7205-633d0e781f30.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0a8c38ab-600a-423c-7205-633d0e781f30.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d14f0ce3d06373719777b691d8721356 1x\" loading=\"lazy\"></a></p>\n\n<p><code>master</code>ãƒ–ãƒ©ãƒ³ãƒãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ã€CloudFormationä¸Šã«<code>RESOURCE_NAME</code> ã§æŒ‡å®šã—ãŸã‚¹ã‚¿ãƒƒã‚¯ãŒç”Ÿæˆã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">deploy.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">on</span><span class=\"pi\">:</span>\n  <span class=\"na\">push</span><span class=\"pi\">:</span>\n    <span class=\"na\">branches</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"s\">master</span>\n\n<span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Deploy</span>\n\n<span class=\"na\">jobs</span><span class=\"pi\">:</span>\n  <span class=\"na\">deploy</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Deploy to AWS</span>\n    <span class=\"na\">runs-on</span><span class=\"pi\">:</span> <span class=\"s\">ubuntu-18.04</span>\n    <span class=\"na\">steps</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/checkout@v1</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Setup Python </span><span class=\"m\">3.7</span>\n        <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/setup-python@v1</span>\n        <span class=\"na\">with</span><span class=\"pi\">:</span>\n          <span class=\"na\">python-version</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">3.7\"</span>\n          <span class=\"na\">architecture</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">x64\"</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Install awscli</span>\n        <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">pip install --upgrade pip awscli</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Deploy CloudFormation Stack</span>\n        <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">./scripts/deploy.bash</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">AWS_ACCESS_KEY_ID</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_ACCESS_KEY_ID }}</span>\n          <span class=\"na\">AWS_SECRET_ACCESS_KEY</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_SECRET_ACCESS_KEY }}</span>\n          <span class=\"na\">AWS_DEFAULT_REGION</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_DEFAULT_REGION }}</span>\n          <span class=\"na\">RESOURCE_NAME</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.RESOURCE_NAME }}</span>\n          <span class=\"na\">AVAILABILITY_ZONE</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AVAILABILITY_ZONE }}</span>\n          <span class=\"na\">SUBNET_ID</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.SUBNET_ID }}</span>\n          <span class=\"na\">SECURITY_GROUP_ID_LIST</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.SECURITY_GROUP_ID_LIST }}</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"bash\">\n<div class=\"code-lang\"><span class=\"bold\">deploy.bash</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\">#!/bin/bash -eu</span>\n\n<span class=\"nv\">base_dir</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">cd</span> <span class=\"s2\">\"</span><span class=\"si\">$(</span><span class=\"nb\">dirname</span> <span class=\"nv\">$0</span><span class=\"si\">)</span><span class=\"s2\">/..\"</span><span class=\"p\">;</span> <span class=\"nb\">pwd</span><span class=\"si\">)</span><span class=\"s2\">\"</span>\n\naws cloudformation deploy <span class=\"se\">\\</span>\n    <span class=\"nt\">--stack-name</span> <span class=\"s2\">\"</span><span class=\"nv\">$RESOURCE_NAME</span><span class=\"s2\">\"</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--template-file</span> <span class=\"s2\">\"</span><span class=\"nv\">$base_dir</span><span class=\"s2\">/aws/cfn.yml\"</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--capabilities</span> CAPABILITY_NAMED_IAM <span class=\"se\">\\</span>\n    <span class=\"nt\">--no-fail-on-empty-changeset</span> <span class=\"se\">\\</span>\n    <span class=\"nt\">--parameter-overrides</span> <span class=\"se\">\\</span>\n        <span class=\"nv\">ResourceName</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$RESOURCE_NAME</span><span class=\"s2\">\"</span> <span class=\"se\">\\</span>\n        <span class=\"nv\">AvailabilityZoneName</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$AVAILABILITY_ZONE</span><span class=\"s2\">\"</span> <span class=\"se\">\\</span>\n        <span class=\"nv\">SubnetId</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$SUBNET_ID</span><span class=\"s2\">\"</span> <span class=\"se\">\\</span>\n        <span class=\"nv\">SecurityGroupIdList</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$SECURITY_GROUP_ID_LIST</span><span class=\"s2\">\"</span>\n</code></pre></div>\n</div>\n\n<p><a href=\"https://camo.qiitausercontent.com/a29906efe269489289c0f780ba5aa84af441c85e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f36346466313438352d316532632d643231342d363037322d6364363962303831636239392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F64df1485-1e2c-d214-6072-cd69b081cb99.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c8c1a14ab481e3af7fb1b5a0a315b017\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/64df1485-1e2c-d214-6072-cd69b081cb99.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F64df1485-1e2c-d214-6072-cd69b081cb99.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f71896851d9acc767c2b9ad62c32d495 1x\" loading=\"lazy\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/715af9792e765539354d49f9ad0773d34daebe95/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f38363765323237312d303161302d646365302d333133312d3631646338663764646633642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F867e2271-01a0-dce0-3131-61dc8f7ddf3d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1d0143852623fa529e8cd0917d733131\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/867e2271-01a0-dce0-3131-61dc8f7ddf3d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F867e2271-01a0-dce0-3131-61dc8f7ddf3d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=812eeb2aab71a072386d551231c9951a 1x\" loading=\"lazy\"></a></p>\n\n<p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã§ããŸã‚‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPã‚’ç¢ºèªã—ã€æ¥ç¶šã—ã¦ã¿ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/9cf7287b33452e84258608d778784a4b72cccde9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f65383532333530332d663632392d356439362d653565362d3866623162393236303865322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe8523503-f629-5d96-e5e6-8fb1b92608e2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5e077de6fe703ff8d71fac2485ac4d32\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e8523503-f629-5d96-e5e6-8fb1b92608e2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe8523503-f629-5d96-e5e6-8fb1b92608e2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=df158c54d40e28ad7e63ad20834ed14c 1x\" loading=\"lazy\"></a></p>\n\n<p>Sourcegraphã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰æ¤œç´¢ç”¨é€”ã®ãŸã‚ã€httpã§ã¯é‹ç”¨ã—ãŸãã‚ã‚Šã¾ã›ã‚“<br>\nå¹¸ã„ãªã“ã¨ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç®¡ç†ç”»é¢å‘ã‘ã«è‡ªå·±ç½²åã®SSLè¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ä»•æ§˜ã¨ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã“ã„ã¤ã‚’ä½¿ã£ã¦httpsé€šä¿¡ã‚’ãŠã“ãªã†ã“ã¨ã¨ã—ã¾ã™</p>\n\n<p><code>https://ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯IP/</code>ã«æ¥ç¶šã™ã‚‹ã¨ã€ä»¥ä¸‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\næ¥ç¶šã§ããªã„å ´åˆã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§TCP443ãƒãƒ¼ãƒˆã¨2633ãƒãƒ¼ãƒˆãŒç©ºã„ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/757605a95c3108778028e6bfc946a831f7c89af7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f34383731643231332d323163662d626633612d336139382d6365333031626136623365652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F4871d213-21cf-bf3a-3a98-ce301ba6b3ee.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=df7f2a19bb18ebbe793358304337a814\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/4871d213-21cf-bf3a-3a98-ce301ba6b3ee.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F4871d213-21cf-bf3a-3a98-ce301ba6b3ee.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8d4527acbbecc5358c0e4d61aa34c185 1x\" loading=\"lazy\"></a></p>\n\n<p>httpsé€šä¿¡ã«ã‚ãŸã‚Šã€è¨¼æ˜æ›¸ãŒä¸å¯©ã®ãŸã‚æ¥ç¶šã‚’æ¸‹ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³ã§ã™<br>\nGoogle Chromeã§ã‚ã‚Œã°<code>ä¿è­·ã•ã‚Œã¦ã„ãªã„é€šä¿¡ -&gt; è¨¼æ˜æ›¸ï¼ˆç„¡åŠ¹ï¼‰ <br>\n -&gt; è©³ç´°ãªæƒ…å ±</code>ã¨é–‹ã„ã¦ã„ãã¨ã€<code>æŒ‡ç´‹</code>ã®é …ã«ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/3b2f839ac776ea388b950d092b0c09e580fd56c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f37306436366538642d353464622d396439312d663537632d3064366430363462346530622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F70d66e8d-54db-9d91-f57c-0d6d064b4e0b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=80485afe1bdc7d2e286b442aa1101210\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/70d66e8d-54db-9d91-f57c-0d6d064b4e0b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F70d66e8d-54db-9d91-f57c-0d6d064b4e0b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a92edf8e977321ef8722562c12c78660 1x\" loading=\"lazy\"></a></p>\n\n<p>è¦ã¯ã“ã®è¨¼æ˜æ›¸ãŒä¿¡é ¼ã§ãã‚‹ã‚‚ã®ã‹åˆ¤æ–­ã§ãã‚Œã°ã„ã„...ã¨ã„ã†ã“ã¨ã§ã™ãŒã€<br>\næœ¬ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ§‹ç¯‰æ™‚ã«ç”Ÿæˆã—ãŸè¨¼æ˜æ›¸ã®ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã‚’CloudwatchLogsã«åãå‡ºã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™</p>\n\n<p><code>Cloudwatch -&gt; ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— -&gt; /var/log/messages -&gt; ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID</code>ã‚’é–‹ã„ãŸã®ã¡ã€<code>cert</code>ã§ãƒ­ã‚°ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã®ã§ã€<br>\nå€¤ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€å•é¡Œãªã‘ã‚Œã°è¨¼æ˜æ›¸ã®ä¿¡é ¼è¨­å®šã‚’è¡Œã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/2c77ef000da7f871208dde35a40a99242a2af8ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f65343434343431332d633934392d333064642d306532322d3135636230663636343737332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe4444413-c949-30dd-0e22-15cb0f664773.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=626968fd06eeb489690cdabb96266e81\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e4444413-c949-30dd-0e22-15cb0f664773.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fe4444413-c949-30dd-0e22-15cb0f664773.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8bc153f7734091da05cdbbd5ba550535 1x\" loading=\"lazy\"></a></p>\n\n<p>Google Chromeä¸Šã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹è¨¼æ˜æ›¸ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®å¾Œã€<br>\nãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/399223bb3ac42eb2b2e425b8163ad0b4c76f082e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f64613236616238362d323230312d363537622d363733632d3039383537363966653761642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fda26ab86-2201-657b-673c-0985769fe7ad.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5d181dfa98d7c20dad9df32b5d01e509\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/da26ab86-2201-657b-673c-0985769fe7ad.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fda26ab86-2201-657b-673c-0985769fe7ad.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4dcba1baf748acdcdd478ec0f49cbc82 1x\" loading=\"lazy\"></a></p>\n\n<p><code>ä»Šå›è¿½åŠ ã—ãŸè¨¼æ˜æ›¸ã‚’å³ã‚¯ãƒªãƒƒã‚¯ -&gt; æƒ…å ±ã‚’è¦‹ã‚‹ -&gt; ä¿¡é ¼ -&gt; ã“ã®è¨¼æ˜æ›¸ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã</code>ã§<code>å¸¸ã«ä¿¡é ¼</code>ã‚’é¸ã³ã€<br>\nã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹éš›ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€è¨¼æ˜æ›¸ãŒä¿¡é ¼ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦æŒ‡å®šã•ã‚Œã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/4db37ad257c39c76b36c1ea942083eb9a47bf9a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f34633835313165612d343561342d616361622d313336302d6364353830393830346232642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F4c8511ea-45a4-acab-1360-cd5809804b2d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9930d39fd83313f5026ade2a34b04633\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/4c8511ea-45a4-acab-1360-cd5809804b2d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F4c8511ea-45a4-acab-1360-cd5809804b2d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=54b74f00a1384db08edfb6c1944ec943 1x\" loading=\"lazy\"></a></p>\n\n<p>å†åº¦å…ˆã»ã©ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€<code>è©³ç´°è¨­å®šã‚’è¡¨ç¤º</code>ã‚’æŠ¼ã—ãŸå¾Œã®ç”»é¢ã§ã€æ¥ç¶šå…ˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/833ff67beb006f86e433c26efba24906f2d6ca27/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f66666230383463322d333864342d323831352d626539662d3430386561353236643966342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fffb084c2-38d4-2815-be9f-408ea526d9f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e28f33b23fe12dc52e0ed853e48670cb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/ffb084c2-38d4-2815-be9f-408ea526d9f4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fffb084c2-38d4-2815-be9f-408ea526d9f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=be185d496e9dae4c7cc16405584e29a5 1x\" loading=\"lazy\"></a></p>\n\n<p>ã„ã„æ„Ÿã˜ã§ã™ã­ï¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/3e3ce40d8b98314d8a527dfa8250ddb2bf425b2a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30373934643836662d616265392d373663642d633939312d6630303762633062356466652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0794d86f-abe9-76cd-c991-f007bc0b5dfe.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=46323c0cb189c81bf59f72c26ec9d900\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0794d86f-abe9-76cd-c991-f007bc0b5dfe.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0794d86f-abe9-76cd-c991-f007bc0b5dfe.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=90bd2ec243793880f0aa6431f1152622 1x\" loading=\"lazy\"></a></p>\n\n<p>ã“ã‚Œä»¥é™ã®è¨­å®šã¯ã€å…ˆã»ã©ã®<a href=\"https://knowledge.sakura.ad.jp/21833/\" rel=\"nofollow noopener\" target=\"_blank\">ã•ãã‚‰ã®ãƒŠãƒ¬ãƒƒã‚¸æ§˜ã®æ§‹ç¯‰æ‰‹é †</a>ã®<code>Sourcegraphã®åˆæœŸè¨­å®š</code>ã®é …ã‚’å‚è€ƒã«è¡Œã£ã¦ãã ã•ã„ï¼</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">ç®¡ç†ç”»é¢ã®è¨­å®šã‚µãƒ³ãƒ—ãƒ«ï¼ˆã”å‚è€ƒï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">//</span><span class=\"w\"> </span><span class=\"err\">The</span><span class=\"w\"> </span><span class=\"err\">externally</span><span class=\"w\"> </span><span class=\"err\">accessible</span><span class=\"w\"> </span><span class=\"err\">URL</span><span class=\"w\"> </span><span class=\"err\">for</span><span class=\"w\"> </span><span class=\"err\">Sourcegraph</span><span class=\"w\"> </span><span class=\"err\">(i.e.</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">what</span><span class=\"w\"> </span><span class=\"err\">you</span><span class=\"w\"> </span><span class=\"err\">type</span><span class=\"w\"> </span><span class=\"err\">into</span><span class=\"w\"> </span><span class=\"err\">your</span><span class=\"w\"> </span><span class=\"err\">browser)</span><span class=\"w\">\n    </span><span class=\"err\">//</span><span class=\"w\"> </span><span class=\"err\">This</span><span class=\"w\"> </span><span class=\"err\">is</span><span class=\"w\"> </span><span class=\"err\">required</span><span class=\"w\"> </span><span class=\"err\">to</span><span class=\"w\"> </span><span class=\"err\">be</span><span class=\"w\"> </span><span class=\"err\">configured</span><span class=\"w\"> </span><span class=\"err\">for</span><span class=\"w\"> </span><span class=\"err\">Sourcegraph</span><span class=\"w\"> </span><span class=\"err\">to</span><span class=\"w\"> </span><span class=\"err\">work</span><span class=\"w\"> </span><span class=\"err\">correctly.</span><span class=\"w\">\n    </span><span class=\"nl\">\"externalURL\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"https://ec2-52-194-175-117.ap-northeast-1.compute.amazonaws.com\"</span><span class=\"p\">,</span><span class=\"w\">\n\n    </span><span class=\"nl\">\"auth.providers\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n        </span><span class=\"p\">{</span><span class=\"w\">\n            </span><span class=\"nl\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"builtin\"</span><span class=\"p\">,</span><span class=\"w\">\n            </span><span class=\"nl\">\"allowSignup\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n        </span><span class=\"p\">}</span><span class=\"w\">\n    </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<h2>\n<span id=\"é‹ç”¨\" class=\"fragment\"></span><a href=\"#%E9%81%8B%E7%94%A8\"><i class=\"fa fa-link\"></i></a>é‹ç”¨</h2>\n\n<p>å¹³æ—¥ã®8:30ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•èµ·å‹•ã¨ã€æ¯æ—¥19:30ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•åœæ­¢ãŒãŠã“ãªã‚ã‚Œã¾ã™ğŸœ</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">start_instance.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">on</span><span class=\"pi\">:</span>\n  <span class=\"na\">schedule</span><span class=\"pi\">:</span>\n    <span class=\"c1\"># æ—¥æœ¬æ™‚é–“ã§æœˆã€œé‡‘ã®æ¯æ—¥9æ™‚30åˆ†ã«å®Ÿè¡Œ</span>\n    <span class=\"pi\">-</span> <span class=\"na\">cron</span><span class=\"pi\">:</span> <span class=\"s\">30 0 * * SUN-THU</span>\n\n<span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Start Instance</span>\n\n<span class=\"na\">jobs</span><span class=\"pi\">:</span>\n  <span class=\"na\">start</span><span class=\"pi\">:</span>\n    <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Start Instance</span>\n    <span class=\"na\">runs-on</span><span class=\"pi\">:</span> <span class=\"s\">ubuntu-18.04</span>\n    <span class=\"na\">steps</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/checkout@v1</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Setup Python </span><span class=\"m\">3.7</span>\n        <span class=\"na\">uses</span><span class=\"pi\">:</span> <span class=\"s\">actions/setup-python@v1</span>\n        <span class=\"na\">with</span><span class=\"pi\">:</span>\n          <span class=\"na\">python-version</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">3.7\"</span>\n          <span class=\"na\">architecture</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">x64\"</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Install awscli</span>\n        <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">pip install --upgrade pip awscli</span>\n\n      <span class=\"pi\">-</span> <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">Start Instance</span>\n        <span class=\"na\">run</span><span class=\"pi\">:</span> <span class=\"s\">./scripts/instance.bash start</span>\n        <span class=\"na\">env</span><span class=\"pi\">:</span>\n          <span class=\"na\">AWS_ACCESS_KEY_ID</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_ACCESS_KEY_ID }}</span>\n          <span class=\"na\">AWS_SECRET_ACCESS_KEY</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_SECRET_ACCESS_KEY }}</span>\n          <span class=\"na\">AWS_DEFAULT_REGION</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.AWS_DEFAULT_REGION }}</span>\n          <span class=\"na\">RESOURCE_NAME</span><span class=\"pi\">:</span> <span class=\"s\">${{ secrets.RESOURCE_NAME }}</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"bash\">\n<div class=\"code-lang\"><span class=\"bold\">instance.bash</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\">#!/bin/bash -eu</span>\n\n<span class=\"nv\">cmd</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$1</span><span class=\"s2\">\"</span>\n\n<span class=\"k\">case</span> <span class=\"s2\">\"</span><span class=\"nv\">$cmd</span><span class=\"s2\">\"</span> <span class=\"k\">in</span>\n  <span class=\"s2\">\"start\"</span><span class=\"p\">)</span>\n    <span class=\"nv\">instance_state</span><span class=\"o\">=</span><span class=\"s2\">\"stopped\"</span>\n    <span class=\"nv\">instance_operation</span><span class=\"o\">=</span><span class=\"s2\">\"start-instances\"</span>\n    <span class=\"p\">;;</span>\n  <span class=\"s2\">\"stop\"</span><span class=\"p\">)</span>\n    <span class=\"nv\">instance_state</span><span class=\"o\">=</span><span class=\"s2\">\"running\"</span>\n    <span class=\"nv\">instance_operation</span><span class=\"o\">=</span><span class=\"s2\">\"stop-instances\"</span>\n    <span class=\"p\">;;</span>\n  <span class=\"k\">*</span> <span class=\"p\">)</span>\n    <span class=\"nb\">echo</span> <span class=\"s2\">\"invalid command: </span><span class=\"nv\">$cmd</span><span class=\"s2\">\"</span>\n    <span class=\"nb\">exit </span>1\n    <span class=\"p\">;;</span>\n<span class=\"k\">esac</span>\n\n<span class=\"nv\">instance_id</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"si\">$(</span>\n  aws ec2 describe-instances <span class=\"nt\">--filters</span> <span class=\"s2\">\"Name=tag:Name,Values=</span><span class=\"nv\">$RESOURCE_NAME</span><span class=\"s2\">\"</span> <span class=\"s2\">\"Name=tag:AutoStart,Values=enabled\"</span> |\n  jq <span class=\"nt\">-r</span> <span class=\"s2\">\".Reservations[].Instances[] | [.InstanceId, .State.Name] | select(.[1]==</span><span class=\"se\">\\\"</span><span class=\"nv\">$instance_state</span><span class=\"se\">\\\"</span><span class=\"s2\">)[0]\"</span> |\n  <span class=\"nb\">head</span> <span class=\"nt\">-1</span>\n<span class=\"si\">)</span><span class=\"s2\">\"</span>\n\n<span class=\"k\">if</span> <span class=\"o\">[</span> <span class=\"nt\">-n</span> <span class=\"s2\">\"</span><span class=\"nv\">$instance_id</span><span class=\"s2\">\"</span> <span class=\"o\">]</span>\n<span class=\"k\">then\n  </span>aws ec2 <span class=\"nv\">$instance_operation</span> <span class=\"nt\">--instance-ids</span> <span class=\"s2\">\"</span><span class=\"nv\">$instance_id</span><span class=\"s2\">\"</span> <span class=\"o\">&gt;</span> /dev/null\n  <span class=\"nb\">echo</span> <span class=\"s2\">\"succeed: resource-name=</span><span class=\"nv\">$RESOURCE_NAME</span><span class=\"s2\">, command=</span><span class=\"nv\">$cmd</span><span class=\"s2\">\"</span>\n\n<span class=\"k\">else\n  </span><span class=\"nb\">echo</span> <span class=\"s2\">\"unfound: resource-name=</span><span class=\"nv\">$RESOURCE_NAME</span><span class=\"s2\">, state=</span><span class=\"nv\">$instance_state</span><span class=\"s2\">\"</span>\n\n<span class=\"k\">fi</span>\n</code></pre></div>\n</div>\n\n<p>è‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’æ­¢ã‚ãŸã„å ´åˆã¯ã€EC2ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¿ã‚°è¨­å®šã‚’é–‹ãã€<code>AutoStart</code>ã‚­ãƒ¼ã®å€¤ã‚’<code>disabled</code>ãªã©ä»»æ„ã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ãã ã•ã„</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/703b50b8ff8e4eb4522585b4498e70a4f3f93f84/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f32333466363731382d633466642d633665342d316531312d3461323361633032353937322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F234f6718-c4fd-c6e4-1e11-4a23ac025972.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0cfc0392d8e3fd36a1519b72cfb0ec1\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/234f6718-c4fd-c6e4-1e11-4a23ac025972.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F234f6718-c4fd-c6e4-1e11-4a23ac025972.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=96212eaa7acd8a1fadd5c96cb2b8488d 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"å‰Šé™¤\" class=\"fragment\"></span><a href=\"#%E5%89%8A%E9%99%A4\"><i class=\"fa fa-link\"></i></a>å‰Šé™¤</h2>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«<code>t2.medium</code> ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã€æ”¾ã£ã¦ãŠãã¨èª²é‡‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™<br>\nSourcegraphã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯ã€CloudFormationã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã®å‰Šé™¤ã‚’è¡Œã£ã¦ãã ã•ã„ğŸ‘‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/c131bc25de043504d52924988611747ee1d7eb1c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f64666332643032342d323062612d623662342d623835622d3532323761656363376632652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fdfc2d024-20ba-b6b4-b85b-5227aecc7f2e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ef796f12cad296d38ea1ba81e750dfeb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/dfc2d024-20ba-b6b4-b85b-5227aecc7f2e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fdfc2d024-20ba-b6b4-b85b-5227aecc7f2e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=85f1912d041ec3f05b21faa8df1b6511 1x\" loading=\"lazy\"></a></p>\n\n<h1>\n<span id=\"ãŠã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ãŠã‚ã‚Šã«</h1>\n\n<p>å€‹äººçš„ã«ã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¹ã‚¯ã¯ã ã„ã¶å¼·åŠ›ãªæ©Ÿèƒ½ã«æ„Ÿã˜ã¾ã™...<br>\nDockerã‚³ãƒ³ãƒ†ãƒŠã‚’ä»»æ„ã®æ™‚åˆ»ã«å®Ÿè¡Œã§ãã‚‹è¨³ã§ã™ã‹ã‚‰ã€AWSã‚’ã¯ã˜ã‚ã¨ã—ãŸå„ç¨®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦ã¡ã‚‡ã£ã¨ã—ãŸãƒãƒƒãƒå‡¦ç†ã‚’ã‚„ã‚ŠãŸã„æ™‚ã«ã¯ã†ã£ã¦ã¤ã‘ã®æ©Ÿèƒ½ã ãªã¨æ€ã„ã¾ã—ãŸ</p>\n\n<p>ã¡ãªã¿ã«ã€GitHub Actionsã‚ˆã‚Šã‚‚ã€<a href=\"https://github.com/yktakaha4/sourcegraph-ec2/blob/master/aws/cfn.yml#L115-L181\" rel=\"nofollow noopener\" target=\"_blank\">EC2èµ·å‹•æ™‚ã®UserDataã®è¨­å®š</a>ãŒæœ¬è¨˜äº‹ã®ä¸­ã§ä¸€ç•ªå¤§å¤‰ã ã£ãŸã®ã§ã™ãŒã€æœ¬æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ãŸã‚å‰²æ„›ã—ã¾ã™ğŸ’”</p>\n",
      "body": "ã“ã¡ã‚‰ã¯ã€[GitHub Actions Advent Calendar 2019](https://qiita.com/advent-calendar/2019/github-actions) 11æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼\n\n# ã¯ã˜ã‚ã«\n\n[ãƒãƒ³ã‚ºãƒ©ãƒœæ ªå¼ä¼šç¤¾](https://www.hands-lab.com/)ã®[yktakaha4](https://twitter.com/yktakaha4)ã§ã™ğŸ²\næ™®æ®µã¯ã€[7æ—¥ç›®ã«æŠ•ç¨¿ã—ã¦ã„ã‚‹homines22ã•ã‚“](https://qiita.com/homines22/items/7c309cdb093eee3240af)ã‚‰ã¨ã€æŸå°å£²ã®ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚„ã€ECã‚µã‚¤ãƒˆã®é–‹ç™ºãƒ»é‹ç”¨ã«æºã‚ã£ã¦ã„ã¾ã™\nå½“åˆ[å¼Šç¤¾ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼](https://qiita.com/advent-calendar/2019/handslab)ã«2æ æŠ•ç¨¿ã™ã‚‹ã¤ã‚‚ã‚Šã§è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ãŸã®ã§ã™ãŒã€å‚åŠ è€…ãŒå¢—ãˆã¦æ ã‚’è­²ã‚‹ã“ã¨ã¨ã—ãŸãŸã‚ã€ã“ã¡ã‚‰ã«å¼•ã£è¶Šã—ã¾ã—ãŸ\n\n-----\n\nä»Šå¹´ã‚‚ã‚‚ã†ã™ãçµ‚ã‚ã‚Šã§ã™ã­...ğŸ…\nè‰²ã€…ã‚ã‚Šã¾ã—ãŸãŒã€æ¥­å‹™ã§å¤§å¤‰ã ã£ãŸã®ã¯ã‚„ã¯ã‚Šæ¶ˆè²»å¢—ç¨å¯¾å¿œï¼ˆã‚‚ã¨ã„è»½æ¸›ç¨ç‡å¯¾å¿œï¼‰ã§ã—ãŸ\n\næ©Ÿèƒ½å¤‰æ›´ãŒãªã„ãŸã‚æ™®æ®µè¦‹ãªã„ãƒ•ãƒªğŸ™ˆã‚’ã—ã¦ã„ã‚‹ã‚ã®ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã€æ³¨æ–‡ã‚„å•†å“ã¨ã„ã£ãŸæ¥­å‹™ã®æ ¹å¹¹ã«é–¢ã‚ã‚‹å¤§äº‹ãªã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¾ã§ã€ã‚ã¡ã‚‰ã“ã¡ã‚‰ã«`è»½æ¸›ç¨ç‡åŒºåˆ†`ã‚„`ç¨ç‡åˆ¥åˆè¨ˆé‡‘é¡`ã¨ã„ã£ãŸé …ç›®ã‚’è¿½åŠ ã™ã‚‹...ã¨ã„ã†å¯¾å¿œã§ã€\nä¿®æ­£è‡ªä½“ã¯è»½å¾®ãªã®ã«å¯¾ã—ã¦æ¥­å‹™å½±éŸ¿åº¦åˆã„ãŒå¤§ããã€å°å£²ã«é–¢ã‚ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ã”æ‹…å½“ã®è«¸æ°ã«ã‚‚é ­ã‚’æŠ±ãˆãŸæ–¹ãŒã„ã‚‰ã£ã—ã‚ƒã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™\n\nç§å€‹äººã¨ã—ã¦ã‚‚ã€å¤–éƒ¨ECã‚µã‚¤ãƒˆã¨ã®ãƒ‡ãƒ¼ã‚¿é€£æºã‚„ã€æ³¨æ–‡ç· ã‚ã€å‡ºè·ã€ãŠå®¢æ§˜ã¸ã®ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãªã©ã¨ã„ã£ãŸæ§˜ã€…ãªç®‡æ‰€ã«å¯¾ã—ã¦æ”¹ä¿®ã‚’è¡Œã„ã¾ã—ãŸãŒã€\nè¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ãƒ»æ©Ÿèƒ½é–“ã®ãƒ•ãƒ­ãƒ³ãƒˆã€APIã€ãƒãƒƒãƒã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚«ãƒ©ãƒ ã¾ã§æ¨ªæ–­çš„ã«å½±éŸ¿èª¿æŸ»ã‚’è¡Œã†ã®ã¯ã€ä¸­ã€…éª¨ã®æŠ˜ã‚Œã‚‹ä½œæ¥­ã§ã—ãŸ\n\næœ€åˆã¯VSCodeã‚„GitHubã®æ¤œç´¢æ©Ÿèƒ½ã€grepãªã©ã§çŠ¶æ³ã«å¿œã˜ã¦é©å½“ã«èª¿ã¹ã¦ã„ã¾ã—ãŸãŒã€\nä½œæ¥­ã®é€”ä¸­ã‹ã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«[Livegrep](https://github.com/livegrep/livegrep)ã‚’å°å…¥ã—ãŸã¨ã“ã‚ã€èª¿æŸ»ã®åŠ¹ç‡ãŒã ã„ã¶ä¸ŠãŒã‚Šã€ç‰¹ã«æƒ³å®šå¤–ã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ãŒåŠã‚“ã§ã„ãŸ...ã¨ã„ã†ã‚±ãƒ¼ã‚¹ã«äº‹å‰ã«æ°—ã¥ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ\n\nLivegrepã¯ã¨ã¦ã‚‚ã„ã„ãƒ„ãƒ¼ãƒ«ã§ã—ãŸãŒã€æ¤œç´¢å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ã‚¤ãƒ³ãƒ‡ã‚¯ã‚·ãƒ³ã‚°ã‚’è‡ªåˆ†ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãªã©ã®æ©Ÿèƒ½ãŒã¤ã„ã¦ãŠã‚‰ãšè¤‡æ•°äººã§åˆ©ç”¨ã™ã‚‹ã«ã¯ä¸ä¾¿ãªéƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€\nç¨å¯¾å¿œãŒå®Œäº†ã—ã¦æœ€è¿‘ã‚„ã£ã¨äººå¿ƒåœ°ã¤ã„ãŸã¨ã“ã‚ã§ã€æ”¹ã‚ã¦ãƒãƒ¼ãƒ ã§å…¨æ–‡æ¤œç´¢ã®ä»•çµ„ã¿ã‚’æ‰‹è»½ã«å…±ç”¨ã§ãã‚‹ã‚ˆã†æ•´å‚™ã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸ\n\n# ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\n\nä»Šå›ã¯ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã‚„ãƒªãƒã‚¸ãƒˆãƒªã®è‡ªå‹•ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã¨ã„ã£ãŸæ©Ÿèƒ½ãŒã¤ã„ãŸå…¨æ–‡æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹[Sourcegraph](https://github.com/sourcegraph/sourcegraph)ã®OSSç‰ˆã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ\n[ã“ã¡ã‚‰](https://knowledge.sakura.ad.jp/21833/)ã®è¨˜äº‹ã«éå¸¸ã«ã‚ˆãã¾ã¨ã¾ã£ã¦ã„ã¾ã™ãŒã€runã™ã‚‹ã ã‘ã§å³åº§ã«åˆ©ç”¨ã§ãã‚‹ä¾¿åˆ©ãª[Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹](https://hub.docker.com/r/sourcegraph/server/)ã®ã§ã€ã“ã¡ã‚‰ã‚’AWSã§é‹ç”¨ã—ã¾ã™ğŸ³\n\nç¤¾å†…å‘ã‘ã®ç”¨é€”ã§ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚‚å¿…è¦ãªãã€ã‹ã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åœæ­¢æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ®‹ã—ãŸã‹ã£ãŸã®ã§ã€\nDockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸEC2ã‚’CloudFormationã§ä½œæˆã—ã‚ˆã†ã¨æ€ã„ã¾ã™\nã¾ãŸã€å¼Šç¤¾ã®æ¨™æº–çš„ãªå‹¤å‹™æ™‚é–“ã¯10æ™‚ã‹ã‚‰19æ™‚ãªã®ã§ã€ãã‚Œä»¥å¤–ã®æ™‚é–“å¸¯ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åœæ­¢ã•ã›ã€ãªã‚‹ã¹ãä½ã‚³ã‚¹ãƒˆã«é‹ç”¨ã§ãã‚‹ã¨è‰¯ã•ãã†ã§ã™\n\nã¨ã„ã†ã“ã¨ã§ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ã«ãªã‚Šã¾ã—ãŸğŸ \n\n![ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/ad71ad34-b59f-e4b3-d773-b84a0617e222.png)\n\nCloudFormationã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ãŠã‚ˆã³åœæ­¢ã¯GitHub Actionsã‚’ç”¨ã„ã¦è¡Œã„ã¾ã™\næœ¬è¨˜äº‹ã®åŸ·ç­†æ™‚ç‚¹ã§ã€æŒ‡å®šæ™‚é–“ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã«ã¯CloudWatch Eventsã‹ã‚‰Lambdaã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ãŒã€\nGitHub Actionsã«ã¯[æ‰€å®šã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šæœŸå®Ÿè¡Œã™ã‚‹æ©Ÿèƒ½](https://help.github.com/ja/actions/automating-your-workflow-with-github-actions/workflow-syntax-for-github-actions#onschedule)ãŒã‚ã‚‹ã®ã§ã€ã“ã„ã¤ã§AWS CLIã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã™ã‚Œã°æ‰‹è»½ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•ãƒ»åœæ­¢ãŒå®Ÿç¾ã§ããã†ã§ã™\n\n# ã§ããŸã‚‚ã®\n\nä¼šç¤¾ã§å®Ÿéš›ã«ä½¿ã£ã¦ã„ã‚‹ã‚‚ã®ã¯ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã®åˆ©ç”¨ã‚’å‰æã¨ã—ãŸæ§‹æˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ãªå½¢ã«ä¿®æ­£ã—ãŸã‚‚ã®ã‚’ä»¥ä¸‹ãƒªãƒã‚¸ãƒˆãƒªã«å…¬é–‹ã—ã¾ã—ãŸ:octocat:\n\nhttps://github.com/yktakaha4/sourcegraph-ec2\n\n## æ§‹ç¯‰æ‰‹é †\n\nã¾ãšã€ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¾ã™ğŸ´\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c5a36180-a5a9-1c98-cf15-2c7dad281f66.png)\n\nãƒ•ã‚©ãƒ¼ã‚¯ç›´å¾Œã ã¨GitHub ActionsãŒæœ‰åŠ¹ã«ãªã‚‰ãªã„ã‚ˆã†ãªã®ã§ã€`Actions`ã‚¿ãƒ–ã‹ã‚‰æœ‰åŠ¹åŒ–ã—ã¦ãŠãã¾ã™ï¼ˆã‚¹ã‚¯ã‚·ãƒ§æ’®ã‚Šå¿˜ã‚ŒãŸ...ï¼‰\n\n`Settings -> Secrets -> Add a new secret` ã§ã€ä»¥ä¸‹ã®å€¤ã‚’è¨­å®šã—ã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/200820b7-2497-3538-4422-e36ad21988f9.png)\n\n|ã‚­ãƒ¼|èª¬æ˜|\n|---|---|\n|AWS_ACCESS_KEY_ID|AWSã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ID|\n|AWS_SECRET_ACCESS_KEY|AWSã®ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼|\n|AWS_DEFAULT_REGION|ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³<br>`ap-northeast-1`ãªã©|\n|RESOURCE_NAME|AWSä¸Šã§ã®ãƒªã‚½ãƒ¼ã‚¹å<br>`sourcegraph-ec2`ãªã©|\n|AVAILABILITY_ZONE|ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚¾ãƒ¼ãƒ³<br>`ap-northeast-1c`ãªã©|\n|SUBNET_ID|ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ã‚µãƒ–ãƒãƒƒãƒˆID<br>`AVAILABILITY_ZONE`é…ä¸‹ã®ã‚µãƒ–ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã“ã¨|\n|SECURITY_GROUP_ID_LIST|ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆè¤‡æ•°æŒ‡å®šæ™‚ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰<br>TCP443ã¨2633ãƒãƒ¼ãƒˆã‚’é–‹æ”¾ã—ãŸã‚‚ã®ã‚’æŒ‡å®š|\n\nã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒæŒ‡å®šã§ããŸã‚‰ã€ãªã‚“ã§ã‚‚ã‚ˆã„ã®ã§`master`ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™\nã¨ã‚Šã‚ãˆãšãªã®ã§README.mdã‚’ã„ã˜ã‚Šã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/783e6f29-4157-1f3d-e487-a06f9cf6063c.png)\n\né©å½“ã«æ–‡é¢ã‚’ç·¨é›†ã®ä¸Šã€ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™\n\nã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¦æ€ã„è‡³ã£ãŸã®ã§ã™ãŒã€ã“ã‚Œã ã¨æ¨ªå±•é–‹ãŒã—ã¥ã‚‰ã„ã®ã§ã€ã‚¿ã‚°æ‰“ã£ãŸã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤...ã¿ãŸã„ãªæ„Ÿã˜ã«ã—ãŸæ–¹ãŒã‚ˆã„ã§ã™ã­\nã‚ã‚‹ã„ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ‰‹å‹•å®Ÿè¡ŒãŒã§ãã‚‹ã¨ã‚ˆã„ã®ã§ã™ãŒ...\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0a8c38ab-600a-423c-7205-633d0e781f30.png)\n\n`master`ãƒ–ãƒ©ãƒ³ãƒãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ã€CloudFormationä¸Šã«`RESOURCE_NAME` ã§æŒ‡å®šã—ãŸã‚¹ã‚¿ãƒƒã‚¯ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```yaml:deploy.yml\non:\n  push:\n    branches:\n      - master\n\nname: Deploy\n\njobs:\n  deploy:\n    name: Deploy to AWS\n    runs-on: ubuntu-18.04\n    steps:\n      - uses: actions/checkout@v1\n\n      - name: Setup Python 3.7\n        uses: actions/setup-python@v1\n        with:\n          python-version: \"3.7\"\n          architecture: \"x64\"\n\n      - name: Install awscli\n        run: pip install --upgrade pip awscli\n\n      - name: Deploy CloudFormation Stack\n        run: ./scripts/deploy.bash\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          AWS_DEFAULT_REGION: ${{ secrets.AWS_DEFAULT_REGION }}\n          RESOURCE_NAME: ${{ secrets.RESOURCE_NAME }}\n          AVAILABILITY_ZONE: ${{ secrets.AVAILABILITY_ZONE }}\n          SUBNET_ID: ${{ secrets.SUBNET_ID }}\n          SECURITY_GROUP_ID_LIST: ${{ secrets.SECURITY_GROUP_ID_LIST }}\n```\n\n```bash:deploy.bash\n#!/bin/bash -eu\n\nbase_dir=\"$(cd \"$(dirname $0)/..\"; pwd)\"\n\naws cloudformation deploy \\\n    --stack-name \"$RESOURCE_NAME\" \\\n    --template-file \"$base_dir/aws/cfn.yml\" \\\n    --capabilities CAPABILITY_NAMED_IAM \\\n    --no-fail-on-empty-changeset \\\n    --parameter-overrides \\\n        ResourceName=\"$RESOURCE_NAME\" \\\n        AvailabilityZoneName=\"$AVAILABILITY_ZONE\" \\\n        SubnetId=\"$SUBNET_ID\" \\\n        SecurityGroupIdList=\"$SECURITY_GROUP_ID_LIST\"\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/64df1485-1e2c-d214-6072-cd69b081cb99.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/867e2271-01a0-dce0-3131-61dc8f7ddf3d.png)\n\nã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã§ããŸã‚‰ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯IPã‚’ç¢ºèªã—ã€æ¥ç¶šã—ã¦ã¿ã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e8523503-f629-5d96-e5e6-8fb1b92608e2.png)\n\nSourcegraphã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰æ¤œç´¢ç”¨é€”ã®ãŸã‚ã€httpã§ã¯é‹ç”¨ã—ãŸãã‚ã‚Šã¾ã›ã‚“\nå¹¸ã„ãªã“ã¨ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç®¡ç†ç”»é¢å‘ã‘ã«è‡ªå·±ç½²åã®SSLè¨¼æ˜æ›¸ã‚’ç™ºè¡Œã™ã‚‹ä»•æ§˜ã¨ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã“ã„ã¤ã‚’ä½¿ã£ã¦httpsé€šä¿¡ã‚’ãŠã“ãªã†ã“ã¨ã¨ã—ã¾ã™\n\n`https://ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯IP/`ã«æ¥ç¶šã™ã‚‹ã¨ã€ä»¥ä¸‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\næ¥ç¶šã§ããªã„å ´åˆã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§TCP443ãƒãƒ¼ãƒˆã¨2633ãƒãƒ¼ãƒˆãŒç©ºã„ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/4871d213-21cf-bf3a-3a98-ce301ba6b3ee.png)\n\nhttpsé€šä¿¡ã«ã‚ãŸã‚Šã€è¨¼æ˜æ›¸ãŒä¸å¯©ã®ãŸã‚æ¥ç¶šã‚’æ¸‹ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³ã§ã™\nGoogle Chromeã§ã‚ã‚Œã°`ä¿è­·ã•ã‚Œã¦ã„ãªã„é€šä¿¡ -> è¨¼æ˜æ›¸ï¼ˆç„¡åŠ¹ï¼‰ \n -> è©³ç´°ãªæƒ…å ±`ã¨é–‹ã„ã¦ã„ãã¨ã€`æŒ‡ç´‹`ã®é …ã«ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/70d66e8d-54db-9d91-f57c-0d6d064b4e0b.png)\n\nè¦ã¯ã“ã®è¨¼æ˜æ›¸ãŒä¿¡é ¼ã§ãã‚‹ã‚‚ã®ã‹åˆ¤æ–­ã§ãã‚Œã°ã„ã„...ã¨ã„ã†ã“ã¨ã§ã™ãŒã€\næœ¬ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ§‹ç¯‰æ™‚ã«ç”Ÿæˆã—ãŸè¨¼æ˜æ›¸ã®ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã‚’CloudwatchLogsã«åãå‡ºã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™\n\n`Cloudwatch -> ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ— -> /var/log/messages -> ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID`ã‚’é–‹ã„ãŸã®ã¡ã€`cert`ã§ãƒ­ã‚°ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã®ã§ã€\nå€¤ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€å•é¡Œãªã‘ã‚Œã°è¨¼æ˜æ›¸ã®ä¿¡é ¼è¨­å®šã‚’è¡Œã„ã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/e4444413-c949-30dd-0e22-15cb0f664773.png)\n\nGoogle Chromeä¸Šã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹è¨¼æ˜æ›¸ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®å¾Œã€\nãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/da26ab86-2201-657b-673c-0985769fe7ad.png)\n\n`ä»Šå›è¿½åŠ ã—ãŸè¨¼æ˜æ›¸ã‚’å³ã‚¯ãƒªãƒƒã‚¯ -> æƒ…å ±ã‚’è¦‹ã‚‹ -> ä¿¡é ¼ -> ã“ã®è¨¼æ˜æ›¸ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã`ã§`å¸¸ã«ä¿¡é ¼`ã‚’é¸ã³ã€\nã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹éš›ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€è¨¼æ˜æ›¸ãŒä¿¡é ¼ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¦æŒ‡å®šã•ã‚Œã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/4c8511ea-45a4-acab-1360-cd5809804b2d.png)\n\nå†åº¦å…ˆã»ã©ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`è©³ç´°è¨­å®šã‚’è¡¨ç¤º`ã‚’æŠ¼ã—ãŸå¾Œã®ç”»é¢ã§ã€æ¥ç¶šå…ˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/ffb084c2-38d4-2815-be9f-408ea526d9f4.png)\n\nã„ã„æ„Ÿã˜ã§ã™ã­ï¼\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0794d86f-abe9-76cd-c991-f007bc0b5dfe.png)\n\nã“ã‚Œä»¥é™ã®è¨­å®šã¯ã€å…ˆã»ã©ã®[ã•ãã‚‰ã®ãƒŠãƒ¬ãƒƒã‚¸æ§˜ã®æ§‹ç¯‰æ‰‹é †](https://knowledge.sakura.ad.jp/21833/)ã®`Sourcegraphã®åˆæœŸè¨­å®š`ã®é …ã‚’å‚è€ƒã«è¡Œã£ã¦ãã ã•ã„ï¼\n\n```json:ç®¡ç†ç”»é¢ã®è¨­å®šã‚µãƒ³ãƒ—ãƒ«ï¼ˆã”å‚è€ƒï¼‰\n{\n\t// The externally accessible URL for Sourcegraph (i.e., what you type into your browser)\n\t// This is required to be configured for Sourcegraph to work correctly.\n\t\"externalURL\": \"https://ec2-52-194-175-117.ap-northeast-1.compute.amazonaws.com\",\n\n\t\"auth.providers\": [\n\t\t{\n\t\t\t\"type\": \"builtin\",\n\t\t\t\"allowSignup\": false\n\t\t}\n\t]\n}\n```\n\n## é‹ç”¨\n\nå¹³æ—¥ã®8:30ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•èµ·å‹•ã¨ã€æ¯æ—¥19:30ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•åœæ­¢ãŒãŠã“ãªã‚ã‚Œã¾ã™ğŸœ\n\n```yaml:start_instance.yml\non:\n  schedule:\n    # æ—¥æœ¬æ™‚é–“ã§æœˆã€œé‡‘ã®æ¯æ—¥9æ™‚30åˆ†ã«å®Ÿè¡Œ\n    - cron: 30 0 * * SUN-THU\n\nname: Start Instance\n\njobs:\n  start:\n    name: Start Instance\n    runs-on: ubuntu-18.04\n    steps:\n      - uses: actions/checkout@v1\n\n      - name: Setup Python 3.7\n        uses: actions/setup-python@v1\n        with:\n          python-version: \"3.7\"\n          architecture: \"x64\"\n\n      - name: Install awscli\n        run: pip install --upgrade pip awscli\n\n      - name: Start Instance\n        run: ./scripts/instance.bash start\n        env:\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          AWS_DEFAULT_REGION: ${{ secrets.AWS_DEFAULT_REGION }}\n          RESOURCE_NAME: ${{ secrets.RESOURCE_NAME }}\n```\n\n```bash:instance.bash\n#!/bin/bash -eu\n\ncmd=\"$1\"\n\ncase \"$cmd\" in\n  \"start\")\n    instance_state=\"stopped\"\n    instance_operation=\"start-instances\"\n    ;;\n  \"stop\")\n    instance_state=\"running\"\n    instance_operation=\"stop-instances\"\n    ;;\n  * )\n    echo \"invalid command: $cmd\"\n    exit 1\n    ;;\nesac\n\ninstance_id=\"$(\n  aws ec2 describe-instances --filters \"Name=tag:Name,Values=$RESOURCE_NAME\" \"Name=tag:AutoStart,Values=enabled\" |\n  jq -r \".Reservations[].Instances[] | [.InstanceId, .State.Name] | select(.[1]==\\\"$instance_state\\\")[0]\" |\n  head -1\n)\"\n\nif [ -n \"$instance_id\" ]\nthen\n  aws ec2 $instance_operation --instance-ids \"$instance_id\" > /dev/null\n  echo \"succeed: resource-name=$RESOURCE_NAME, command=$cmd\"\n\nelse\n  echo \"unfound: resource-name=$RESOURCE_NAME, state=$instance_state\"\n\nfi\n```\n\nè‡ªå‹•èµ·å‹•ãƒ»åœæ­¢ã‚’æ­¢ã‚ãŸã„å ´åˆã¯ã€EC2ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¿ã‚°è¨­å®šã‚’é–‹ãã€`AutoStart`ã‚­ãƒ¼ã®å€¤ã‚’`disabled`ãªã©ä»»æ„ã®ã‚‚ã®ã«å¤‰æ›´ã—ã¦ãã ã•ã„\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/234f6718-c4fd-c6e4-1e11-4a23ac025972.png)\n\n## å‰Šé™¤\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«`t2.medium` ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã€æ”¾ã£ã¦ãŠãã¨èª²é‡‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™\nSourcegraphã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯ã€CloudFormationã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯ã®å‰Šé™¤ã‚’è¡Œã£ã¦ãã ã•ã„ğŸ‘‹\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/dfc2d024-20ba-b6b4-b85b-5227aecc7f2e.png)\n\n# ãŠã‚ã‚Šã«\n\nå€‹äººçš„ã«ã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¹ã‚¯ã¯ã ã„ã¶å¼·åŠ›ãªæ©Ÿèƒ½ã«æ„Ÿã˜ã¾ã™...\nDockerã‚³ãƒ³ãƒ†ãƒŠã‚’ä»»æ„ã®æ™‚åˆ»ã«å®Ÿè¡Œã§ãã‚‹è¨³ã§ã™ã‹ã‚‰ã€AWSã‚’ã¯ã˜ã‚ã¨ã—ãŸå„ç¨®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦ã¡ã‚‡ã£ã¨ã—ãŸãƒãƒƒãƒå‡¦ç†ã‚’ã‚„ã‚ŠãŸã„æ™‚ã«ã¯ã†ã£ã¦ã¤ã‘ã®æ©Ÿèƒ½ã ãªã¨æ€ã„ã¾ã—ãŸ\n\nã¡ãªã¿ã«ã€GitHub Actionsã‚ˆã‚Šã‚‚ã€[EC2èµ·å‹•æ™‚ã®UserDataã®è¨­å®š](https://github.com/yktakaha4/sourcegraph-ec2/blob/master/aws/cfn.yml#L115-L181)ãŒæœ¬è¨˜äº‹ã®ä¸­ã§ä¸€ç•ªå¤§å¤‰ã ã£ãŸã®ã§ã™ãŒã€æœ¬æ—¨ã‹ã‚‰é€¸ã‚Œã‚‹ãŸã‚å‰²æ„›ã—ã¾ã™ğŸ’”\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-11-17T03:51:10+09:00",
      "group": null,
      "id": "336c85d5a3c4e04b9226",
      "likes_count": 6,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 2,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "CloudFormation",
          "versions": []
        },
        {
          "name": "GitHubActions",
          "versions": []
        }
      ],
      "title": "Sourcegraphã‚’GitHub Actions+CloudFormationã§æ§‹ç¯‰ãƒ»ç®¡ç†ã™ã‚‹",
      "updated_at": "2019-12-11T07:03:13+09:00",
      "url": "https://qiita.com/yktakaha4/items/336c85d5a3c4e04b9226",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ã“ã¡ã‚‰ã¯ã€<a href=\"https://qiita.com/advent-calendar/2019/handslab\">ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2019</a> 4æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼</p>\n\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>æœ€è¿‘ã†ã¾ã„ã‚‚ã®é£Ÿã¹ã™ãã§å¤ªã£ã¦ããŸ<a href=\"https://twitter.com/yktakaha4\" rel=\"nofollow noopener\" target=\"_blank\">yktakaha4</a>ã§ã™...ğŸ–</p>\n\n<p><a href=\"https://aws.amazon.com/jp/amazon-linux-2/faqs/#Support_for_Amazon_Linux_2_LTS_Candidates_and_Amazon_Linux_AMI\" rel=\"nofollow noopener\" target=\"_blank\">Amazon Linuxã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆçµ‚äº†ã¾ã§ã‚ã¨åŠå¹´</a>ã¨ãªã‚Šã¾ã—ãŸãŒã€ã¿ãªã•ã¾å¯¾å¿œã¯é€²ã‚“ã§ã„ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿ<br>\nç§ã®æ‰€å±ã™ã‚‹CRMãƒãƒ¼ãƒ ã§ã¯ã€ä¸»ã«ãƒãƒƒãƒã‚µãƒ¼ãƒã¨ã—ã¦ã®ç”¨é€”ã§Amazon Linuxã®EC2ãŒã„ãã¤ã‹ç¨¼åƒã—ã¦ã„ã¾ã™<br>\nä»¥å‰ã‹ã‚‰<a href=\"https://www.hands-lab.com/tech/entry/4674.html\" rel=\"nofollow noopener\" target=\"_blank\">ãƒãƒƒãƒå‡¦ç†ã®PythonåŒ–&amp;ECSã‚¿ã‚¹ã‚¯åŒ–</a>ã‚‚é€²ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’ç½®ãæ›ãˆã‚‹ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ä¸¦è¡Œã—ã¦AL2ã®EC2ã¸ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ç§»è¡Œã«ç€æ‰‹ã—ã¦ã„ã¾ã™</p>\n\n<p>å¼Šç¤¾ã¯<a href=\"https://ja.wikipedia.org/wiki/%E3%83%A6%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B8%E9%96%8B%E7%99%BA%E6%89%8B%E6%B3%95\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸é–‹ç™ºæ‰‹æ³•</a>ã¨ã„ã†ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚’ãŠã“ãªã†æ‰‹æ³•ã‚’åºƒãæ¡ç”¨ã—ã¦ã„ãŸçµŒç·¯ãŒã‚ã‚Šã€<br>\nCRMãƒãƒ¼ãƒ ã§ã‚‚ã€ç‰¹ã«ãƒãƒƒãƒé ˜åŸŸã«ã¤ã„ã¦ã¯bashã§æ›¸ã‹ã‚ŒãŸæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ãŒã¾ã ã¾ã æ®‹ã£ã¦ã„ã¾ã™<br>\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒã«ã¯ã€<code>self</code>ã‚„<code>join1</code>ã¨ã„ã£ãŸç‹¬è‡ªã‚³ãƒãƒ³ãƒ‰ãŒã„ã‚ã„ã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã®ã«åŠ ãˆã€<br>\n<code>nkf</code>ã‚’ã¯ã˜ã‚ã¨ã—ãŸæ¨™æº–ã§å…¥ã£ã¦ãªã„ã‚³ãƒãƒ³ãƒ‰ã‚‚é©å®œè¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€ç§»è¡Œã®éšœå£ã¨ãªã‚Šãã†ã§ã™...</p>\n\n<p>æ§‹ç¯‰å½“åˆï¼ˆä½•å¹´ã‚‚å‰ã®ã“ã¨ã§ã™...ï¼‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¼ã£ãŸã‚Šã€<code>yum</code>ã‹ã‚‰è¿½ã†ã®ã‚‚ã‚ˆã„ã§ã™ãŒã€<br>\nå®Ÿéš›ã«ä½¿ã‚ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯å¤§æŠµé™ã‚‰ã‚Œã¦ãŠã‚Šã€ã¾ãŸç§»è¡Œã®éç¨‹ã§ä½¿ã‚ãªããªã£ãŸã‚‚ã®ã‚‚ã‚ã‚‹ã¯ãšãªã®ã§ã€<br>\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&amp;å‹•ä½œæ¤œè¨¼å¯¾è±¡ã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã‚‚ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã§åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆã¨ã§ãã‚Œã°ä»¶æ•°ï¼‰ãŒåˆ†ã‹ã‚‹ã¨è‰¯ã•ãã†ã§ã™</p>\n\n<h1>\n<span id=\"çµè«–\" class=\"fragment\"></span><a href=\"#%E7%B5%90%E8%AB%96\"><i class=\"fa fa-link\"></i></a>çµè«–</h1>\n\n<p>ãªã‚“ã‹ã§ãã¾ã—ãŸğŸ‘¹</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆMacã®å ´åˆï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>find <span class=\"nb\">.</span> <span class=\"nt\">-name</span> <span class=\"s2\">\"*.bash\"</span> | xargs ggrep <span class=\"nt\">-oP</span> <span class=\"s1\">'(^|(?&lt;=;)|(?&lt;=do )|(?&lt;=then )|(?&lt;=`)|(?&lt;=&amp;&amp;)|(?&lt;=\\|\\|)|(?&lt;=\\|)|(?&lt;=\\$\\())(\\s*\\w+=\\w+\\s)?\\s*\\w+(?=$|[^=])'</span> | <span class=\"nb\">awk</span> <span class=\"nt\">-F</span>: <span class=\"s1\">'{print $NF}'</span> | <span class=\"nb\">awk</span> <span class=\"s1\">'{print $NF}'</span> | <span class=\"nb\">sort</span> | <span class=\"nb\">uniq</span> <span class=\"nt\">-c</span> | <span class=\"nb\">sort</span> <span class=\"nt\">-nrk1</span> | <span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n<span class=\"go\"> 500 error_exit &lt;- â€»ã“ã„ã¤ã¯functionã€‚å¼•ã£ã‹ã‹ã£ã¦ã—ã¾ã†ãŒã—ã‚ƒãƒ¼ãªã—\n 400 source\n 300 cat\n 200 basename\n 100 plus &lt;- â€»ã“ã„ã¤ã¯ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚³ãƒãƒ³ãƒ‰\n</span></code></pre></div>\n</div>\n\n<p>ä¸Šè¿°ã®é€šã‚Šã€functionãªã©ã‚‚æ‹¾ã£ã¦ã—ã¾ã†ãŸã‚ç›®æ¤œã¯å¿…è¦ã§ã™ãŒã€<br>\nä»Šå›ã ã¨ <code>1 lha</code> <a href=\"http://www.k-tanaka.net/unix/lha.php\" rel=\"nofollow noopener\" target=\"_blank\">ï¼ˆã“ã„ã¤ï¼‰</a>ã¿ãŸã„ãªçµæœã‚‚å¾—ã‚‰ã‚ŒãŸã®ã§ãã‚Œãªã‚Šã«æº€è¶³ã§ã™</p>\n\n<p>ç›®ã§è¦‹ã‚‹ã®ãŒé¢å€’ãªæ–¹ã¯ã€ç§»è¡Œå…ƒã®Amazon Linuxã§ã‚³ãƒãƒ³ãƒ‰ï¼ˆã£ã½ã„æ–‡å­—åˆ—ãŸã¡ï¼‰ã‚’<code>whereis</code>ã«ã‹ã‘ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†<br>\næ›´ã«ãã®çµæœã‹ã‚‰æŠ½å‡ºã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ç§»è¡Œå…ˆã®Amazon Linux2ã§<code>whereis</code>ã—ã¦ã€å‡ºã¦ã“ãªã‹ã£ãŸã‚‚ã®ãŒè¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«...ã¨ã„ã†è€ƒãˆæ–¹ã§ã‚‚ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cat </span>commands.txt | <span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n<span class=\"go\">000\nawk\nbasename\ncat\ncd\n\n</span><span class=\"gp\">$</span><span class=\"w\"> </span>whereis <span class=\"si\">$(</span><span class=\"nb\">cat </span>commands.txt<span class=\"si\">)</span> | <span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n<span class=\"go\">/usr/bin/awk\n/usr/bin/basename\n/bin/cat\n/usr/bin/cd\n/bin/cp\n</span></code></pre></div>\n</div>\n\n<h1>\n<span id=\"è§£èª¬\" class=\"fragment\"></span><a href=\"#%E8%A7%A3%E8%AA%AC\"><i class=\"fa fa-link\"></i></a>è§£èª¬</h1>\n\n<p>ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã ã¨è¦‹ã¥ã‚‰ã„ã®ã§ã€æ”¹è¡Œ&amp;ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã¤ã‘ã¦ã¿ã¾ã—ãŸ</p>\n\n<div class=\"code-frame\" data-lang=\"bash\">\n<div class=\"code-lang\"><span class=\"bold\">æ•´ç†ã™ã‚‹</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\"># ç¾åœ¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®bashãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŠ½å‡º</span>\nfind <span class=\"nb\">.</span> <span class=\"nt\">-name</span> <span class=\"s2\">\"*.bash\"</span> |\n<span class=\"c\"># ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«ã€æ­£è¦è¡¨ç¾ã«ã¦ã‚³ãƒãƒ³ãƒ‰ã£ã½ã„æ–‡å­—åˆ—ã‚’æŠ½å‡ºï¼ˆå¾Œè¿°ï¼‰</span>\nxargs ggrep <span class=\"nt\">-oP</span> <span class=\"s1\">'(^|(?&lt;=;)|(?&lt;=do )|(?&lt;=then )|(?&lt;=`)|(?&lt;=&amp;&amp;)|(?&lt;=\\|\\|)|(?&lt;=\\|)|(?&lt;=\\$\\())(\\s*\\w+=\\w+\\s)?\\s*\\w+(?=$|\\W)'</span> |\n<span class=\"c\"># ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹:ã‚³ãƒãƒ³ãƒ‰ã£ã½ã„æ–‡å­—åˆ— ã®å½¢å¼ã§å‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒ­ãƒ³åŒºåˆ‡ã‚Šã§æœ€çµ‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡º</span>\n<span class=\"nb\">awk</span> <span class=\"nt\">-F</span>: <span class=\"s1\">'{print $NF}'</span> |\n<span class=\"c\"># ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§æœ€çµ‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡ºï¼ˆç†ç”±ã¯å¾Œè¿°ï¼‰</span>\n<span class=\"nb\">awk</span> <span class=\"s1\">'{print $NF}'</span> |\n<span class=\"c\"># ã‚«ã‚¦ãƒ³ãƒˆã®ãŸã‚ã«ä¸¦ã³æ›¿ãˆ</span>\n<span class=\"nb\">sort</span> |\n<span class=\"c\"># ä»¶æ•°ã‚«ã‚¦ãƒ³ãƒˆ</span>\n<span class=\"nb\">uniq</span> <span class=\"nt\">-c</span> |\n<span class=\"c\"># ä»¶æ•°é †ã«ä¸¦ã³æ›¿ãˆ</span>\n<span class=\"nb\">sort</span> <span class=\"nt\">-nrk1</span> |\n<span class=\"c\"># ä¸Šä½5ä»¶ã‚’è¡¨ç¤º</span>\n<span class=\"nb\">head</span> <span class=\"nt\">-5</span>\n</code></pre></div>\n</div>\n\n<p>é€”ä¸­ã€<code>ggrep</code>ã¨ã„ã†é¦´æŸ“ã¿ã®ãªã„ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ã¯Macç’°å¢ƒã§ä¸Šè¨˜ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«å¿…è¦ã«ãªã‚‹ã‚‚ã®ã§ã™<br>\nä»Šå›grepã‚³ãƒãƒ³ãƒ‰ã®æ­£è¦è¡¨ç¾ã«ã¦<a href=\"https://qiita.com/tohta/items/2ba7ecde5636b38ef1f6\" id=\"reference-8cfaac2c8c106183eebe\">è‚¯å®šå…ˆèª­ã¿ã¨è‚¯å®šå¾Œèª­ã¿</a>ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ã“ã¡ã‚‰ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãª<code>-P</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ<a href=\"https://ja.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions\" rel=\"nofollow noopener\" target=\"_blank\">PCRE</a>æº–æ‹ ã®æ­£è¦è¡¨ç¾ã‚’ä½¿ç”¨ï¼‰ãŒã€Macã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ã‚‹BSDç‰ˆã®grepã‚³ãƒãƒ³ãƒ‰ã ã¨ä½¿ãˆãªã„ãŸã‚ã€è¿½åŠ ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™<br>\nAmazon Linuxä¸Šã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€å˜ç´”ã«<code>grep</code>ã«å¤‰æ›´ã™ã‚Œã°å‹•ä½œã™ã‚‹ã¯ãšã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<span class=\"gp\">$</span><span class=\"w\"> </span>brew <span class=\"nb\">install grep</span>\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>BSD grepã¯ã ã‚ã€€Macã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã“ã¡ã‚‰ãŒå…¥ã£ã¦ã„ã‚‹\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">grep</span> <span class=\"nt\">-V</span> | <span class=\"nb\">head</span> <span class=\"nt\">-1</span>\n<span class=\"go\">grep (BSD grep) 2.5.1-FreeBSD\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>GNU grepãªã‚‰ğŸ™†â€â™€ï¸\n<span class=\"gp\">$</span><span class=\"w\"> </span>ggrep <span class=\"nt\">-V</span> | <span class=\"nb\">head</span> <span class=\"nt\">-1</span>\n<span class=\"go\">ggrep (GNU grep) 3.3\n</span></code></pre></div>\n</div>\n\n<p>æœ¬è¨˜äº‹ã®ã‚­ãƒ¢ã¨ãªã‚‹æ­£è¦è¡¨ç¾ã®éƒ¨åˆ†ã§ã™ãŒã€<a href=\"https://www.debuggex.com/r/mrXJEWqDGZJ0HTBW\" rel=\"nofollow noopener\" target=\"_blank\">Debuggex</a>ã¨ã„ã†ã‚µã‚¤ãƒˆã§å¯è¦–åŒ–ã—ã¦ã¿ã¾ã—ãŸ</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7d819f4dcfdef94061a31a2eceda28cbc9b14af1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f64326461623930392d313432372d343933322d393266382d6330613562336434366333392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fd2dab909-1427-4932-92f8-c0a5b3d46c39.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8a3e1dfffa99beac1b76cd21f9fbe899\" alt=\"regex.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/d2dab909-1427-4932-92f8-c0a5b3d46c39.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fd2dab909-1427-4932-92f8-c0a5b3d46c39.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ed3e28f187dcd360671171474db96d89 1x\" loading=\"lazy\"></a></p>\n\n<p>ä»•æ§˜ã¨ã—ã¦ã¯ã€å¤§ä½“ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚‹ã¯ãšã§ã™<br>\n<a href=\"https://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãªã©ã‚‚å‚ç…§ã—ã¤ã¤ã€æ€ã„ã¤ãé™ã‚Šã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ—æŒ™ã—ãŸã¤ã‚‚ã‚Šã§ã™ãŒã€æŠœã‘ã‚„ãƒã‚°ãŒã‚ã‚‹ã‹ã‚‚...<br>\nãŸã ã€ä¸»ã ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ½å‡ºã§ãã‚Œã°ååˆ†ãªã®ã§ã€ã¨ã‚Šã‚ãˆãšç´å¾—ã—ã¦ä½¿ã£ã¦ã„ã¾ã™</p>\n\n<table>\n<thead>\n<tr>\n<th>æ¤œå‡º</th>\n<th>å†…å®¹</th>\n<th>ä¾‹</th>\n<th>å‚™è€ƒ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>â—¯</td>\n<td>æ™®é€šã®ã‚„ã¤</td>\n<td>cat example.txt</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>1è¡Œã«è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰</td>\n<td>cat example.txt; echo $?</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>ãƒ‘ã‚¤ãƒ—ã—ã¦è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰</td>\n<td>cat example.txt | grep -c \"hoge\"</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>åˆ¶å¾¡æ§‹æ–‡</td>\n<td>for f in *; do echo $f; done <br> if [ -f example.txt ]; then echo \"found!\"; fi</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>åˆ¶å¾¡æ¼”ç®—å­</td>\n<td>[ -f example.txt ] &amp;&amp; echo \"found!\" <br> [ -f example.txt ] || echo \"not found...\"</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>ã‚³ãƒãƒ³ãƒ‰ç½®æ›</td>\n<td>echo \"æ™‚åˆ»ã¯ `date` ã§ã™\" <br>echo \"æ™‚åˆ»ã¯ $(date) ã§ã™\"</td>\n<td></td>\n</tr>\n<tr>\n<td>â—¯</td>\n<td>å¤‰æ•°å®šç¾©&amp;ã‚³ãƒãƒ³ãƒ‰</td>\n<td>LANG=C sort -u</td>\n<td>ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã§é »å‡ºã€‚æ„å‘³ã¯<a href=\"https://qiita.com/bass_ikeda/items/e62f8514330baa35d843\" id=\"reference-320d983e8efaab51dd07\">ã“ã¡ã‚‰</a>\n</td>\n</tr>\n<tr>\n<td>Ã—</td>\n<td>ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã«ã‚³ãƒãƒ³ãƒ‰</td>\n<td>timeout 10 ping<br>eval 'echo \"hello\"'</td>\n<td>\n<code>timeout</code> <code>eval</code>ã—ã‹æ¤œå‡ºã§ããªã„</td>\n</tr>\n<tr>\n<td>Ã—</td>\n<td>å¤‰æ•°å±•é–‹ã•ã‚ŒãŸçµæœã‚³ãƒãƒ³ãƒ‰</td>\n<td>cmd=\"whoami\"; $cmd</td>\n<td>ğŸ¤—</td>\n</tr>\n</tbody>\n</table>\n\n<p>ãªãŠã€ä¸Šè¨˜ã¨ã¯åˆ¥ã«<code>ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„è¤‡æ•°è¡Œä¸­ã®æ–‡å­—åˆ—</code>ã‚„<code>function</code>ã€<code>alias</code>ãªã©ã«ã¤ã„ã¦ã‚‚èª¤æ¤œå‡ºã•ã‚Œã¾ã™</p>\n\n<h1>\n<span id=\"ãŠã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ãŠã‚ã‚Šã«</h1>\n\n<p>ç¾åœ¨ã¯ã€ã‚³ãƒãƒ³ãƒ‰èª¿æŸ»ã®çµæœã‚’å…ƒã«ä½œæˆã—ãŸAL2ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ä¸Šã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ã‚„ãƒ¦ãƒ¼ã‚¶ãªã©ã®è¨­å®šã®ã†ã¡å¿…é ˆãã†ãªã‚‚ã®ã‚’æ´—ã„å‡ºã—ã¦ã„ã¾ã™<br>\nECSã«ãªã‚‹ã‹Docker on EC2ã«ãªã‚‹ã‹EC2ã«ãªã‚‹ã‹ã¯ã¾ã æ±ºã‚ã‹ã­ã¦ã„ã¾ã™ãŒã€å¹´åº¦æœ«ã«æ§ãˆãŸRIè³¼å…¥ã‚¤ãƒ™ãƒ³ãƒˆã¾ã§ã«æ±ºç€ã™ã‚‹ã‚ˆã†é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™...ï¼</p>\n\n<p><a href=\"https://qiita.com/advent-calendar/2019/handslab\">ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2019</a> æ˜æ—¥ã¯ã€<a href=\"https://twitter.com/yuka_jyotei\" rel=\"nofollow noopener\" target=\"_blank\">yuka_jyotei</a>ã•ã‚“ã§ã™ï¼</p>\n",
      "body": "ã“ã¡ã‚‰ã¯ã€[ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2019](https://qiita.com/advent-calendar/2019/handslab) 4æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼\n\n# ã¯ã˜ã‚ã«\n\næœ€è¿‘ã†ã¾ã„ã‚‚ã®é£Ÿã¹ã™ãã§å¤ªã£ã¦ããŸ[yktakaha4](https://twitter.com/yktakaha4)ã§ã™...ğŸ–\n\n[Amazon Linuxã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆçµ‚äº†ã¾ã§ã‚ã¨åŠå¹´](https://aws.amazon.com/jp/amazon-linux-2/faqs/#Support_for_Amazon_Linux_2_LTS_Candidates_and_Amazon_Linux_AMI)ã¨ãªã‚Šã¾ã—ãŸãŒã€ã¿ãªã•ã¾å¯¾å¿œã¯é€²ã‚“ã§ã„ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nç§ã®æ‰€å±ã™ã‚‹CRMãƒãƒ¼ãƒ ã§ã¯ã€ä¸»ã«ãƒãƒƒãƒã‚µãƒ¼ãƒã¨ã—ã¦ã®ç”¨é€”ã§Amazon Linuxã®EC2ãŒã„ãã¤ã‹ç¨¼åƒã—ã¦ã„ã¾ã™\nä»¥å‰ã‹ã‚‰[ãƒãƒƒãƒå‡¦ç†ã®PythonåŒ–&ECSã‚¿ã‚¹ã‚¯åŒ–](https://www.hands-lab.com/tech/entry/4674.html)ã‚‚é€²ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’ç½®ãæ›ãˆã‚‹ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ä¸¦è¡Œã—ã¦AL2ã®EC2ã¸ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ç§»è¡Œã«ç€æ‰‹ã—ã¦ã„ã¾ã™\n\nå¼Šç¤¾ã¯[ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸é–‹ç™ºæ‰‹æ³•](https://ja.wikipedia.org/wiki/%E3%83%A6%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B8%E9%96%8B%E7%99%BA%E6%89%8B%E6%B3%95)ã¨ã„ã†ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚’ãŠã“ãªã†æ‰‹æ³•ã‚’åºƒãæ¡ç”¨ã—ã¦ã„ãŸçµŒç·¯ãŒã‚ã‚Šã€\nCRMãƒãƒ¼ãƒ ã§ã‚‚ã€ç‰¹ã«ãƒãƒƒãƒé ˜åŸŸã«ã¤ã„ã¦ã¯bashã§æ›¸ã‹ã‚ŒãŸæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ãŒã¾ã ã¾ã æ®‹ã£ã¦ã„ã¾ã™\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒã«ã¯ã€`self`ã‚„`join1`ã¨ã„ã£ãŸç‹¬è‡ªã‚³ãƒãƒ³ãƒ‰ãŒã„ã‚ã„ã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã®ã«åŠ ãˆã€\n`nkf`ã‚’ã¯ã˜ã‚ã¨ã—ãŸæ¨™æº–ã§å…¥ã£ã¦ãªã„ã‚³ãƒãƒ³ãƒ‰ã‚‚é©å®œè¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€ç§»è¡Œã®éšœå£ã¨ãªã‚Šãã†ã§ã™...\n\næ§‹ç¯‰å½“åˆï¼ˆä½•å¹´ã‚‚å‰ã®ã“ã¨ã§ã™...ï¼‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¼ã£ãŸã‚Šã€`yum`ã‹ã‚‰è¿½ã†ã®ã‚‚ã‚ˆã„ã§ã™ãŒã€\nå®Ÿéš›ã«ä½¿ã‚ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯å¤§æŠµé™ã‚‰ã‚Œã¦ãŠã‚Šã€ã¾ãŸç§»è¡Œã®éç¨‹ã§ä½¿ã‚ãªããªã£ãŸã‚‚ã®ã‚‚ã‚ã‚‹ã¯ãšãªã®ã§ã€\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&å‹•ä½œæ¤œè¨¼å¯¾è±¡ã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã‚‚ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã§åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆã¨ã§ãã‚Œã°ä»¶æ•°ï¼‰ãŒåˆ†ã‹ã‚‹ã¨è‰¯ã•ãã†ã§ã™\n\n# çµè«–\n\nãªã‚“ã‹ã§ãã¾ã—ãŸğŸ‘¹\n\n```terminal:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆMacã®å ´åˆï¼‰\n$ find . -name \"*.bash\" | xargs ggrep -oP '(^|(?<=;)|(?<=do )|(?<=then )|(?<=`)|(?<=&&)|(?<=\\|\\|)|(?<=\\|)|(?<=\\$\\())(\\s*\\w+=\\w+\\s)?\\s*\\w+(?=$|[^=])' | awk -F: '{print $NF}' | awk '{print $NF}' | sort | uniq -c | sort -nrk1 | head -5\n 500 error_exit <- â€»ã“ã„ã¤ã¯functionã€‚å¼•ã£ã‹ã‹ã£ã¦ã—ã¾ã†ãŒã—ã‚ƒãƒ¼ãªã—\n 400 source\n 300 cat\n 200 basename\n 100 plus <- â€»ã“ã„ã¤ã¯ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚³ãƒãƒ³ãƒ‰\n```\n\nä¸Šè¿°ã®é€šã‚Šã€functionãªã©ã‚‚æ‹¾ã£ã¦ã—ã¾ã†ãŸã‚ç›®æ¤œã¯å¿…è¦ã§ã™ãŒã€\nä»Šå›ã ã¨ `1 lha` [ï¼ˆã“ã„ã¤ï¼‰](http://www.k-tanaka.net/unix/lha.php)ã¿ãŸã„ãªçµæœã‚‚å¾—ã‚‰ã‚ŒãŸã®ã§ãã‚Œãªã‚Šã«æº€è¶³ã§ã™\n\nç›®ã§è¦‹ã‚‹ã®ãŒé¢å€’ãªæ–¹ã¯ã€ç§»è¡Œå…ƒã®Amazon Linuxã§ã‚³ãƒãƒ³ãƒ‰ï¼ˆã£ã½ã„æ–‡å­—åˆ—ãŸã¡ï¼‰ã‚’`whereis`ã«ã‹ã‘ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†\næ›´ã«ãã®çµæœã‹ã‚‰æŠ½å‡ºã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ç§»è¡Œå…ˆã®Amazon Linux2ã§`whereis`ã—ã¦ã€å‡ºã¦ã“ãªã‹ã£ãŸã‚‚ã®ãŒè¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«...ã¨ã„ã†è€ƒãˆæ–¹ã§ã‚‚ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“\n\n```terminal:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ cat commands.txt | head -5\n000\nawk\nbasename\ncat\ncd\n\n$ whereis $(cat commands.txt) | head -5\n/usr/bin/awk\n/usr/bin/basename\n/bin/cat\n/usr/bin/cd\n/bin/cp\n```\n\n# è§£èª¬\n\nãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã ã¨è¦‹ã¥ã‚‰ã„ã®ã§ã€æ”¹è¡Œ&ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã¤ã‘ã¦ã¿ã¾ã—ãŸ\n\n```bash:æ•´ç†ã™ã‚‹\n# ç¾åœ¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®bashãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŠ½å‡º\nfind . -name \"*.bash\" |\n# ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«ã€æ­£è¦è¡¨ç¾ã«ã¦ã‚³ãƒãƒ³ãƒ‰ã£ã½ã„æ–‡å­—åˆ—ã‚’æŠ½å‡ºï¼ˆå¾Œè¿°ï¼‰\nxargs ggrep -oP '(^|(?<=;)|(?<=do )|(?<=then )|(?<=`)|(?<=&&)|(?<=\\|\\|)|(?<=\\|)|(?<=\\$\\())(\\s*\\w+=\\w+\\s)?\\s*\\w+(?=$|\\W)' |\n# ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹:ã‚³ãƒãƒ³ãƒ‰ã£ã½ã„æ–‡å­—åˆ— ã®å½¢å¼ã§å‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒ­ãƒ³åŒºåˆ‡ã‚Šã§æœ€çµ‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡º\nawk -F: '{print $NF}' |\n# ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§æœ€çµ‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡ºï¼ˆç†ç”±ã¯å¾Œè¿°ï¼‰\nawk '{print $NF}' |\n# ã‚«ã‚¦ãƒ³ãƒˆã®ãŸã‚ã«ä¸¦ã³æ›¿ãˆ\nsort |\n# ä»¶æ•°ã‚«ã‚¦ãƒ³ãƒˆ\nuniq -c |\n# ä»¶æ•°é †ã«ä¸¦ã³æ›¿ãˆ\nsort -nrk1 |\n# ä¸Šä½5ä»¶ã‚’è¡¨ç¤º\nhead -5\n```\n\né€”ä¸­ã€`ggrep`ã¨ã„ã†é¦´æŸ“ã¿ã®ãªã„ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ã¯Macç’°å¢ƒã§ä¸Šè¨˜ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«å¿…è¦ã«ãªã‚‹ã‚‚ã®ã§ã™\nä»Šå›grepã‚³ãƒãƒ³ãƒ‰ã®æ­£è¦è¡¨ç¾ã«ã¦[è‚¯å®šå…ˆèª­ã¿ã¨è‚¯å®šå¾Œèª­ã¿](https://qiita.com/tohta/items/2ba7ecde5636b38ef1f6)ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ã“ã¡ã‚‰ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãª`-P`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ[PCRE](https://ja.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions)æº–æ‹ ã®æ­£è¦è¡¨ç¾ã‚’ä½¿ç”¨ï¼‰ãŒã€Macã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ã‚‹BSDç‰ˆã®grepã‚³ãƒãƒ³ãƒ‰ã ã¨ä½¿ãˆãªã„ãŸã‚ã€è¿½åŠ ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™\nAmazon Linuxä¸Šã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã€å˜ç´”ã«`grep`ã«å¤‰æ›´ã™ã‚Œã°å‹•ä½œã™ã‚‹ã¯ãšã§ã™\n\n```terminal:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n$ brew install grep\n\n# BSD grepã¯ã ã‚ã€€Macã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã“ã¡ã‚‰ãŒå…¥ã£ã¦ã„ã‚‹\n$ grep -V | head -1\ngrep (BSD grep) 2.5.1-FreeBSD\n\n# GNU grepãªã‚‰ğŸ™†â€â™€ï¸\n$ ggrep -V | head -1\nggrep (GNU grep) 3.3\n```\n\næœ¬è¨˜äº‹ã®ã‚­ãƒ¢ã¨ãªã‚‹æ­£è¦è¡¨ç¾ã®éƒ¨åˆ†ã§ã™ãŒã€[Debuggex](https://www.debuggex.com/r/mrXJEWqDGZJ0HTBW\n)ã¨ã„ã†ã‚µã‚¤ãƒˆã§å¯è¦–åŒ–ã—ã¦ã¿ã¾ã—ãŸ\n\n![regex.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/d2dab909-1427-4932-92f8-c0a5b3d46c39.png)\n\nä»•æ§˜ã¨ã—ã¦ã¯ã€å¤§ä½“ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚‹ã¯ãšã§ã™\n[ã“ã¡ã‚‰](https://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html)ãªã©ã‚‚å‚ç…§ã—ã¤ã¤ã€æ€ã„ã¤ãé™ã‚Šã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ—æŒ™ã—ãŸã¤ã‚‚ã‚Šã§ã™ãŒã€æŠœã‘ã‚„ãƒã‚°ãŒã‚ã‚‹ã‹ã‚‚...\nãŸã ã€ä¸»ã ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ½å‡ºã§ãã‚Œã°ååˆ†ãªã®ã§ã€ã¨ã‚Šã‚ãˆãšç´å¾—ã—ã¦ä½¿ã£ã¦ã„ã¾ã™\n\n|æ¤œå‡º|å†…å®¹|ä¾‹|å‚™è€ƒ|\n|---|---|---|---|\n|â—¯|æ™®é€šã®ã‚„ã¤| cat example.txt |\n|â—¯|1è¡Œã«è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰| cat example.txt; echo $? |\n|â—¯|ãƒ‘ã‚¤ãƒ—ã—ã¦è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰| cat example.txt &#124; grep -c \"hoge\" |\n|â—¯|åˆ¶å¾¡æ§‹æ–‡| for f in *; do echo $f; done <br> if [ -f example.txt ]; then echo \"found!\"; fi |\n|â—¯|åˆ¶å¾¡æ¼”ç®—å­| [ -f example.txt ] && echo \"found!\" <br> [ -f example.txt ] &#124;&#124; echo \"not found...\" |\n|â—¯|ã‚³ãƒãƒ³ãƒ‰ç½®æ›| echo \"æ™‚åˆ»ã¯ \\`date` ã§ã™\" <br>echo \"æ™‚åˆ»ã¯ $(date) ã§ã™\"|\n|â—¯|å¤‰æ•°å®šç¾©&ã‚³ãƒãƒ³ãƒ‰| LANG=C sort -u |ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã§é »å‡ºã€‚æ„å‘³ã¯[ã“ã¡ã‚‰](https://qiita.com/bass_ikeda/items/e62f8514330baa35d843)|\n|Ã—|ã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•°ã«ã‚³ãƒãƒ³ãƒ‰|timeout 10 ping<br>eval 'echo \"hello\"'|`timeout` `eval`ã—ã‹æ¤œå‡ºã§ããªã„|\n|Ã—|å¤‰æ•°å±•é–‹ã•ã‚ŒãŸçµæœã‚³ãƒãƒ³ãƒ‰|cmd=\"whoami\"; $cmd|ğŸ¤—|\n\nãªãŠã€ä¸Šè¨˜ã¨ã¯åˆ¥ã«`ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„è¤‡æ•°è¡Œä¸­ã®æ–‡å­—åˆ—`ã‚„`function`ã€`alias`ãªã©ã«ã¤ã„ã¦ã‚‚èª¤æ¤œå‡ºã•ã‚Œã¾ã™\n\n# ãŠã‚ã‚Šã«\n\nç¾åœ¨ã¯ã€ã‚³ãƒãƒ³ãƒ‰èª¿æŸ»ã®çµæœã‚’å…ƒã«ä½œæˆã—ãŸAL2ã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ä¸Šã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ã‚„ãƒ¦ãƒ¼ã‚¶ãªã©ã®è¨­å®šã®ã†ã¡å¿…é ˆãã†ãªã‚‚ã®ã‚’æ´—ã„å‡ºã—ã¦ã„ã¾ã™\nECSã«ãªã‚‹ã‹Docker on EC2ã«ãªã‚‹ã‹EC2ã«ãªã‚‹ã‹ã¯ã¾ã æ±ºã‚ã‹ã­ã¦ã„ã¾ã™ãŒã€å¹´åº¦æœ«ã«æ§ãˆãŸRIè³¼å…¥ã‚¤ãƒ™ãƒ³ãƒˆã¾ã§ã«æ±ºç€ã™ã‚‹ã‚ˆã†é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™...ï¼\n\n[ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2019](https://qiita.com/advent-calendar/2019/handslab) æ˜æ—¥ã¯ã€[yuka_jyotei](https://twitter.com/yuka_jyotei)ã•ã‚“ã§ã™ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-11-17T02:02:46+09:00",
      "group": null,
      "id": "a11c7bc6245c37a6d428",
      "likes_count": 14,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 1,
      "tags": [
        {
          "name": "ShellScript",
          "versions": []
        },
        {
          "name": "æ­£è¦è¡¨ç¾",
          "versions": []
        },
        {
          "name": "ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼",
          "versions": []
        }
      ],
      "title": "ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆã£ã½ã„ã‚‚ã®ï¼‰ã‚’æŠœãå‡ºã™ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼",
      "updated_at": "2019-12-25T14:08:25+09:00",
      "url": "https://qiita.com/yktakaha4/items/a11c7bc6245c37a6d428",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ãŠè©¦ã—ã§ä½œã£ãŸã‚‚ã®ã®å‚™å¿˜ãƒ¡ãƒ¢</p>\n\n<ul>\n<li>ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¾ã™\n\n<ul>\n<li>ECS\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¹ã‚¿</li>\n<li>ã‚¿ã‚¹ã‚¯å®šç¾©\n\n<ul>\n<li>Fargateã‚¿ã‚¤ãƒ—</li>\n<li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã¯awsvpc</li>\n</ul>\n</li>\n<li>ã‚¿ã‚¹ã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆCloudWatch Eventsï¼‰\n\n<ul>\n<li>æ¯æ—¥12æ™‚ã«å‹•ã</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ECR\n\n<ul>\n<li>ç›´è¿‘2ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã¿ä¿æŒ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ä»¥ä¸‹ãŒå‰æã«ãªã‚Šã¾ã™\n\n<ul>\n<li>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ãŒä½œæˆæ¸ˆ</li>\n<li>\n<a href=\"https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/task_execution_IAM_role.html\" rel=\"nofollow noopener\" target=\"_blank\">ecsTaskExecutionRole</a>ãŒä½œæˆæ¸ˆ</li>\n<li>SSMã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚¹ãƒˆã‚¢ã«ã¦<code>your_secrets_value</code>ã¨ã„ã†åå‰ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒä½œæˆæ¸ˆ\n\n<ul>\n<li>å¿…è¦ãªã‘ã‚Œã°<code>Secrets</code>ã‚’æ¶ˆã›ã°OK</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>æœ¬æ—¥æ™‚ç‚¹ã§ã€<a href=\"https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html\" rel=\"nofollow noopener\" target=\"_blank\">AWS::Events::Rule EcsParametersã®æ—¥æœ¬èªè¨˜äº‹</a>ã‚’èª­ã‚€ã¨<code>NetworkConfiguration</code>ãªã©ã®æŒ‡å®šãŒã§ããªã„ã‚ˆã†ã«æ€ãˆã¾ã™ãŒã€<a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html\" rel=\"nofollow noopener\" target=\"_blank\">è‹±èªç‰ˆ</a>ã«ã¯æ™®é€šã«æ›¸ã„ã¦ã‚ã‚‹...ã¨ã„ã†ã“ã¨ã‚’ä¼ãˆãŸãã¦æ›¸ãã¾ã—ãŸ\n\n<ul>\n<li>ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯é€ã‚Šæ¸ˆã¿ãªã®ã§ãã®ã†ã¡ç›´ã‚‹ã‹ã‚‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">sample.yml</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">AWSTemplateFormatVersion</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">2010-09-09\"</span>\n\n<span class=\"na\">Parameters</span><span class=\"pi\">:</span>\n  <span class=\"na\">ResourceName</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">String</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">Resource Name</span>\n  <span class=\"na\">RepositoryName</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">String</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">Repository Name</span>\n  <span class=\"na\">ImageTagName</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">String</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">Image Tag Name</span>\n  <span class=\"na\">TaskDefinitionCpu</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">Number</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">TaskDefinition Cpu</span>\n  <span class=\"na\">TaskDefinitionMemory</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">Number</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">TaskDefinition Memory</span>\n  <span class=\"na\">TaskExecutionSecurityGroups</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">List&lt;AWS::EC2::SecurityGroup::Id&gt;</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">Service SecurityGroups</span>\n  <span class=\"na\">TaskExecutionSubnets</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">List&lt;AWS::EC2::Subnet::Id&gt;</span>\n    <span class=\"na\">Description</span><span class=\"pi\">:</span> <span class=\"s\">Service Subnets</span>\n\n<span class=\"na\">Resources</span><span class=\"pi\">:</span>\n  <span class=\"na\">Cluster</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">AWS::ECS::Cluster</span>\n    <span class=\"na\">Properties</span><span class=\"pi\">:</span>\n      <span class=\"na\">ClusterName</span><span class=\"pi\">:</span>\n        <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">ResourceName</span>\n\n  <span class=\"na\">Repository</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">AWS::ECR::Repository</span>\n    <span class=\"na\">Properties</span><span class=\"pi\">:</span>\n      <span class=\"na\">RepositoryName</span><span class=\"pi\">:</span>\n        <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">RepositoryName</span>\n      <span class=\"na\">LifecyclePolicy</span><span class=\"pi\">:</span>\n        <span class=\"c1\"># https://dev.classmethod.jp/cloud/aws/cfn-for-ecr-lifecyclepolicy/</span>\n        <span class=\"na\">LifecyclePolicyText</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n          <span class=\"s\">{</span>\n            <span class=\"s\">\"rules\" : [</span>\n              <span class=\"s\">{</span>\n                <span class=\"s\">\"rulePriority\" : 1,</span>\n                <span class=\"s\">\"description\" : \"Delete more than 2 images\",</span>\n                <span class=\"s\">\"selection\" : {\"countType\" : \"imageCountMoreThan\", \"countNumber\" : 2, \"tagStatus\" : \"any\"},</span>\n                <span class=\"s\">\"action\" : {\"type\" : \"expire\"}</span>\n              <span class=\"s\">}</span>\n            <span class=\"s\">]</span>\n          <span class=\"s\">}</span>\n\n  <span class=\"na\">TaskDefinition</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">AWS::ECS::TaskDefinition</span>\n    <span class=\"na\">Properties</span><span class=\"pi\">:</span>\n      <span class=\"na\">Family</span><span class=\"pi\">:</span>\n        <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">ResourceName</span>\n      <span class=\"na\">Cpu</span><span class=\"pi\">:</span>\n        <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">TaskDefinitionCpu</span>\n      <span class=\"na\">Memory</span><span class=\"pi\">:</span>\n        <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">TaskDefinitionMemory</span>\n      <span class=\"na\">NetworkMode</span><span class=\"pi\">:</span> <span class=\"s\">awsvpc</span>\n      <span class=\"na\">ExecutionRoleArn</span><span class=\"pi\">:</span>\n        <span class=\"s\">Fn::Sub: arn:aws:iam::${AWS::AccountId}:role/ecsTaskExecutionRole</span>\n      <span class=\"na\">RequiresCompatibilities</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"s\">FARGATE</span>\n      <span class=\"na\">ContainerDefinitions</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">Name</span><span class=\"pi\">:</span>\n            <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">ResourceName</span>\n          <span class=\"na\">Image</span><span class=\"pi\">:</span>\n            <span class=\"s\">Fn::Sub: ${AWS::AccountId}.dkr.ecr.${AWS::Region}.amazonaws.com/${RepositoryName}:${ImageTagName}</span>\n          <span class=\"na\">Secrets</span><span class=\"pi\">:</span>\n            <span class=\"c1\"># https://dev.classmethod.jp/cloud/aws/ecs-secrets/</span>\n            <span class=\"pi\">-</span> <span class=\"na\">Name</span><span class=\"pi\">:</span> <span class=\"s\">YOUR_SECRETS_VALUE</span>\n              <span class=\"na\">ValueFrom</span><span class=\"pi\">:</span> <span class=\"s\">your_secrets_value</span>\n          <span class=\"na\">LogConfiguration</span><span class=\"pi\">:</span>\n            <span class=\"na\">LogDriver</span><span class=\"pi\">:</span> <span class=\"s\">awslogs</span>\n            <span class=\"na\">Options</span><span class=\"pi\">:</span>\n              <span class=\"s2\">\"</span><span class=\"s\">awslogs-region\"</span><span class=\"pi\">:</span>\n                <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">AWS::Region</span>\n              <span class=\"s2\">\"</span><span class=\"s\">awslogs-stream-prefix\"</span><span class=\"pi\">:</span> <span class=\"s\">ecs</span>\n              <span class=\"s2\">\"</span><span class=\"s\">awslogs-group\"</span><span class=\"pi\">:</span>\n                <span class=\"s\">Fn::Sub: /aws/ecs/${ResourceName}</span>\n\n  <span class=\"na\">TaskSchedule</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">AWS::Events::Rule</span>\n    <span class=\"na\">Properties</span><span class=\"pi\">:</span>\n      <span class=\"na\">Name</span><span class=\"pi\">:</span> <span class=\"s\">sample_task</span>\n      <span class=\"na\">State</span><span class=\"pi\">:</span> <span class=\"s\">ENABLED</span>\n      <span class=\"na\">ScheduleExpression</span><span class=\"pi\">:</span> <span class=\"s\">cron(0 3 * * ? *)</span>\n      <span class=\"na\">Targets</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"na\">Id</span><span class=\"pi\">:</span> <span class=\"s\">sample_task</span>\n          <span class=\"na\">Arn</span><span class=\"pi\">:</span>\n            <span class=\"s\">Fn::GetAtt: [Cluster, Arn]</span>\n          <span class=\"na\">RoleArn</span><span class=\"pi\">:</span>\n            <span class=\"s\">Fn::Sub: arn:aws:iam::${AWS::AccountId}:role/ecsEventsRole</span>\n          <span class=\"na\">EcsParameters</span><span class=\"pi\">:</span>\n            <span class=\"c1\"># https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html</span>\n            <span class=\"na\">TaskDefinitionArn</span><span class=\"pi\">:</span>\n              <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">TaskDefinition</span>\n            <span class=\"na\">LaunchType</span><span class=\"pi\">:</span> <span class=\"s\">FARGATE</span>\n            <span class=\"na\">PlatformVersion</span><span class=\"pi\">:</span> <span class=\"s\">LATEST</span>\n            <span class=\"na\">NetworkConfiguration</span><span class=\"pi\">:</span>\n              <span class=\"na\">AwsVpcConfiguration</span><span class=\"pi\">:</span>\n                <span class=\"na\">AssignPublicIp</span><span class=\"pi\">:</span> <span class=\"s\">DISABLED</span>\n                <span class=\"na\">Subnets</span><span class=\"pi\">:</span>\n                  <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">TaskExecutionSubnets</span>\n                <span class=\"na\">SecurityGroups</span><span class=\"pi\">:</span>\n                  <span class=\"na\">Ref</span><span class=\"pi\">:</span> <span class=\"s\">TaskExecutionSecurityGroups</span>\n          <span class=\"na\">Input</span><span class=\"pi\">:</span>\n            <span class=\"c1\"># ã‚³ãƒãƒ³ãƒ‰ã¯ä»»æ„ã«è¨­å®šã—ã¦ãã ã•ã„ï¼</span>\n            <span class=\"s\">Fn::Sub: |</span>\n              <span class=\"s\">{</span>\n                <span class=\"s\">\"containerOverrides\"</span> <span class=\"pi\">:</span> <span class=\"pi\">[</span>\n                  <span class=\"pi\">{</span>\n                    <span class=\"s2\">\"</span><span class=\"s\">name\"</span> <span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">${ResourceName}\"</span><span class=\"pi\">,</span>\n                    <span class=\"s2\">\"</span><span class=\"s\">command\"</span> <span class=\"pi\">:</span> <span class=\"pi\">[</span><span class=\"s2\">\"</span><span class=\"s\">python3\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">-m\"</span><span class=\"pi\">,</span> <span class=\"s2\">\"</span><span class=\"s\">sample_task\"</span><span class=\"pi\">]</span>\n                  <span class=\"pi\">}</span>\n                <span class=\"pi\">]</span>\n              <span class=\"err\">}</span>\n\n  <span class=\"na\">LogGroup</span><span class=\"pi\">:</span>\n    <span class=\"na\">Type</span><span class=\"pi\">:</span> <span class=\"s\">AWS::Logs::LogGroup</span>\n    <span class=\"na\">Properties</span><span class=\"pi\">:</span>\n      <span class=\"na\">LogGroupName</span><span class=\"pi\">:</span>\n        <span class=\"s\">Fn::Sub: /aws/ecs/${ResourceName}</span>\n      <span class=\"na\">RetentionInDays</span><span class=\"pi\">:</span> <span class=\"m\">30</span>\n</code></pre></div>\n</div>\n\n<p>ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¦</p>\n\n<div class=\"code-frame\" data-lang=\"ini\">\n<div class=\"code-lang\"><span class=\"bold\">parameters.ini</span></div>\n<div class=\"highlight\"><pre><code><span class=\"py\">ResourceName</span><span class=\"p\">=</span><span class=\"s\">sample-resource</span>\n<span class=\"py\">RepositoryName</span><span class=\"p\">=</span><span class=\"s\">sample-repository</span>\n<span class=\"py\">ImageTagName</span><span class=\"p\">=</span><span class=\"s\">smpl</span>\n<span class=\"py\">TaskDefinitionCpu</span><span class=\"p\">=</span><span class=\"s\">256</span>\n<span class=\"py\">TaskDefinitionMemory</span><span class=\"p\">=</span><span class=\"s\">512</span>\n<span class=\"py\">TaskExecutionSecurityGroups</span><span class=\"p\">=</span><span class=\"s\">sg-xxxx</span>\n<span class=\"py\">TaskExecutionSubnets</span><span class=\"p\">=</span><span class=\"s\">subnet-yyyy,subnet-zzzz</span>\n</code></pre></div>\n</div>\n\n<p>ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§å®Ÿè¡Œã™ã‚‹ã¨æ¥½</p>\n\n<div class=\"code-frame\" data-lang=\"shell\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\"># ä½œæˆ</span>\n<span class=\"nv\">$ </span>aws cloudformation deploy <span class=\"se\">\\</span>\n  <span class=\"nt\">--stack-name</span> sample-stack <span class=\"se\">\\</span>\n  <span class=\"nt\">--template-file</span> sample.yml <span class=\"se\">\\</span>\n  <span class=\"nt\">--no-fail-on-empty-changeset</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--parameter-overrides</span> <span class=\"si\">$(</span><span class=\"nb\">cat </span>parameters.ini | <span class=\"nb\">tr</span> <span class=\"s1\">'\\n'</span> <span class=\"s1\">' '</span><span class=\"si\">)</span>\n\n<span class=\"c\"># ã‚ªãƒã‚±</span>\n<span class=\"c\"># Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ECRã«pushï¼ˆ99999999ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDï¼‰</span>\n<span class=\"nv\">$ </span><span class=\"si\">$(</span>aws ecr get-login <span class=\"nt\">--no-include-email</span><span class=\"si\">)</span>\n<span class=\"nv\">$ </span>docker build <span class=\"nt\">-t</span> 99999999.dkr.ecr.ap-northeast-1.amazonaws.com/sample-repository:smpl <span class=\"nb\">.</span>\n<span class=\"nv\">$ </span>docker push 99999999.dkr.ecr.ap-northeast-1.amazonaws.com/sample-repository:smpl\n</code></pre></div>\n</div>\n\n<p>çµæ§‹é¢å€’ã§ã—ãŸãŒã€å®Ÿéš›ã«å®šç¾©ã‹ã‚‰ç’°å¢ƒãŒã§ãã‚‹ã¨æ¥½ã—ã„ã§ã™ã­ï¼</p>\n",
      "body": "ãŠè©¦ã—ã§ä½œã£ãŸã‚‚ã®ã®å‚™å¿˜ãƒ¡ãƒ¢\n\n- ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¾ã™\n    - ECS\n        - ã‚¯ãƒ©ã‚¹ã‚¿\n        - ã‚¿ã‚¹ã‚¯å®šç¾©\n            - Fargateã‚¿ã‚¤ãƒ—\n            - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã¯awsvpc\n        - ã‚¿ã‚¹ã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆCloudWatch Eventsï¼‰\n            - æ¯æ—¥12æ™‚ã«å‹•ã\n    - ECR\n        - ç›´è¿‘2ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã¿ä¿æŒ\n- ä»¥ä¸‹ãŒå‰æã«ãªã‚Šã¾ã™\n    - ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ãŒä½œæˆæ¸ˆ\n    - [ecsTaskExecutionRole](https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/task_execution_IAM_role.html)ãŒä½œæˆæ¸ˆ\n    - SSMã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚¹ãƒˆã‚¢ã«ã¦`your_secrets_value`ã¨ã„ã†åå‰ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒä½œæˆæ¸ˆ\n        - å¿…è¦ãªã‘ã‚Œã°`Secrets`ã‚’æ¶ˆã›ã°OK\n- æœ¬æ—¥æ™‚ç‚¹ã§ã€[AWS::Events::Rule EcsParametersã®æ—¥æœ¬èªè¨˜äº‹](https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html)ã‚’èª­ã‚€ã¨`NetworkConfiguration`ãªã©ã®æŒ‡å®šãŒã§ããªã„ã‚ˆã†ã«æ€ãˆã¾ã™ãŒã€[è‹±èªç‰ˆ](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html)ã«ã¯æ™®é€šã«æ›¸ã„ã¦ã‚ã‚‹...ã¨ã„ã†ã“ã¨ã‚’ä¼ãˆãŸãã¦æ›¸ãã¾ã—ãŸ\n  - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯é€ã‚Šæ¸ˆã¿ãªã®ã§ãã®ã†ã¡ç›´ã‚‹ã‹ã‚‚\n\n```yaml:sample.yml\nAWSTemplateFormatVersion: \"2010-09-09\"\n\nParameters:\n  ResourceName:\n    Type: String\n    Description: Resource Name\n  RepositoryName:\n    Type: String\n    Description: Repository Name\n  ImageTagName:\n    Type: String\n    Description: Image Tag Name\n  TaskDefinitionCpu:\n    Type: Number\n    Description: TaskDefinition Cpu\n  TaskDefinitionMemory:\n    Type: Number\n    Description: TaskDefinition Memory\n  TaskExecutionSecurityGroups:\n    Type: List<AWS::EC2::SecurityGroup::Id>\n    Description: Service SecurityGroups\n  TaskExecutionSubnets:\n    Type: List<AWS::EC2::Subnet::Id>\n    Description: Service Subnets\n\nResources:\n  Cluster:\n    Type: AWS::ECS::Cluster\n    Properties:\n      ClusterName:\n        Ref: ResourceName\n\n  Repository:\n    Type: AWS::ECR::Repository\n    Properties:\n      RepositoryName:\n        Ref: RepositoryName\n      LifecyclePolicy:\n        # https://dev.classmethod.jp/cloud/aws/cfn-for-ecr-lifecyclepolicy/\n        LifecyclePolicyText: |\n          {\n            \"rules\" : [\n              {\n                \"rulePriority\" : 1,\n                \"description\" : \"Delete more than 2 images\",\n                \"selection\" : {\"countType\" : \"imageCountMoreThan\", \"countNumber\" : 2, \"tagStatus\" : \"any\"},\n                \"action\" : {\"type\" : \"expire\"}\n              }\n            ]\n          }\n\n  TaskDefinition:\n    Type: AWS::ECS::TaskDefinition\n    Properties:\n      Family:\n        Ref: ResourceName\n      Cpu:\n        Ref: TaskDefinitionCpu\n      Memory:\n        Ref: TaskDefinitionMemory\n      NetworkMode: awsvpc\n      ExecutionRoleArn:\n        Fn::Sub: arn:aws:iam::${AWS::AccountId}:role/ecsTaskExecutionRole\n      RequiresCompatibilities:\n        - FARGATE\n      ContainerDefinitions:\n        - Name:\n            Ref: ResourceName\n          Image:\n            Fn::Sub: ${AWS::AccountId}.dkr.ecr.${AWS::Region}.amazonaws.com/${RepositoryName}:${ImageTagName}\n          Secrets:\n            # https://dev.classmethod.jp/cloud/aws/ecs-secrets/\n            - Name: YOUR_SECRETS_VALUE\n              ValueFrom: your_secrets_value\n          LogConfiguration:\n            LogDriver: awslogs\n            Options:\n              \"awslogs-region\":\n                Ref: AWS::Region\n              \"awslogs-stream-prefix\": ecs\n              \"awslogs-group\":\n                Fn::Sub: /aws/ecs/${ResourceName}\n\n  TaskSchedule:\n    Type: AWS::Events::Rule\n    Properties:\n      Name: sample_task\n      State: ENABLED\n      ScheduleExpression: cron(0 3 * * ? *)\n      Targets:\n        - Id: sample_task\n          Arn:\n            Fn::GetAtt: [Cluster, Arn]\n          RoleArn:\n            Fn::Sub: arn:aws:iam::${AWS::AccountId}:role/ecsEventsRole\n          EcsParameters:\n            # https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html\n            TaskDefinitionArn:\n              Ref: TaskDefinition\n            LaunchType: FARGATE\n            PlatformVersion: LATEST\n            NetworkConfiguration:\n              AwsVpcConfiguration:\n                AssignPublicIp: DISABLED\n                Subnets:\n                  Ref: TaskExecutionSubnets\n                SecurityGroups:\n                  Ref: TaskExecutionSecurityGroups\n          Input:\n            # ã‚³ãƒãƒ³ãƒ‰ã¯ä»»æ„ã«è¨­å®šã—ã¦ãã ã•ã„ï¼\n            Fn::Sub: |\n              {\n                \"containerOverrides\" : [\n                  {\n                    \"name\" : \"${ResourceName}\",\n                    \"command\" : [\"python3\", \"-m\", \"sample_task\"]\n                  }\n                ]\n              }\n\n  LogGroup:\n    Type: AWS::Logs::LogGroup\n    Properties:\n      LogGroupName:\n        Fn::Sub: /aws/ecs/${ResourceName}\n      RetentionInDays: 30\n```\n\nä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®šç¾©ã—ã¦\n\n```ini:parameters.ini\nResourceName=sample-resource\nRepositoryName=sample-repository\nImageTagName=smpl\nTaskDefinitionCpu=256\nTaskDefinitionMemory=512\nTaskExecutionSecurityGroups=sg-xxxx\nTaskExecutionSubnets=subnet-yyyy,subnet-zzzz\n```\n\nä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§å®Ÿè¡Œã™ã‚‹ã¨æ¥½\n\n```shell:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ä½œæˆ\n$ aws cloudformation deploy \\\n  --stack-name sample-stack \\\n  --template-file sample.yml \\\n  --no-fail-on-empty-changeset \\\n  --parameter-overrides $(cat parameters.ini | tr '\\n' ' ')\n\n# ã‚ªãƒã‚±\n# Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ECRã«pushï¼ˆ99999999ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDï¼‰\n$ $(aws ecr get-login --no-include-email)\n$ docker build -t 99999999.dkr.ecr.ap-northeast-1.amazonaws.com/sample-repository:smpl .\n$ docker push 99999999.dkr.ecr.ap-northeast-1.amazonaws.com/sample-repository:smpl\n```\n\nçµæ§‹é¢å€’ã§ã—ãŸãŒã€å®Ÿéš›ã«å®šç¾©ã‹ã‚‰ç’°å¢ƒãŒã§ãã‚‹ã¨æ¥½ã—ã„ã§ã™ã­ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-10-11T16:06:59+09:00",
      "group": null,
      "id": "f5a32d5f2e7a6263faa4",
      "likes_count": 6,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 3,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "CloudFormation",
          "versions": []
        },
        {
          "name": "ECS",
          "versions": []
        }
      ],
      "title": "ECS(Fargate)ã®ãƒãƒƒãƒã‚’CloudFormationã§ä½œæˆã™ã‚‹",
      "updated_at": "2019-10-15T11:21:17+09:00",
      "url": "https://qiita.com/yktakaha4/items/f5a32d5f2e7a6263faa4",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>é–‹ç™ºã«ã‚ãŸã‚Šã€ã‚¤ãƒ³ãƒ•ãƒ©ã¯Terraformã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯Serverless Frameworkã§ä½œã‚ŠãŸã‹ã£ãŸã®ã§ã€<br>\nãã‚Œãã‚Œã‚’ã©ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã¨ã„ã„æ„Ÿã˜ã«å‚ç…§ã§ãã‚‹ã‹æ¤œè¨ã—ãŸã®ã§å‚™å¿˜ãƒ¡ãƒ¢âœï¸</p>\n\n<h1>\n<span id=\"è€ƒãˆæ–¹\" class=\"fragment\"></span><a href=\"#%E8%80%83%E3%81%88%E6%96%B9\"><i class=\"fa fa-link\"></i></a>è€ƒãˆæ–¹</h1>\n\n<ul>\n<li>CloudFront -&gt; API Gateway -&gt; Lambdaã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’ã—ãŸã„\n\n<ul>\n<li>\n<code>/api</code> é…ä¸‹ã«æ¥ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’API Gatewayã¸æµã™</li>\n</ul>\n</li>\n<li>CloudFront -&gt; S3ã§é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã—ãŸã„\n\n<ul>\n<li>ä¸Šè¨˜ã«ãƒãƒƒãƒã—ãªã‹ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’S3ã¸æµã™</li>\n</ul>\n</li>\n<li>ã‚¤ãƒ³ãƒ•ãƒ©ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯åˆ¥ã€…ã«ç®¡ç†ã—ãŸã„\n\n<ul>\n<li>CloudFrontlã€S3ã¯ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰</li>\n<li>API Gatewayã¨Lambdaã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆServerless Frameworkï¼‰</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>æ–¹æ³•</h1>\n\n<p>Serverless Frameworkã¯ã€ <code>sls deploy</code> ã™ã‚‹ã¨è£ã§CloudFormationã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ã®ã§ã€<br>\nTerraformã‹ã‚‰<a href=\"https://www.terraform.io/docs/providers/aws/d/cloudformation_stack.html\" rel=\"nofollow noopener\" target=\"_blank\">aws_cloudformation_stack</a>ã¨ã—ã¦å‚ç…§ã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">serverless.ymlï¼ˆæŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">service</span><span class=\"pi\">:</span>\n  <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">example-backend</span>\n\n<span class=\"na\">provider</span><span class=\"pi\">:</span>\n  <span class=\"na\">name</span><span class=\"pi\">:</span> <span class=\"s\">aws</span>\n  <span class=\"na\">runtime</span><span class=\"pi\">:</span> <span class=\"s\">nodejs10.x</span>\n  <span class=\"na\">stage</span><span class=\"pi\">:</span> <span class=\"s\">${opt:stage, self:custom.defaultStage}</span>\n  <span class=\"na\">region</span><span class=\"pi\">:</span> <span class=\"s\">ap-northeast-1</span>\n  <span class=\"c1\"># ãƒªãƒ¼ã‚¸ãƒ§ãƒŠãƒ«ã®API Gatewayã‚’ä½œæˆ</span>\n  <span class=\"na\">endpointType</span><span class=\"pi\">:</span> <span class=\"s\">REGIONAL</span>\n\n  <span class=\"c1\"># Lambdaã§ä½¿ã†Roleã¯ã“ã¡ã‚‰ã§ä½œã‚‹ã€‚Actionã‚„Resourceã¯é©å®œè¨­å®š</span>\n  <span class=\"na\">iamRoleStatements</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"na\">Effect</span><span class=\"pi\">:</span> <span class=\"s\">Allow</span>\n      <span class=\"na\">Action</span><span class=\"pi\">:</span>\n        <span class=\"pi\">-</span> <span class=\"s\">secretsmanager:GetSecretValue</span>\n      <span class=\"na\">Resource</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">*\"</span>\n\n<span class=\"na\">functions</span><span class=\"pi\">:</span>\n  <span class=\"na\">example</span><span class=\"pi\">:</span>\n    <span class=\"na\">handler</span><span class=\"pi\">:</span> <span class=\"s\">src/example.lambdaHandler</span>\n    <span class=\"c1\"># ã“ã‚Œã ã‘ã§Lambda Proxyçµ±åˆã®API GatewayãŒã§ãã‚‹</span>\n    <span class=\"na\">events</span><span class=\"pi\">:</span>\n      <span class=\"pi\">-</span> <span class=\"na\">http</span><span class=\"pi\">:</span> <span class=\"s\">POST api/example</span>\n\n<span class=\"na\">custom</span><span class=\"pi\">:</span>\n  <span class=\"na\">defaultStage</span><span class=\"pi\">:</span> <span class=\"s\">prod</span>\n</code></pre></div>\n</div>\n\n<p><code>ServiceEndpoint</code> ã¨ã„ã†ã‚­ãƒ¼ã®å€¤ãŒä½¿ãˆãã†</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f323c50fc627b8d5c5d675dfb82917b13a010e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f63373938386433312d623863392d346430372d613261612d3966363466643462633166642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc7988d31-b8c9-4d07-a2aa-9f64fd4bc1fd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2b9c5b1da4045a84ccf0049108190b5e\" alt=\"ã‚¹ã‚¿ãƒƒã‚¯\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c7988d31-b8c9-4d07-a2aa-9f64fd4bc1fd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc7988d31-b8c9-4d07-a2aa-9f64fd4bc1fd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7df478d6f78c2ab4c65618f18722686f 1x\" loading=\"lazy\"></a></p>\n\n<p>Terraformã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ï¼ˆã»ã¼çœç•¥ã§ã™ãŒ...ï¼‰<br>\nå®Ÿéš›ã¯ã‚¹ã‚¿ãƒƒã‚¯åã¯varã§æ³¨å…¥ã™ã‚‹ãªã©ã—ã¦ãã ã•ã„</p>\n\n<div class=\"code-frame\" data-lang=\"hcl\">\n<div class=\"code-lang\"><span class=\"bold\">terraform.tfï¼ˆæŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">data</span> <span class=\"s2\">\"aws_cloudformation_stack\"</span> <span class=\"s2\">\"backend\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\"># ã“ã‚Œã§CloudFormationã®å‡ºåŠ›ãŒå‚ç…§ã§ãã‚‹</span>\n  <span class=\"nx\">name</span> <span class=\"p\">=</span> <span class=\"s2\">\"example-backend-prod\"</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">resource</span> <span class=\"s2\">\"aws_cloudfront_distribution\"</span> <span class=\"s2\">\"infra\"</span> <span class=\"p\">{</span>\n\n  <span class=\"c1\"># çœç•¥</span>\n\n  <span class=\"c1\"># API Gatewayã®ã‚ªãƒªã‚¸ãƒ³ã‚’ä½œã‚‹</span>\n  <span class=\"nx\">origin</span> <span class=\"p\">{</span>\n    <span class=\"c1\"># ServiceEndpointã‹ã‚‰ xxx.execute-api.ap-northeast-1.amazonaws.com ã¨ prod ã‚’æŠœãå‡ºã™</span>\n    <span class=\"nx\">domain_name</span> <span class=\"p\">=</span> <span class=\"s2\">\"${split(\"</span><span class=\"err\">/</span><span class=\"s2\">\", data.aws_cloudformation_stack.backend.outputs[\"</span><span class=\"nx\">ServiceEndpoint</span><span class=\"s2\">\"])[2]}\"</span>\n    <span class=\"nx\">origin_path</span> <span class=\"p\">=</span> <span class=\"s2\">\"/${split(\"</span><span class=\"err\">/</span><span class=\"s2\">\", data.aws_cloudformation_stack.backend.outputs[\"</span><span class=\"nx\">ServiceEndpoint</span><span class=\"s2\">\"])[3]}\"</span>\n\n    <span class=\"c1\"># çœç•¥</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\"># S3ã®ã‚ªãƒªã‚¸ãƒ³ã‚’ä½œã‚‹</span>\n  <span class=\"nx\">origin</span> <span class=\"p\">{</span>\n    <span class=\"c1\"># çœç•¥</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\"># API Gatewayã®å®šç¾© </span>\n  <span class=\"nx\">ordered_cache_behavior</span> <span class=\"p\">{</span>\n    <span class=\"c1\"># Serverless Frameworkã§æŒ‡å®šã—ãŸã®ã¨åˆã‚ã›ã‚‹</span>\n    <span class=\"nx\">path_pattern</span>     <span class=\"p\">=</span> <span class=\"s2\">\"/api/*\"</span>\n\n    <span class=\"c1\"># çœç•¥</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\"># ã“ã£ã¡ã§S3ã‚’å®šç¾©ã€‚/api/*ã«ãƒãƒƒãƒã—ãªã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‰±ã†</span>\n  <span class=\"nx\">default_cache_behavior</span> <span class=\"p\">{</span>\n    <span class=\"c1\"># çœç•¥</span>\n  <span class=\"p\">}</span>\n\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n",
      "body": "# ã¯ã˜ã‚ã«\né–‹ç™ºã«ã‚ãŸã‚Šã€ã‚¤ãƒ³ãƒ•ãƒ©ã¯Terraformã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯Serverless Frameworkã§ä½œã‚ŠãŸã‹ã£ãŸã®ã§ã€\nãã‚Œãã‚Œã‚’ã©ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã¨ã„ã„æ„Ÿã˜ã«å‚ç…§ã§ãã‚‹ã‹æ¤œè¨ã—ãŸã®ã§å‚™å¿˜ãƒ¡ãƒ¢âœï¸\n\n# è€ƒãˆæ–¹\n- CloudFront -> API Gateway -> Lambdaã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’ã—ãŸã„\n    - `/api` é…ä¸‹ã«æ¥ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’API Gatewayã¸æµã™\n- CloudFront -> S3ã§é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ä¿¡ã—ãŸã„\n    - ä¸Šè¨˜ã«ãƒãƒƒãƒã—ãªã‹ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’S3ã¸æµã™\n- ã‚¤ãƒ³ãƒ•ãƒ©ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯åˆ¥ã€…ã«ç®¡ç†ã—ãŸã„\n    - CloudFrontlã€S3ã¯ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆTerraformï¼‰\n    - API Gatewayã¨Lambdaã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆServerless Frameworkï¼‰\n\n# æ–¹æ³•\nServerless Frameworkã¯ã€ `sls deploy` ã™ã‚‹ã¨è£ã§CloudFormationã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹ã®ã§ã€\nTerraformã‹ã‚‰[aws_cloudformation_stack](https://www.terraform.io/docs/providers/aws/d/cloudformation_stack.html)ã¨ã—ã¦å‚ç…§ã—ã¾ã™\n\n```yaml:serverless.ymlï¼ˆæŠœç²‹ï¼‰\nservice:\n  name: example-backend\n\nprovider:\n  name: aws\n  runtime: nodejs10.x\n  stage: ${opt:stage, self:custom.defaultStage}\n  region: ap-northeast-1\n  # ãƒªãƒ¼ã‚¸ãƒ§ãƒŠãƒ«ã®API Gatewayã‚’ä½œæˆ\n  endpointType: REGIONAL\n\n  # Lambdaã§ä½¿ã†Roleã¯ã“ã¡ã‚‰ã§ä½œã‚‹ã€‚Actionã‚„Resourceã¯é©å®œè¨­å®š\n  iamRoleStatements:\n    - Effect: Allow\n      Action:\n        - secretsmanager:GetSecretValue\n      Resource: \"*\"\n\nfunctions:\n  example:\n    handler: src/example.lambdaHandler\n    # ã“ã‚Œã ã‘ã§Lambda Proxyçµ±åˆã®API GatewayãŒã§ãã‚‹\n    events:\n      - http: POST api/example\n\ncustom:\n  defaultStage: prod\n```\n\n`ServiceEndpoint` ã¨ã„ã†ã‚­ãƒ¼ã®å€¤ãŒä½¿ãˆãã†\n\n![ã‚¹ã‚¿ãƒƒã‚¯](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c7988d31-b8c9-4d07-a2aa-9f64fd4bc1fd.png)\n\nTerraformã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ï¼ˆã»ã¼çœç•¥ã§ã™ãŒ...ï¼‰\nå®Ÿéš›ã¯ã‚¹ã‚¿ãƒƒã‚¯åã¯varã§æ³¨å…¥ã™ã‚‹ãªã©ã—ã¦ãã ã•ã„\n\n```hcl:terraform.tfï¼ˆæŠœç²‹ï¼‰\ndata \"aws_cloudformation_stack\" \"backend\" {\n  # ã“ã‚Œã§CloudFormationã®å‡ºåŠ›ãŒå‚ç…§ã§ãã‚‹\n  name = \"example-backend-prod\"\n}\n\nresource \"aws_cloudfront_distribution\" \"infra\" {\n\n  # çœç•¥\n\n  # API Gatewayã®ã‚ªãƒªã‚¸ãƒ³ã‚’ä½œã‚‹\n  origin {\n    # ServiceEndpointã‹ã‚‰ xxx.execute-api.ap-northeast-1.amazonaws.com ã¨ prod ã‚’æŠœãå‡ºã™\n    domain_name = \"${split(\"/\", data.aws_cloudformation_stack.backend.outputs[\"ServiceEndpoint\"])[2]}\"\n    origin_path = \"/${split(\"/\", data.aws_cloudformation_stack.backend.outputs[\"ServiceEndpoint\"])[3]}\"\n\n    # çœç•¥\n  }\n\n  # S3ã®ã‚ªãƒªã‚¸ãƒ³ã‚’ä½œã‚‹\n  origin {\n    # çœç•¥\n  }\n\n  # API Gatewayã®å®šç¾© \n  ordered_cache_behavior {\n    # Serverless Frameworkã§æŒ‡å®šã—ãŸã®ã¨åˆã‚ã›ã‚‹\n    path_pattern     = \"/api/*\"\n\n    # çœç•¥\n  }\n\n  # ã“ã£ã¡ã§S3ã‚’å®šç¾©ã€‚/api/*ã«ãƒãƒƒãƒã—ãªã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‰±ã†\n  default_cache_behavior {\n    # çœç•¥\n  }\n\n}\n```\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-08-06T01:04:05+09:00",
      "group": null,
      "id": "a6fb117085f1fa546ed9",
      "likes_count": 13,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 12,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "Terraform",
          "versions": []
        },
        {
          "name": "ServerlessFramework",
          "versions": []
        }
      ],
      "title": "Terraformã‹ã‚‰Serverless Frameworkã§ä½œã£ãŸAPIã‚’å‚ç…§ã™ã‚‹",
      "updated_at": "2019-08-06T01:04:05+09:00",
      "url": "https://qiita.com/yktakaha4/items/a6fb117085f1fa546ed9",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>ç‹¬ç«‹èµ·æ¥­ã—ã¦ã„ã‚‹çŸ¥äººï¼ˆå»ºç¯‰ç³»ãªã®ã§ã€ä»¥ä¸‹ğŸ‘·â€â™‚ï¸ï¼‰ã‹ã‚‰ã€è‡ªç¤¾ã§ç›´æ¥ä»•äº‹ã®ä¾é ¼ã‚’å—ã‘ã‚‹ãŸã‚ã®ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚’ä½œã‚ŠãŸã„...ğŸ”¥ã¨ã„ã†ç›¸è«‡ã‚’å—ã‘ã¾ã—ãŸ</p>\n\n<p><a href=\"https://uxmilk.jp/65654\" rel=\"nofollow noopener\" target=\"_blank\">MVP</a>ã®è€ƒãˆæ–¹ã‹ã‚‰ã„ã‘ã°ã€<a href=\"https://portfolio-ai.com/instapage_introduce\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã†ã„ã†ã®</a>ã‚’ä½¿ã£ãŸã‚Šã€ä½œã‚‹ã«ã—ã¦ã‚‚herokuãªã©ã‚’ä½¿ã£ãŸã‚Šã§ã‚‚ã‚ˆã‹ã£ãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€<br>\næ¥­å‹™ã§è§¦ã‚Œã¦ã„ãªã‹ã£ãŸRoute53ã‚„Cloudfrontãªã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã‚‹æ ¼å¥½ã®ãƒãƒ£ãƒ³ã‚¹ã«æ€ãˆãŸã®ã§ã€AWSã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ–°è¦ã§ä½œã£ã¦1ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸ</p>\n\n<p>ã‚‚ã£ã¨ã‚‚è‡ªåˆ†ã§ä½œã‚‹ã¨è¨€ã£ã¦ã‚‚ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰æ‰‹ã§ãƒãƒãƒãƒã‚„ã£ã¦å¾Œã€…ã«ğŸ¤—ã£ã¦ãªã‚‹ã®ã¯å«Œã ã£ãŸã®ã§ã€<br>\nä»¥å‰å‹§ã‚ã¦ã‚‚ã‚‰ã£ã¦æ°—ã«ãªã£ã¦ã„ãŸ<a href=\"https://qiita.com/Chanmoro/items/55bf0da3aaf37dc26f73\" id=\"reference-25b5f92dd9f138795cf0\">Terraform</a>ã‚’å‹‰å¼·ã—ã¦ã€LPå…¬é–‹+ã¡ã‚‡ã£ã¨ã—ãŸå‡¦ç†ã‚’ã™ã‚‹ãŸã‚ã®API...ã¨ã„ã†ä¸€å¼ã‚’ä½œæˆã—ã‚ˆã†ã¨æ±ºã‚ã¾ã—ãŸ<br>\nï¼ˆè·å ´ã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ã‚ã¾ã‚Š<a href=\"https://qiita.com/KeijiYONEDA/items/e9ed0daf0906adec810e\" id=\"reference-c5744b895b9a9b8854a5\">IaC</a>ã‚’æ„è­˜ã—ãŸã‚‚ã®ã«ãªã£ã¦ã„ãªã„ã®ã§ã€æ¥­å‹™ã«é‚„å…ƒã§ããªã„ã‹ãª...ã¨ã„ã†æ€ã„ã‚‚å°‘ã—ã‚ã‚Šã¾ã™ğŸ¤”ï¼‰</p>\n\n<p><strong>ã•ã•ã£ã¨</strong>ã¨ã‹è™«ã®ã„ã„ã“ã¨ã‚’è¨€ã£ã¦ã„ã¾ã™ğŸãŒã€<br>\nä½œã£ã¦ã‚‹æœ€ä¸­ã¯å·±ã®DNSã‚„httpsãªã©ã«å¯¾ã™ã‚‹åŸºç¤çŸ¥è­˜ã®è¶³ã‚Šãªã•ã‹ã‚‰ã€ã‚‚ã†ã ã„ã¶è‹¦ã—ã¿ã¾ã—ãŸâš°<br>\nã®ã§ã€ãã“ã‚‰è¾ºã®å‚™å¿˜éŒ²ã‚‚å…¼ã­ã¦ã€ç´¹ä»‹ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™</p>\n\n<p><em>æ³¨æ„ï¼šç†ç”±ã¯å¾Œè¿°ã—ã¾ã™ãŒã€ç’°å¢ƒæ§‹ç¯‰ã«ã¯çŠ¶æ³ã«ã‚ˆã‚Šæ•°æ—¥ã‹ã‹ã‚Šã¾ã™...ã¡ã£ã¨ã‚‚ã•ã•ã£ã¨ã˜ã‚ƒãªã„ï¼</em></p>\n\n<h1>\n<span id=\"ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%82%E3%81%AE%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹</h1>\n\n<p>ğŸ‘·â€â™‚ï¸ã¨å¯¾é¢ã‚„Googleãƒãƒ³ã‚°ã‚¢ã‚¦ãƒˆã§ä¼šè­°ã‚’é‡ã­ã¦ã€å¤§ä½“ä»¥ä¸‹ã®ã‚ˆã†ãªè©±ãŒå‡ºã¦ãã¾ã—ãŸ</p>\n\n<ul>\n<li>LPåˆ¶ä½œã¯å¤–æ³¨ã—ã‚ˆã†ã­\n\n<ul>\n<li>ğŸ‘·â€â™‚ï¸ãŒLPã®ãƒ†ã‚­ã‚¹ãƒˆã‚„æ§‹æˆã‚’è€ƒãˆã‚‹ã“ã¨ã«æ„æ¬²çš„ã§ã€å‰²ã¨ã¡ã‚ƒã‚“ã¨ã—ãŸä»•æ§˜ã‚’ä½œã£ã¦ãã‚Œã¦å¤§ã„ã«åŠ©ã‹ã‚‹</li>\n<li>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¾ã§ã‚„ã£ã¦é ‚ã‘ã‚‹ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã®æ–¹ã«<a href=\"https://www.lancers.jp/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ©ãƒ³ã‚µãƒ¼ã‚º</a>ã«ã¦ä¾é ¼</li>\n</ul>\n</li>\n<li>ã‚¤ãƒ³ãƒ•ãƒ©ã¨å•ã„åˆã‚ã›ã‚’å—ã‘ã‚‹ä»•çµ„ã¿ã‚’ã¼ããŒä½œã‚‹ã­\n\n<ul>\n<li>å•ã„åˆã‚ã›ã®å†…å®¹ã¯ã€ğŸ‘·â€â™‚ï¸ã¨ã®ä¼šè©±ç”¨ã«ä½œã£ãŸSlackã§å—ã‘ã¨ã‚‹ã“ã¨ã«</li>\n<li>å‰¯æ¬¡çš„ã«å‡ºã¦ããŸè¦ä»¶\n\n<ul>\n<li>APIãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã¯å«Œã ã‚ˆã­</li>\n<li>å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚ã‚‹ã—httpså¿…é ˆã ã­</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ã‚‚ã¡ã‚ã‚“ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³å–ã‚ŠãŸã„ã‚ˆã­\n\n<ul>\n<li>Route 53ã§è¦‹ã¦ã¿ãŸã‚‰.jpãƒ‰ãƒ¡ã‚¤ãƒ³ãŒå—ã‘å…¥ã‚Œé›£ã„é‡‘é¡ğŸ’¸ã ã£ãŸãŸã‚ã€ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã¯<a href=\"https://www.onamae.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãŠåå‰.com</a>ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã¯Route 53ã‚’åˆ©ç”¨</li>\n<li>å½“åˆã“ã“ã‚‰è¾ºã®æ¦‚å¿µã‚’å…¨ãåˆ†ã‹ã£ã¦ãªãã¦æ™‚é–“ãŒæº¶ã‘ã¾ã—ãŸã€‚<a href=\"https://www.onamae.com/clever/about/regist.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚„<a href=\"https://www.atmarkit.co.jp/ait/articles/0112/27/news001.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®è¨˜äº‹ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™</li>\n</ul>\n</li>\n<li>SSLè¨¼æ˜æ›¸ã®æ›´æ–°ã¯è‡ªå‹•åŒ–ã—ãŸã„ã‚ˆã­\n\n<ul>\n<li>å€‹äººçš„ã«ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãªè©±ã ã£ãŸãŸã‚</li>\n<li>ã“ã“ã‚‚ä½•ã‚‚åˆ†ã‹ã£ã¦ãªã„ã“ã¨ã«æ°—ã¥ã<a href=\"https://milestone-of-se.nesuke.com/sv-advanced/digicert/digital-certification-summary/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãªã©èª­ã¿ã¾ã—ãŸ</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹</h1>\n\n<p>ã¨ã„ã†ã“ã¨ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚’æ§‹ç¯‰ğŸ—ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸï¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/4c852863f0d22910ccae64c1cf0facbba6c7f86d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f64313061666636632d383435342d346161612d303233632d6234313533366637623438382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fd10aff6c-8454-4aaa-023c-b41536f7b488.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f66a86757ad2b980b73d7b8eaad510d5\" alt=\"æ§‹æˆå›³\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/d10aff6c-8454-4aaa-023c-b41536f7b488.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fd10aff6c-8454-4aaa-023c-b41536f7b488.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=046a01cc1d8352fa7bfc762deb27fbc1 1x\" loading=\"lazy\"></a></p>\n\n<p>ç°¡å˜ã«ã§ã™ãŒä¸€é€šã‚Šèª¬æ˜ã—ã¾ã™<br>\næœ¬ç•ªé‹ç”¨ã™ã‚‹ã‚‚ã®ã¯LPã‚„å•ã„åˆã‚ã›æ©Ÿèƒ½ã¯ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã¯åˆ¥ã§ç®¡ç†ã—ãŸã„ã§ã™ãŒã€æœ¬è¨˜äº‹ã§ã¯ç°¡ä¾¿ã®ãŸã‚å…¨éƒ¨ã¾ã¨ã‚ã¦Terraformã§ä½œæˆã—ã¾ã™</p>\n\n<table>\n<thead>\n<tr>\n<th>åç§°</th>\n<th>å½¹å‰²</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ãŠåå‰.com</td>\n<td>ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—ãƒ»ç®¡ç†ã€‚Terraformç®¡ç†å¤–</td>\n</tr>\n<tr>\n<td>Route 53</td>\n<td>ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒ(Hosted Zone)ã„ã£ã“ä½œã‚‹</td>\n</tr>\n<tr>\n<td>Certificate Manager(â­ï¸)</td>\n<td>SSLè¨¼æ˜æ›¸ã®ç”Ÿæˆãƒ»ç®¡ç†ã€‚æ›´æ–°è‡ªå‹•åŒ–ã®ãŸã‚<a href=\"https://docs.aws.amazon.com/ja_jp/acm/latest/userguide/gs-acm-validate-dns.html\" rel=\"nofollow noopener\" target=\"_blank\">DNSæ¤œè¨¼</a>ã‚’åˆ©ç”¨</td>\n</tr>\n<tr>\n<td>Secrets Manager(ğŸ”)</td>\n<td>\n<a href=\"https://api.slack.com/\" rel=\"nofollow noopener\" target=\"_blank\">Slack API</a>ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç®¡ç†</td>\n</tr>\n<tr>\n<td>CloudFront</td>\n<td>LPã‚’å…¬é–‹ã€‚ç‰¹å®šã®ãƒ‘ã‚¹é…ä¸‹ã‚’APIã¸å›ã™ã€‚<a href=\"https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/georestrictions.html\" rel=\"nofollow noopener\" target=\"_blank\">åœ°åŸŸåˆ¶é™</a>ã‚’ä½¿ã£ã¦æ—¥æœ¬(ã¨ç±³å›½)ã«çµã‚‹</td>\n</tr>\n<tr>\n<td>API Gateway</td>\n<td>å•ã„åˆã‚ã›APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€‚<a href=\"https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/create-regional-api.html\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒ¼ã‚¸ãƒ§ãƒ³API</a>ã¨ã—ã¦æ§‹ç¯‰</td>\n</tr>\n<tr>\n<td>S3</td>\n<td>LPã®ç½®ãå ´æ‰€ã¨ã€<a href=\"https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html\" rel=\"nofollow noopener\" target=\"_blank\">CloudFrontã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°</a>ä¿ç®¡å…ˆ</td>\n</tr>\n<tr>\n<td>Lambda</td>\n<td>å•ã„åˆã‚ã›ã‚’Slackã«æŠ•ç¨¿</td>\n</tr>\n<tr>\n<td>Slack</td>\n<td>ãƒãƒ£ãƒ³ãƒãƒ«ã«å•ã„åˆã‚ã›ãŒä¸ŠãŒã£ã¦ãã‚‹ã€‚Terraformç®¡ç†å¤–</td>\n</tr>\n</tbody>\n</table>\n\n<p>æ›¸ã„ã¦ã¦æ°—ã¥ã„ãŸã‚“ã§ã™ãŒã€ã“ã‚Œãã®ã¾ã¾SPAã®å…¬é–‹ãªã‚“ã‹ã«ã‚‚å¿œç”¨ã§ããã†ãªæ§‹æˆã§ã™ã­ğŸ˜</p>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p><a href=\"https://github.com/yktakaha4/lp-infra-by-terraform\" rel=\"nofollow noopener\" target=\"_blank\">GitHub</a>ã‚’è¦‹ã¦ãã ã•ã„<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"><br>\nã ã‘ã ã¨ã‚ã‚“ã¾ã‚Šãªã®ã§ã€ é †ã‚’è¿½ã£ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™</p>\n\n<h2>\n<span id=\"æº–å‚™\" class=\"fragment\"></span><a href=\"#%E6%BA%96%E5%82%99\"><i class=\"fa fa-link\"></i></a>æº–å‚™</h2>\n\n<p>Terraformã®å‰ã«ã„ãã¤ã‹å¿…è¦ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™<br>\nå…·ä½“çš„ãªä½œã‚Šæ–¹ã¯è¨˜äº‹ã®æœ¬æ—¨ã‹ã‚‰å¤–ã‚Œã‚‹ãŸã‚ã€å„è‡ªãŠã‚°ã‚°ã‚Šãã ã•ã„ğŸ™„</p>\n\n<h3>\n<span id=\"ãŠåå‰comã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E5%90%8D%E5%89%8Dcom%E3%81%A7%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E5%8F%96%E5%BE%97\"><i class=\"fa fa-link\"></i></a>ãŠåå‰.comã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—</h3>\n\n<p>ä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã§ã‚‚ã„ã„ã‚‚ã®ã¨æ€ã„ã¾ã™<br>\nRoute 53ã‚’ä½¿ã†å ´åˆã¯ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã¸ã®ç™»éŒ²å«ã‚è‡ªå‹•åŒ–ã§ãã‚‹ã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ<br>\nï¼ˆ.jpãŒé«˜ã„ã‹ã‚‰ã¨ã‹è¨€ã£ã¦ãŸå‰²ã«.comãªã®ã¯ã‚µãƒ³ãƒ—ãƒ«ã ã‹ã‚‰ã§ã™ï¼‰</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ee91a597bc7e4e8c29dc95c2a4bc01f9968c1a52/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f36633332313963662d616566642d313230392d336338372d6437356135366333326466372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F6c3219cf-aefd-1209-3c87-d75a56c32df7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d1c8c7c6ca7b6257aebe0bdb3d661e97\" alt=\"ãƒ‰ãƒ¡ã‚¤ãƒ³å\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/6c3219cf-aefd-1209-3c87-d75a56c32df7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F6c3219cf-aefd-1209-3c87-d75a56c32df7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=43641be820a2b4c4c155419adedbc5e5 1x\" loading=\"lazy\"></a></p>\n\n<h3>\n<span id=\"slackã§æŠ•ç¨¿ç”¨botã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#slack%E3%81%A7%E6%8A%95%E7%A8%BF%E7%94%A8bot%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>Slackã§æŠ•ç¨¿ç”¨Botã‚’ä½œæˆ</h3>\n\n<p>Slack APIã¯<a href=\"https://api.slack.com/methods/chat.postMessage\" rel=\"nofollow noopener\" target=\"_blank\">chat.postMessage</a>ã‚’ä½¿ã„ã¾ã™<br>\næ‰€å®šã®æ¨©é™ã‚’ä»˜ä¸ã—ãŸbotã‚’ä½œæˆã—ãŸä¸Šã§ã€OAuth Access Tokenã‚’ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã—ã‚‡ã†</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/1d5ee4813ec72ecd2c3ddaa704fd449a373a7aac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f37623630383736302d666433632d356239372d333036612d6666646232656133396261652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F7b608760-fd3c-5b97-306a-ffdb2ea39bae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0cc52b455a3dda8146ee364c35426f7\" alt=\"Access Token\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/7b608760-fd3c-5b97-306a-ffdb2ea39bae.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F7b608760-fd3c-5b97-306a-ffdb2ea39bae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f48e896d6471bbd23605de9bdb3bab7a 1x\" loading=\"lazy\"></a></p>\n\n<p>ã¾ãŸã€æŠ•ç¨¿å…ˆã®ãƒãƒ£ãƒ³ãƒãƒ«IDã‚‚å¿…è¦ã«ãªã‚Šã¾ã™ã®ã§ã€<code>https://xxxxx.slack.com/messages/CGxxxxxxx</code>ã®<code>CGxxxxxxx</code>ã®éƒ¨åˆ†ã‚‚ç¢ºèªã—ã¦ãŠã„ã¦ãã ã•ã„</p>\n\n<h3>\n<span id=\"awsã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ¦ãƒ¼ã‚¶\" class=\"fragment\"></span><a href=\"#aws%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%81%A8%E3%83%A6%E3%83%BC%E3%82%B6\"><i class=\"fa fa-link\"></i></a>AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ¦ãƒ¼ã‚¶</h3>\n\n<p><code>PowerUserAccess</code>ãŒã¤ã„ãŸãƒ¦ãƒ¼ã‚¶ã®<code>AWS_ACCESS_KEY_ID</code>ãŠã‚ˆã³<code>AWS_SECRET_ACCESS_KEY</code>ãŒå¿…è¦ã§ã™<br>\nã‚ã¨ã€ä½œã£ãŸã ã‘ã§ãŸãã•ã‚“ãŠé‡‘ã®ã‹ã‹ã‚‹ã‚‚ã®ã¯å®šç¾©ã—ã¦ã„ãªã„ã¤ã‚‚ã‚Šã§ã™ãŒã€ä¸‡ãŒä¸€ã«å‚™ãˆã¦è«‹æ±‚ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®è¨­å®šã‚„ã‚¢ãƒ©ãƒ¼ãƒ ã¯è¨­å®šã—ã¦é ‚ã„ã¦ãŠã„ãŸæ–¹ãŒã‚ˆã„ã§ã—ã‚‡ã†<br>\nè«‹æ±‚ã«ã¤ã„ã¦ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ğŸ™</p>\n\n<h2>\n<span id=\"ã„ã–æ§‹ç¯‰\" class=\"fragment\"></span><a href=\"#%E3%81%84%E3%81%96%E6%A7%8B%E7%AF%89\"><i class=\"fa fa-link\"></i></a>ã„ã–æ§‹ç¯‰</h2>\n\n<p>æº–å‚™ãŒã§ããŸã‚‰ã€å®Ÿéš›ã«Terraformã«ã¦ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ï¼</p>\n\n<p>ã®å‰ã«ã€ä»¥ä¸‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„<br>\nå…·ä½“çš„ãªæ–¹æ³•ã€ãŠã‚ˆã³Windowsã®æ–¹ã¯ğŸ™„</p>\n\n<ul>\n<li><a href=\"https://qiita.com/kompiro/items/5fc46089247a56243a62\" id=\"reference-193ce11a3e9dab4534b2\">direnv</a></li>\n<li>\n<a href=\"https://qiita.com/kamatama_41/items/ba59a070d8389aab7694\" id=\"reference-1dd40c6acb2147367859\">tfenv</a>\n\n<ul>\n<li>terraformã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ãŠé¡˜ã„ã—ã¾ã™</li>\n<li>æœ¬ç¨¿ã§ã¯<code>v0.12.3</code>ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>direnv version\n<span class=\"go\">2.20.1\n\n</span><span class=\"gp\">$</span><span class=\"w\"> </span>tfenv <span class=\"nt\">-v</span>\n<span class=\"go\">tfenv 1.0.1\n\n</span><span class=\"gp\">$</span><span class=\"w\"> </span>terraform <span class=\"nt\">-v</span>\n<span class=\"go\">Terraform v0.12.3\n</span></code></pre></div>\n</div>\n\n<p>ãã‚Œã§ã¯ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†<br>\nãªã«ã¯ã¨ã‚‚ã‚ã‚Œã€ã¾ãšã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—ã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>git clone https://github.com/yktakaha4/lp-infra-by-terraform.git\n<span class=\"go\">\n</span><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cd </span>lp-infra-by-terraform\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">ls</span> <span class=\"nt\">-l</span>\n</code></pre></div>\n</div>\n\n<p>æ¬¡ã«ã€å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã„ãã¾ã™<br>\n<code>.sample</code>ã¨ã¤ã„ã¦ã„ã‚‹ã‚„ã¤ãŒã‚µãƒ³ãƒ—ãƒ«ãªã®ã§ã€ã‚³ãƒ”ãƒ¼ã®ä¸Šå€¤ã‚’åŸ‹ã‚ã¦ãã ã•ã„<br>\n<code>AWS_ACCESS_KEY_ID</code>ã€<code>AWS_SECRET_ACCESS_KEY</code>ã€<code>domain_name</code>ã¯æº–å‚™ã®é …ã§ç”¨æ„ã—ãŸå€¤ã€<br>\n<code>resource_prefix</code>ã¯S3ã®ãƒã‚±ãƒƒãƒˆåãªã©å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã«è¨­å®šã•ã‚Œã‚‹ã®ã§ã€äººã¨è¢«ã‚‰ãªã•ãã†ãªã‚‚ã®ã‚’ä»»æ„ã§è¨­å®šã—ã¦ãã ã•ã„</p>\n\n<p>ãªãŠã€<code>terraform.tf.sample</code>ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’S3ã§ç®¡ç†ã™ã‚‹å ´åˆå¿…è¦ã«ãªã‚Šã¾ã™<br>\nãŠè©¦ã—ã§ã‚„ã‚‹ã‚ˆã†ã§ã—ãŸã‚‰ç‰¹ã«ä¸è¦ã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cp</span> <span class=\"nt\">-p</span> terraform.tfvars.sample terraform.tfvars\n<span class=\"gp\">$</span><span class=\"w\"> </span>vim terraform.tfvars\n<span class=\"go\">\n</span><span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cp</span> <span class=\"nt\">-p</span> .envrc.sample .envrc\n<span class=\"gp\">$</span><span class=\"w\"> </span>vim .envrc\n<span class=\"gp\">$</span><span class=\"w\"> </span>direnv allow\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>è¤‡æ•°äººã§å…±æœ‰ã—ã¦é–‹ç™ºã™ã‚‹å ´åˆã®ã¿è¨­å®š\n<span class=\"gp\">$</span><span class=\"w\"> </span><span class=\"nb\">cp</span> <span class=\"nt\">-p</span> terraform.tf.sample terraform.tf\n<span class=\"gp\">$</span><span class=\"w\"> </span>vim terraform.tf\n</code></pre></div>\n</div>\n\n<p>ã“ã“ã¾ã§é™ºã—ã„é“ã®ã‚Šâ›°ã§ã—ãŸãŒã€ã„ã‚ˆã„ã‚ˆ<code>terraform</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™</p>\n\n<p>Terraformã¯ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«ã‚ã‚‹tfãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™<br>\n<code>plan</code>ã§ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ç¢ºèªã€<code>apply</code>ã§é©ç”¨ã§ã™ã€‚ç°¡å˜ã§ã™ã­ï¼</p>\n\n<p>ä»Šå›ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å–å¾—ã‚’ãŠåå‰.comã§è¡Œãªã£ã¦ã„ã¾ã™ã®ã§ã€<br>\nRoute 53ã§ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ä½œæˆã—ãŸå¾Œã«ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãŠåå‰.comã®ç®¡ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™<br>\nã“ã¡ã‚‰ã¯æ‰‹ä½œæ¥­ã§è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã¾ãšãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ã¿ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</p>\n\n<p><code>-target=xxxx</code>ã§ã€ç‰¹å®šã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™<br>\nä»Šå›ã¯ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ä½œæˆã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"hcl\">\n<div class=\"code-lang\"><span class=\"bold\">route53.tf</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">resource</span> <span class=\"s2\">\"aws_route53_zone\"</span> <span class=\"s2\">\"domain_name\"</span> <span class=\"p\">{</span>\n  <span class=\"nx\">name</span> <span class=\"p\">=</span> <span class=\"s2\">\"${var.domain_name}\"</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>ãã‚Œã§ã¯ã€ã„ã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ç’°å¢ƒæ§‹ç¯‰\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform init\n<span class=\"go\">\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ãŠåå‰.comã«ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®æƒ…å ±ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã¾ãšãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ã¿ä½œæˆã™ã‚‹\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform plan <span class=\"nt\">-target</span><span class=\"o\">=</span>aws_route53_zone.domain_name\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform apply <span class=\"nt\">-target</span><span class=\"o\">=</span>aws_route53_zone.domain_name\n<span class=\"go\">\nOutputs:\n\nname_servers = [\n  \"ns-xxxx.awsdns-xx.org\",\n  \"ns-xxxx.awsdns-xx.co.uk\",\n  \"ns-xxxx.awsdns-xx.com\",\n  \"ns-xxxx.awsdns-xx.net\",\n]\n</span></code></pre></div>\n</div>\n\n<p>Outputsã¨ã—ã¦ã€ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ç„¡äº‹æˆåŠŸã§ã™<br>\nAWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰<code>Route 53 -&gt; ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³</code>ã¨è¾¿ã£ã¦ã„ãã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã§ãã¦ã‚‹ã¯ãšã§ã™ã®ã§ã€è¦‹ã¦ã¿ã¦ãã ã•ã„</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/c4581da77a56159c6d4bccf8352ab651ef83813b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30326165376466332d383961362d323964382d323132652d3661303061383035366466322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F02ae7df3-89a6-29d8-212e-6a00a8056df2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=20f66483bcf829e4d05ee2404982f97a\" alt=\"ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/02ae7df3-89a6-29d8-212e-6a00a8056df2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F02ae7df3-89a6-29d8-212e-6a00a8056df2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cfbcaaad668017aa2f6f4bb189199dcf 1x\" loading=\"lazy\"></a></p>\n\n<p>ã„ã„æ„Ÿã˜ã§ã™ã­ï¼</p>\n\n<p>ã“ã“ã§ã€Terraformã‚’ä¸€åº¦é›¢ã‚Œã¦ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã‚’ãŠåå‰.comã¸ç™»éŒ²ã—ã¾ã™<br>\n<a href=\"https://www.onamae.com/guide/p/67\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã«å…·ä½“çš„ãªæ‰‹é †ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã®ã§ã€å‚è€ƒã«ã—ã¤ã¤ã‚„ã£ã¦ã¿ã¦ãã ã•ã„</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/4455556379dbee366293b2e2661a4c38dd4eac98/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f31653238366566612d306636362d383564362d633663362d3130373732613366613663312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F1e286efa-0f66-85d6-c6c6-10772a3fa6c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=17fb50d6b0557897f82fdc5e66e8e47a\" alt=\"ãƒˆã‚™ãƒ¡ã‚¤ãƒ³Navi\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/1e286efa-0f66-85d6-c6c6-10772a3fa6c1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F1e286efa-0f66-85d6-c6c6-10772a3fa6c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c69bd1a86c31cf4764436f94c7fd3c51 1x\" loading=\"lazy\"></a></p>\n\n<p>ã§ãã¾ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>\n\n<p>ãŠåå‰.comã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã®ç™»éŒ²è‡ªä½“ã¯å‰²ã¨ã™ãã«çµ‚ã‚ã‚‹ã®ã§ã™ãŒã€<br>\nè¨­å®šã—ãŸãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãŒæµ¸é€ï¼ˆã¨ã„ã†è¨€ã„æ–¹ã§ã„ã„ã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼‰ã™ã‚‹ã«ã¯ã€<a href=\"https://faq.nttpc.co.jp/faq/show/13352?site_domain=suitex\" rel=\"nofollow noopener\" target=\"_blank\">ç‰¹ã«å†ä½œæˆæ™‚ã¯æœ€å¤§ã§72æ™‚é–“ç¨‹åº¦ã‹ã‹ã‚‹</a>ãã†ã§ã™ğŸ˜•<br>\nãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®å¤‰æ›´ãŒå®Œäº†ã—ã¦ã„ãªã„ã¨ä»¥é™ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã£ã¦ã‚‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã™ã®ã§ã€ã“ã“ã¯ã‚°ãƒƒã¨ã“ã‚‰ãˆã¦æ™‚ãŒçµŒã¤ã®ã‚’å¾…ã¡ã¾ã™...</p>\n\n<p><code>dig</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨ã€ãƒ‰ãƒ¡ã‚¤ãƒ³åã«å¯¾å¿œã™ã‚‹ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€æ™‚é–“ã‚’é–‹ã‘ã¦è¦‹ã¦ã¿ã¦ãã ã•ã„</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®ç¢ºèªç”¨ã‚³ãƒãƒ³ãƒ‰\n<span class=\"gp\">$</span><span class=\"w\"> </span>dig example-domain.com ns\n<span class=\"go\">\n</span><span class=\"gp\">;</span><span class=\"p\">;</span> ANSWER SECTION:\n<span class=\"go\">xxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.net.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.org.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.co.uk.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.com.\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>â†‘ã§è¿”å´ã•ã‚Œã‚‹å†…å®¹ãŒã€ name_servers ã§è¡¨ç¤ºã•ã‚ŒãŸãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã«å•ã„åˆã‚ã›ãŸæ™‚ã¨åŒã˜ã ã£ãŸã‚‰æº–å‚™å®Œäº†\n<span class=\"gp\">$</span><span class=\"w\"> </span>dig example-domain.com @ns-xxxx.awsdns-xx.org ns\n</code></pre></div>\n</div>\n\n<p>ã„ãšã‚Œã«ã›ã‚ˆã™ãã«ã¯çµ‚ã‚ã‚‰ãªã„ã®ã§ã€ã‚‚ã†ã„ãã¤ã‹å…ˆã«æ¸ˆã¾ã›ã¦ãŠã„ãŸæ–¹ãŒã„ã„å†…å®¹ã‚’ã‚„ã£ã¦ãŠãã¾ã™</p>\n\n<p>Slack APIã‹ã‚‰å–å¾—ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒãƒ£ãƒ³ãƒãƒ«IDã‚’Secrets Managerã«ç™»éŒ²ã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>terraform plan <span class=\"nt\">-target</span><span class=\"o\">=</span>aws_secretsmanager_secret_version.slack_api\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform apply <span class=\"nt\">-target</span><span class=\"o\">=</span>aws_secretsmanager_secret_version.slack_api\n</code></pre></div>\n</div>\n\n<p>applyãŒå®Œäº†ã—ãŸã‚‰AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã„ã¦ã€ãã‚Œãã‚Œã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®å€¤ã‚’ç·¨é›†ã—ã¦ãã ã•ã„<br>\næœ¬æ¥ã€Terraformã§ä½œã£ãŸãƒªã‚½ãƒ¼ã‚¹ã«æ‰‹ã§å¤‰æ›´ã‚’åŠ ãˆã‚‹ã¨å·®åˆ†æ¤œçŸ¥ã•ã‚Œã‚‹ã‚ˆã†ãªä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€<br>\nã“ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®å€¤ã«ã¤ã„ã¦ã¯å·®åˆ†æ¤œçŸ¥ã®ç¢ºèªå¯¾è±¡å¤–ã«ã—ã¦ã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/bf0aed245317cd95397da753b3bbb84e73daa1aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f30663765363638372d396237332d316631332d363461332d6664396434643864666263302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0f7e6687-9b73-1f13-64a3-fd9d4d8dfbc0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=007a4854f98fe07fd324d8f0ee34533d\" alt=\"Secrets Manager 2019-07-08 22-47-30(1).png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0f7e6687-9b73-1f13-64a3-fd9d4d8dfbc0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F0f7e6687-9b73-1f13-64a3-fd9d4d8dfbc0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4ddc9f0ee6da4ac6e260d9a0b1f34236 1x\" loading=\"lazy\"></a></p>\n\n<p>ãã†ã“ã†ã—ã¦ã„ã‚‹ã†ã¡ã«DNSã®æµ¸é€ãŒæ¸ˆã‚“ã ã‚‰ã€ã‚ã¨ã¯ä¸€æ°—ã«ä½œæˆã§ãã¾ã™âœŒï¸</p>\n\n<p><code>-target</code>ã®æŒ‡å®šã‚’å¤–ã™ã¨å…¨ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã§ãã‚‹ã®ã§ã€ä¸€æ€ã„ã«ã‚„ã£ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†<br>\nCloudFrontãªã©ä½œæˆã«æ™‚é–“ã®ã‹ã‹ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚‚è‰²ã€…ã‚ã‚‹ã®ã§ã€1æ™‚é–“ã»ã©ã¯è¦‹ã¦ã„ãŸã ã„ãŸæ–¹ãŒã„ã„ã‚ˆã†ã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚¿ãƒ¼ãƒŸãƒŠãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>æ®‹ã‚Šã®ãƒªã‚½ãƒ¼ã‚¹ã‚’é©ç”¨\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform plan\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform apply\n</code></pre></div>\n</div>\n\n<p>...ç„¡äº‹ã«æ­£å¸¸çµ‚äº†ã—ã¾ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>\n\n<p>ã‚‚ã—ã‚‚ã†ã¾ãã„ã£ãŸã‚ˆã†ã§ã‚ã‚Œã°ã€ã—ã°ã—å¾…ã£ãŸã®ã¡ã”è‡ªèº«ã®<code>https://example-domain.com/</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™<br>\n(ãªãŠã€htmlã¯<a href=\"https://demos.creative-tim.com/paper-kit-2/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Paper Kit 2</a>ã‚’åˆ‡ã‚Šè²¼ã‚Šã—ã¦ã§ã£ã¡ä¸Šã’ãŸã‚‚ã®ã§ã™)</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f4b015b127e6ef8616c74c3473fc58990da8332e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f65666362343032302d363337622d623062372d346439632d6431323963623633353438362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fefcb4020-637b-b0b7-4d9c-d129cb635486.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=98584702fd46274f236420cf79b1926b\" alt=\"LP\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/efcb4020-637b-b0b7-4d9c-d129cb635486.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fefcb4020-637b-b0b7-4d9c-d129cb635486.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0a3263ede7bc02191a1d4d90cabe3012 1x\" loading=\"lazy\"></a></p>\n\n<p>ãŠã‚‚ã‚€ã‚ã«ãƒœã‚¿ãƒ³ã‚‚æŠ¼ã—ã¦ã¿ã¾ã—ã‚‡ã†...ï¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/63564e910ef2c01871e8426ebad1aa0c837b0290/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f34396536376638652d383231322d356433642d306131642d6534643532393533663330662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F49e67f8e-8212-5d3d-0a1d-e4d52953f30f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=996bea89bbf0ef27d92a2b982818949f\" alt=\"Slack\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/49e67f8e-8212-5d3d-0a1d-e4d52953f30f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2F49e67f8e-8212-5d3d-0a1d-e4d52953f30f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e6a2fadc850784a1459a77b2894e27ce 1x\" loading=\"lazy\"></a></p>\n\n<p>ã“ã‚Œã«ã¦ã‚¬ãƒ³ã‚¬ãƒ³ä»•äº‹ã‚’å—ã‘ã‚‰ã‚Œã¾ã™ã­ï¼ï¼ï¼ğŸ¾ğŸ‚ğŸ‰</p>\n\n<h2>\n<span id=\"ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹ç¯‰\" class=\"fragment\"></span><a href=\"#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E6%A7%8B%E7%AF%89\"><i class=\"fa fa-link\"></i></a>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(æ§‹ç¯‰)</h2>\n\n<p>ç§ãŒå¼•ã£ã‹ã‹ã£ãŸã‚‚ã®ã‚’æ™’ã—ã¦ãŠãã¾ã™<br>\nä»¥ä¸‹ä»¥å¤–ã®ã‚‚ã®ãŒå‡ºã¦ããŸå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦é ‚ã‘ãŸã‚‰è£œè¨˜ã—ãŸã„ã¨æ€ã„ã¾ã™<br>\nï¼ˆã“ã†ã™ã‚Œã°è§£æ±ºã§ããŸ...ã¨ã„ã†ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ï¼‰</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ãã®1</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>CloudFrontã§ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã€AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ Deployed ã«ãªã‚‹ã¾ã§å¾…ã¤\n<span class=\"go\">Error: error waiting until CloudFront Distribution (xxxxx) is deployed: timeout while waiting for state to become 'Deployed' (last state: 'InProgress', timeout: 1h10m0s)\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>Deployed ã«ãªã£ãŸå¾Œã€ untaintã®å®Ÿè¡Œ\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform untaint aws_cloudfront_distribution.domain_name\n<span class=\"go\">Resource instance aws_cloudfront_distribution.domain_name has been successfully untainted.\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>æ®‹ã‚Šã®ãƒªã‚½ãƒ¼ã‚¹ã‚’é©ç”¨\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform apply\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ãã®2</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ACMã§ç™ºè¡Œã§ãã‚‹è¨¼æ˜æ›¸ã®æ•°ã¯1å¹´é–“ã§ä¸Šé™ãŒã‚ã‚Šã€ä½œæˆãƒ»å‰Šé™¤ã‚’ç¹°ã‚Šè¿”ã™ç­‰ã—ã¦æœ€å¤§å€¤ã‚’è¶Šãˆã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã—ã¾ã†\n<span class=\"go\">Error: Error requesting certificate: LimitExceededException: Error: you have reached your limit of 10 certificates in the last year.\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ã‚µãƒãƒ¼ãƒˆã«æŠ•ã’ã‚‹ã¨ä¸Šé™ç·©å’Œã—ã¦ã‚‚ã‚‰ãˆã‚‹\n<span class=\"gp\">#</span><span class=\"w\"> </span>https://docs.aws.amazon.com/ja_jp/acm/latest/userguide/acm-limits.html#limit-certs-yearly\n</code></pre></div>\n</div>\n\n<h1>\n<span id=\"å‰Šé™¤æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E5%89%8A%E9%99%A4%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>å‰Šé™¤æ–¹æ³•</h1>\n\n<p>ä½œã‚‹ã®ã«å¼•ãæ›ãˆå‰Šé™¤ã¯æ¥½ãƒãƒ³ã§ã™ã€‚<code>terraform destroy</code>ã§å‰Šé™¤ã§ãã¾ã™</p>\n\n<p>ãŸã ã—ä½•ã‚‚æŒ‡å®šã—ãªã„ã¨æœ¬å½“ã«å…¨éƒ¨æ¶ˆãˆã¾ã™ğŸ‘‹<br>\nplanã‚’ã‚ˆãç¢ºèªã—ãŸã‚Šã€<code>target=xxxxx</code>ã§éƒ¨åˆ†çš„ã«æ¶ˆã—ã¦ã„ããªã©ã€æ…é‡ã«ä½œæ¥­ã—ãŸæ–¹ãŒã‚ˆã„ã§ã—ã‚‡ã†</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚³ãƒ³ã‚½ãƒ¼ãƒ«</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">$</span><span class=\"w\"> </span>terraform plan <span class=\"nt\">--destory</span>\n<span class=\"gp\">$</span><span class=\"w\"> </span>terraform destroy\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‰Šé™¤\" class=\"fragment\"></span><a href=\"#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E5%89%8A%E9%99%A4\"><i class=\"fa fa-link\"></i></a>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(å‰Šé™¤)</h2>\n\n<p>ä½œã‚‹ã¨ãã¨åŒæ§˜ã€å¼•ã£ã‹ã‹ã£ãŸã‚‚ã®ã‚’æ›¸ã„ã¦ãŠãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell_session\">\n<div class=\"code-lang\"><span class=\"bold\">ãã®1</span></div>\n<div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>ä»¥ä¸‹ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã€AWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãªã©ã‹ã‚‰å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆã®ä¸­èº«ã‚’ç©ºã«ã™ã‚‹\n<span class=\"go\">Error: error deleting S3 Bucket (xxxxx): BucketNotEmpty: The bucket you tried to delete is not empty\n</span></code></pre></div>\n</div>\n\n<h1>\n<span id=\"æ‰€æ„Ÿ\" class=\"fragment\"></span><a href=\"#%E6%89%80%E6%84%9F\"><i class=\"fa fa-link\"></i></a>æ‰€æ„Ÿ</h1>\n\n<p>ç’°å¢ƒæ§‹ç¯‰ã‚’æ‰‹ä½œæ¥­ã§è¡Œãªã£ã¦ã„ã‚‹ã¨ã€ã„ã¤ã‚‚ã€Œã“ã‚Œã§ç¢ºèªã™ã¹ãé …ç›®ã¯ååˆ†ã ã‚ã†ã‹...ï¼Ÿã€ã¨ã‹ã€Œè¨­å®šå€¤æ­£ã—ãè¨­å®šã§ãã¦ã‚‹ã‹ãª...ï¼Ÿã€ã¨ã‹ã€<br>\nã‚ˆã—ã‚“ã°å‹•ã„ãŸã¨ã—ã¦ã‚‚ã€Œæœ¬å½“ã«ã‚ã‚Œã§ã‚ˆã‹ã£ãŸã‚“ã ã‚ã†ã‹...ğŸ¤¢ã€ã¨ã„ã†æ°—æŒã¡ãŒä»˜ãã¾ã¨ã£ã¦ã„ãŸï¼ˆã—ã‹ã‚‚æ™‚é–“ãŒçµŒã¤ã¨å…¨éƒ¨å¿˜ã‚Œã‚‹ï¼‰ã®ã§ã™ãŒã€<br>\nã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã‚ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¨ã£ã¦ã‚‚ã‚°ãƒƒã¨è·é›¢æ„ŸãŒè¿‘ã¥ã„ãŸã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸ<br>\nç‰¹ã«ã€<strong>ãƒªã‚½ãƒ¼ã‚¹é–“ã®ä¾å­˜é–¢ä¿‚ã‚’ç†è§£ã™ã‚‹</strong>ã¨ã„ã†æ„å‘³ã§ã¯ã€GUIã‚ˆã‚Šã‚‚ã‚³ãƒ¼ãƒ‰ã®æ–¹ãŒå„ªã‚Œã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã—ãŸ</p>\n\n<p>ã¾ãŸã€å€‹äººé–‹ç™ºã ã¨ã€å¯ã‚‹å‰ã®ã¡ã‚‡ã£ã¨ã—ãŸæ™‚é–“ã§é–‹ç™ºã—ãŸã‚Šã€å‰å›ã®ä½œæ¥­ã‹ã‚‰é–“ãŒç©ºã„ã¦ã—ã¾ã£ãŸã‚Š...ã¨ã„ã†ã“ã¨ã‚‚ã‚ˆãã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€<br>\nã©ã“ã¾ã§ä½•ã‚’ä½œã£ãŸã‹ã€tfãƒ•ã‚¡ã‚¤ãƒ«ã‚„tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ã—ã£ã‹ã‚Šæ®‹ã‚‹ã®ã§ã€<strong>å®‰å¿ƒã—ã¦ã‚„ã£ãŸã“ã¨ã‚’å¿˜ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹</strong>ã¨ã„ã†ã®ãŒåœ°å‘³ã«ã‚ã‚ŠãŒãŸã‹ã£ãŸã§ã™ğŸ˜‹</p>\n\n<p>ä»Šå›ã®è¨˜äº‹ã§ã¯ã€ä½œæˆã—ãŸtfãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ã»ã¨ã‚“ã©è§¦ã‚Œã¾ã›ã‚“ã§ã—ãŸãŒã€<br>\nå„ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šå€¤ã¨AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®çŠ¶æ…‹ã‚’æ¯”è¼ƒã—ãŸã‚Šã€å†…å®¹ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã—ã¦ã¿ãŸã‚Šã¨ã€ãœã²å„è‡ªã§è‰²ã€…è©¦ã—ã¦é ‚ãã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼<br>\nï¼ˆã‚ˆããªã„ã¨ã“ã‚ãŒã‚ã£ãŸã‚‰ã€ãƒ—ãƒ«ãƒªã‚¯ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã§æŒ‡æ‘˜é ‚ã‘ã‚Œã°å¹¸ã„ã§ã™ï¼‰</p>\n\n<p>è‡ªåˆ†ãŒæ›¸ã„ãŸtfãƒ•ã‚¡ã‚¤ãƒ«ã§æ¬¡ã€…ã«ã‚¤ãƒ³ãƒ•ãƒ©ãŒçµ„ã¿ä¸ŠãŒã£ã¦ã„ãæ§˜ã‚’è¦‹ã¦ã„ã‚‹ã¨ã€<br>\nãã‚Œã“ã<a href=\"https://ja.wikipedia.org/wiki/%E3%83%86%E3%83%A9%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9F%E3%83%B3%E3%82%B0\" rel=\"nofollow noopener\" target=\"_blank\">å‰µé€ ä¸»ã«ãªã£ãŸã‚ˆã†ãªæ°—æŒã¡ğŸŒ</a>ã«ãªã‚Œã¾ã™ã‚ˆï¼</p>\n\n<h1>\n<span id=\"å‚è€ƒè³‡æ–™\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99\"><i class=\"fa fa-link\"></i></a>å‚è€ƒè³‡æ–™</h1>\n\n<p>ã‚ªã‚¹ã‚¹ãƒ¡æƒ…å ±ã®ãƒªãƒ³ã‚¯ã‚’è²¼ã£ã¦ãŠãã¾ã™ğŸ“š</p>\n\n<ul>\n<li>\n<a href=\"https://qiita.com/pypypyo14/items/5520f3defa55119f3a1a\" id=\"reference-e313532a6d2bf6540818\">VSCodeã§Terraformã‚’æ›¸ãã¨ãã®è¨­å®š</a>\n\n<ul>\n<li>ç§ã¯VSCodeã§é–‹ç™ºã—ã¦ã„ã¾ã™ãŒã€Intellijãªã‚“ã‹ã‚‚ã„ã„æ„Ÿã˜ã«ä½¿ãˆã‚‹ã‚‰ã—ã„ã§ã™</li>\n</ul>\n</li>\n<li>\n<a href=\"https://booth.pm/ja/items/1318735\" rel=\"nofollow noopener\" target=\"_blank\">ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç‰ˆã€‘Pragmatic Terraform on AWS</a>\n\n<ul>\n<li>ã¨ã‚‚ã‚ã‚Œã“ã¡ã‚‰ã‚’èª­ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™</li>\n<li>ä»Šå›ä½¿ã‚ãªã‹ã£ãŸã‚µãƒ¼ãƒ“ã‚¹å«ã‚ã€æ§˜ã€…ãªãƒªã‚½ãƒ¼ã‚¹ã®ä½œã‚Šæ–¹ã«ã¤ã„ã¦å…·ä½“çš„ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.terraform.io/docs/providers/aws/\" rel=\"nofollow noopener\" target=\"_blank\">Terraformã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>\n\n<ul>\n<li>è¨­å®šå€¤ãªã©åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ãŸã‚‰ã€<code>resource \"aws_xxxxx\"</code>ãªã©ã®ãƒªã‚½ãƒ¼ã‚¹åã§æ¤œç´¢ã—ã¦â†‘ã®ã‚µã‚¤ãƒˆã‚’è¦‹ã‚Œã°åŸºæœ¬å…¨éƒ¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/minamijoyo/items/1f57c62bed781ab8f4d7\" id=\"reference-d9455f0e4e292aa267e1\">Terraformè·äººå…¥é–€: æ—¥ã€…ã®é‹ç”¨ã§å­¦ã‚“ã çŸ¥è¦‹ã‚’æ·¡ã€…ã¨ã¾ã¨ã‚ã‚‹</a>\n\n<ul>\n<li>tipsé›†ã§ã™ã€‚è¨˜æ³•ã‚„è€ƒãˆæ–¹ãŒé ­ã«é¦´æŸ“ã‚“ã§ããŸã‚‰èª­ã‚€ã®ã‚’ãŠå‹§ã‚ã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n",
      "body": "# ã¯ã˜ã‚ã«\n\nç‹¬ç«‹èµ·æ¥­ã—ã¦ã„ã‚‹çŸ¥äººï¼ˆå»ºç¯‰ç³»ãªã®ã§ã€ä»¥ä¸‹ğŸ‘·â€â™‚ï¸ï¼‰ã‹ã‚‰ã€è‡ªç¤¾ã§ç›´æ¥ä»•äº‹ã®ä¾é ¼ã‚’å—ã‘ã‚‹ãŸã‚ã®ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã‚’ä½œã‚ŠãŸã„...ğŸ”¥ã¨ã„ã†ç›¸è«‡ã‚’å—ã‘ã¾ã—ãŸ\n\n[MVP](https://uxmilk.jp/65654)ã®è€ƒãˆæ–¹ã‹ã‚‰ã„ã‘ã°ã€[ã“ã†ã„ã†ã®](https://portfolio-ai.com/instapage_introduce)ã‚’ä½¿ã£ãŸã‚Šã€ä½œã‚‹ã«ã—ã¦ã‚‚herokuãªã©ã‚’ä½¿ã£ãŸã‚Šã§ã‚‚ã‚ˆã‹ã£ãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€\næ¥­å‹™ã§è§¦ã‚Œã¦ã„ãªã‹ã£ãŸRoute53ã‚„Cloudfrontãªã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è§¦ã‚‹æ ¼å¥½ã®ãƒãƒ£ãƒ³ã‚¹ã«æ€ãˆãŸã®ã§ã€AWSã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ–°è¦ã§ä½œã£ã¦1ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¨ã—ã¾ã—ãŸ\n\nã‚‚ã£ã¨ã‚‚è‡ªåˆ†ã§ä½œã‚‹ã¨è¨€ã£ã¦ã‚‚ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰æ‰‹ã§ãƒãƒãƒãƒã‚„ã£ã¦å¾Œã€…ã«ğŸ¤—ã£ã¦ãªã‚‹ã®ã¯å«Œã ã£ãŸã®ã§ã€\nä»¥å‰å‹§ã‚ã¦ã‚‚ã‚‰ã£ã¦æ°—ã«ãªã£ã¦ã„ãŸ[Terraform](https://qiita.com/Chanmoro/items/55bf0da3aaf37dc26f73)ã‚’å‹‰å¼·ã—ã¦ã€LPå…¬é–‹+ã¡ã‚‡ã£ã¨ã—ãŸå‡¦ç†ã‚’ã™ã‚‹ãŸã‚ã®API...ã¨ã„ã†ä¸€å¼ã‚’ä½œæˆã—ã‚ˆã†ã¨æ±ºã‚ã¾ã—ãŸ\nï¼ˆè·å ´ã®ã‚¤ãƒ³ãƒ•ãƒ©ã¯ã‚ã¾ã‚Š[IaC](https://qiita.com/KeijiYONEDA/items/e9ed0daf0906adec810e)ã‚’æ„è­˜ã—ãŸã‚‚ã®ã«ãªã£ã¦ã„ãªã„ã®ã§ã€æ¥­å‹™ã«é‚„å…ƒã§ããªã„ã‹ãª...ã¨ã„ã†æ€ã„ã‚‚å°‘ã—ã‚ã‚Šã¾ã™ğŸ¤”ï¼‰\n\n**ã•ã•ã£ã¨**ã¨ã‹è™«ã®ã„ã„ã“ã¨ã‚’è¨€ã£ã¦ã„ã¾ã™ğŸãŒã€\nä½œã£ã¦ã‚‹æœ€ä¸­ã¯å·±ã®DNSã‚„httpsãªã©ã«å¯¾ã™ã‚‹åŸºç¤çŸ¥è­˜ã®è¶³ã‚Šãªã•ã‹ã‚‰ã€ã‚‚ã†ã ã„ã¶è‹¦ã—ã¿ã¾ã—ãŸâš°\nã®ã§ã€ãã“ã‚‰è¾ºã®å‚™å¿˜éŒ²ã‚‚å…¼ã­ã¦ã€ç´¹ä»‹ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™\n\n*æ³¨æ„ï¼šç†ç”±ã¯å¾Œè¿°ã—ã¾ã™ãŒã€ç’°å¢ƒæ§‹ç¯‰ã«ã¯çŠ¶æ³ã«ã‚ˆã‚Šæ•°æ—¥ã‹ã‹ã‚Šã¾ã™...ã¡ã£ã¨ã‚‚ã•ã•ã£ã¨ã˜ã‚ƒãªã„ï¼*\n\n# ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\n\nğŸ‘·â€â™‚ï¸ã¨å¯¾é¢ã‚„Googleãƒãƒ³ã‚°ã‚¢ã‚¦ãƒˆã§ä¼šè­°ã‚’é‡ã­ã¦ã€å¤§ä½“ä»¥ä¸‹ã®ã‚ˆã†ãªè©±ãŒå‡ºã¦ãã¾ã—ãŸ\n\n- LPåˆ¶ä½œã¯å¤–æ³¨ã—ã‚ˆã†ã­\n    - ğŸ‘·â€â™‚ï¸ãŒLPã®ãƒ†ã‚­ã‚¹ãƒˆã‚„æ§‹æˆã‚’è€ƒãˆã‚‹ã“ã¨ã«æ„æ¬²çš„ã§ã€å‰²ã¨ã¡ã‚ƒã‚“ã¨ã—ãŸä»•æ§˜ã‚’ä½œã£ã¦ãã‚Œã¦å¤§ã„ã«åŠ©ã‹ã‚‹\n    - ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¾ã§ã‚„ã£ã¦é ‚ã‘ã‚‹ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã®æ–¹ã«[ãƒ©ãƒ³ã‚µãƒ¼ã‚º](https://www.lancers.jp/)ã«ã¦ä¾é ¼\n- ã‚¤ãƒ³ãƒ•ãƒ©ã¨å•ã„åˆã‚ã›ã‚’å—ã‘ã‚‹ä»•çµ„ã¿ã‚’ã¼ããŒä½œã‚‹ã­\n    - å•ã„åˆã‚ã›ã®å†…å®¹ã¯ã€ğŸ‘·â€â™‚ï¸ã¨ã®ä¼šè©±ç”¨ã«ä½œã£ãŸSlackã§å—ã‘ã¨ã‚‹ã“ã¨ã«\n    - å‰¯æ¬¡çš„ã«å‡ºã¦ããŸè¦ä»¶\n        - APIãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã¯å«Œã ã‚ˆã­\n        - å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚ã‚‹ã—httpså¿…é ˆã ã­\n- ã‚‚ã¡ã‚ã‚“ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³å–ã‚ŠãŸã„ã‚ˆã­\n    - Route 53ã§è¦‹ã¦ã¿ãŸã‚‰.jpãƒ‰ãƒ¡ã‚¤ãƒ³ãŒå—ã‘å…¥ã‚Œé›£ã„é‡‘é¡ğŸ’¸ã ã£ãŸãŸã‚ã€ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã¯[ãŠåå‰.com](https://www.onamae.com/)ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã¯Route 53ã‚’åˆ©ç”¨\n    - å½“åˆã“ã“ã‚‰è¾ºã®æ¦‚å¿µã‚’å…¨ãåˆ†ã‹ã£ã¦ãªãã¦æ™‚é–“ãŒæº¶ã‘ã¾ã—ãŸã€‚[ã“ã¡ã‚‰](https://www.onamae.com/clever/about/regist.html)ã‚„[ã“ã¡ã‚‰](https://www.atmarkit.co.jp/ait/articles/0112/27/news001.html)ã®è¨˜äº‹ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™\n- SSLè¨¼æ˜æ›¸ã®æ›´æ–°ã¯è‡ªå‹•åŒ–ã—ãŸã„ã‚ˆã­\n    - å€‹äººçš„ã«ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãªè©±ã ã£ãŸãŸã‚\n    - ã“ã“ã‚‚ä½•ã‚‚åˆ†ã‹ã£ã¦ãªã„ã“ã¨ã«æ°—ã¥ã[ã“ã¡ã‚‰](https://milestone-of-se.nesuke.com/sv-advanced/digicert/digital-certification-summary/)ãªã©èª­ã¿ã¾ã—ãŸ\n\n# ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹\n\nã¨ã„ã†ã“ã¨ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚’æ§‹ç¯‰ğŸ—ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸï¼\n\n![æ§‹æˆå›³](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/d10aff6c-8454-4aaa-023c-b41536f7b488.png)\n\nç°¡å˜ã«ã§ã™ãŒä¸€é€šã‚Šèª¬æ˜ã—ã¾ã™\næœ¬ç•ªé‹ç”¨ã™ã‚‹ã‚‚ã®ã¯LPã‚„å•ã„åˆã‚ã›æ©Ÿèƒ½ã¯ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã¯åˆ¥ã§ç®¡ç†ã—ãŸã„ã§ã™ãŒã€æœ¬è¨˜äº‹ã§ã¯ç°¡ä¾¿ã®ãŸã‚å…¨éƒ¨ã¾ã¨ã‚ã¦Terraformã§ä½œæˆã—ã¾ã™\n\n|åç§°|å½¹å‰²|\n|---|---|\n|ãŠåå‰.com|ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—ãƒ»ç®¡ç†ã€‚Terraformç®¡ç†å¤–|\n|Route 53|ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒ(Hosted Zone)ã„ã£ã“ä½œã‚‹|\n|Certificate Manager(â­ï¸)|SSLè¨¼æ˜æ›¸ã®ç”Ÿæˆãƒ»ç®¡ç†ã€‚æ›´æ–°è‡ªå‹•åŒ–ã®ãŸã‚[DNSæ¤œè¨¼](https://docs.aws.amazon.com/ja_jp/acm/latest/userguide/gs-acm-validate-dns.html)ã‚’åˆ©ç”¨|\n|Secrets Manager(ğŸ”)|[Slack API](https://api.slack.com/)ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç®¡ç†|\n|CloudFront|LPã‚’å…¬é–‹ã€‚ç‰¹å®šã®ãƒ‘ã‚¹é…ä¸‹ã‚’APIã¸å›ã™ã€‚[åœ°åŸŸåˆ¶é™](https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/georestrictions.html)ã‚’ä½¿ã£ã¦æ—¥æœ¬(ã¨ç±³å›½)ã«çµã‚‹|\n|API Gateway|å•ã„åˆã‚ã›APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€‚[ãƒªãƒ¼ã‚¸ãƒ§ãƒ³API](https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/create-regional-api.html)ã¨ã—ã¦æ§‹ç¯‰|\n|S3|LPã®ç½®ãå ´æ‰€ã¨ã€[CloudFrontã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°](https://docs.aws.amazon.com/ja_jp/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html)ä¿ç®¡å…ˆ|\n|Lambda|å•ã„åˆã‚ã›ã‚’Slackã«æŠ•ç¨¿|\n|Slack|ãƒãƒ£ãƒ³ãƒãƒ«ã«å•ã„åˆã‚ã›ãŒä¸ŠãŒã£ã¦ãã‚‹ã€‚Terraformç®¡ç†å¤–|\n\næ›¸ã„ã¦ã¦æ°—ã¥ã„ãŸã‚“ã§ã™ãŒã€ã“ã‚Œãã®ã¾ã¾SPAã®å…¬é–‹ãªã‚“ã‹ã«ã‚‚å¿œç”¨ã§ããã†ãªæ§‹æˆã§ã™ã­ğŸ˜\n\n# ä½œã£ãŸã‚‚ã®\n\n[GitHub](https://github.com/yktakaha4/lp-infra-by-terraform)ã‚’è¦‹ã¦ãã ã•ã„:octocat:\nã ã‘ã ã¨ã‚ã‚“ã¾ã‚Šãªã®ã§ã€ é †ã‚’è¿½ã£ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™\n\n## æº–å‚™\n\nTerraformã®å‰ã«ã„ãã¤ã‹å¿…è¦ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™\nå…·ä½“çš„ãªä½œã‚Šæ–¹ã¯è¨˜äº‹ã®æœ¬æ—¨ã‹ã‚‰å¤–ã‚Œã‚‹ãŸã‚ã€å„è‡ªãŠã‚°ã‚°ã‚Šãã ã•ã„ğŸ™„\n\n### ãŠåå‰.comã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—\n\nä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã§ã‚‚ã„ã„ã‚‚ã®ã¨æ€ã„ã¾ã™\nRoute 53ã‚’ä½¿ã†å ´åˆã¯ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã¸ã®ç™»éŒ²å«ã‚è‡ªå‹•åŒ–ã§ãã‚‹ã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nï¼ˆ.jpãŒé«˜ã„ã‹ã‚‰ã¨ã‹è¨€ã£ã¦ãŸå‰²ã«.comãªã®ã¯ã‚µãƒ³ãƒ—ãƒ«ã ã‹ã‚‰ã§ã™ï¼‰\n\n![ãƒ‰ãƒ¡ã‚¤ãƒ³å](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/6c3219cf-aefd-1209-3c87-d75a56c32df7.png)\n\n### Slackã§æŠ•ç¨¿ç”¨Botã‚’ä½œæˆ\n\nSlack APIã¯[chat.postMessage](https://api.slack.com/methods/chat.postMessage)ã‚’ä½¿ã„ã¾ã™\næ‰€å®šã®æ¨©é™ã‚’ä»˜ä¸ã—ãŸbotã‚’ä½œæˆã—ãŸä¸Šã§ã€OAuth Access Tokenã‚’ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã—ã‚‡ã†\n\n![Access Token](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/7b608760-fd3c-5b97-306a-ffdb2ea39bae.png)\n\nã¾ãŸã€æŠ•ç¨¿å…ˆã®ãƒãƒ£ãƒ³ãƒãƒ«IDã‚‚å¿…è¦ã«ãªã‚Šã¾ã™ã®ã§ã€`https://xxxxx.slack.com/messages/CGxxxxxxx`ã®`CGxxxxxxx`ã®éƒ¨åˆ†ã‚‚ç¢ºèªã—ã¦ãŠã„ã¦ãã ã•ã„\n\n\n### AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ¦ãƒ¼ã‚¶\n\n`PowerUserAccess`ãŒã¤ã„ãŸãƒ¦ãƒ¼ã‚¶ã®`AWS_ACCESS_KEY_ID`ãŠã‚ˆã³`AWS_SECRET_ACCESS_KEY`ãŒå¿…è¦ã§ã™\nã‚ã¨ã€ä½œã£ãŸã ã‘ã§ãŸãã•ã‚“ãŠé‡‘ã®ã‹ã‹ã‚‹ã‚‚ã®ã¯å®šç¾©ã—ã¦ã„ãªã„ã¤ã‚‚ã‚Šã§ã™ãŒã€ä¸‡ãŒä¸€ã«å‚™ãˆã¦è«‹æ±‚ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®è¨­å®šã‚„ã‚¢ãƒ©ãƒ¼ãƒ ã¯è¨­å®šã—ã¦é ‚ã„ã¦ãŠã„ãŸæ–¹ãŒã‚ˆã„ã§ã—ã‚‡ã†\nè«‹æ±‚ã«ã¤ã„ã¦ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ğŸ™\n\n## ã„ã–æ§‹ç¯‰\n\næº–å‚™ãŒã§ããŸã‚‰ã€å®Ÿéš›ã«Terraformã«ã¦ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ï¼\n\nã®å‰ã«ã€ä»¥ä¸‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„\nå…·ä½“çš„ãªæ–¹æ³•ã€ãŠã‚ˆã³Windowsã®æ–¹ã¯ğŸ™„\n\n- [direnv](https://qiita.com/kompiro/items/5fc46089247a56243a62)\n- [tfenv](https://qiita.com/kamatama_41/items/ba59a070d8389aab7694)\n    - terraformã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ãŠé¡˜ã„ã—ã¾ã™\n    - æœ¬ç¨¿ã§ã¯`v0.12.3`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ direnv version\n2.20.1\n\n$ tfenv -v\ntfenv 1.0.1\n\n$ terraform -v\nTerraform v0.12.3\n```\n\nãã‚Œã§ã¯ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†\nãªã«ã¯ã¨ã‚‚ã‚ã‚Œã€ã¾ãšã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—ã—ã¾ã™\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ git clone https://github.com/yktakaha4/lp-infra-by-terraform.git\n\n$ cd lp-infra-by-terraform\n$ ls -l\n```\n\næ¬¡ã«ã€å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã„ãã¾ã™\n`.sample`ã¨ã¤ã„ã¦ã„ã‚‹ã‚„ã¤ãŒã‚µãƒ³ãƒ—ãƒ«ãªã®ã§ã€ã‚³ãƒ”ãƒ¼ã®ä¸Šå€¤ã‚’åŸ‹ã‚ã¦ãã ã•ã„\n`AWS_ACCESS_KEY_ID`ã€`AWS_SECRET_ACCESS_KEY`ã€`domain_name`ã¯æº–å‚™ã®é …ã§ç”¨æ„ã—ãŸå€¤ã€\n`resource_prefix`ã¯S3ã®ãƒã‚±ãƒƒãƒˆåãªã©å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã«è¨­å®šã•ã‚Œã‚‹ã®ã§ã€äººã¨è¢«ã‚‰ãªã•ãã†ãªã‚‚ã®ã‚’ä»»æ„ã§è¨­å®šã—ã¦ãã ã•ã„\n\nãªãŠã€`terraform.tf.sample`ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’S3ã§ç®¡ç†ã™ã‚‹å ´åˆå¿…è¦ã«ãªã‚Šã¾ã™\nãŠè©¦ã—ã§ã‚„ã‚‹ã‚ˆã†ã§ã—ãŸã‚‰ç‰¹ã«ä¸è¦ã§ã™\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ cp -p terraform.tfvars.sample terraform.tfvars\n$ vim terraform.tfvars\n\n$ cp -p .envrc.sample .envrc\n$ vim .envrc\n$ direnv allow\n\n# è¤‡æ•°äººã§å…±æœ‰ã—ã¦é–‹ç™ºã™ã‚‹å ´åˆã®ã¿è¨­å®š\n$ cp -p terraform.tf.sample terraform.tf\n$ vim terraform.tf\n```\n\nã“ã“ã¾ã§é™ºã—ã„é“ã®ã‚Šâ›°ã§ã—ãŸãŒã€ã„ã‚ˆã„ã‚ˆ`terraform`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™\n\nTerraformã¯ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«ã‚ã‚‹tfãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™\n`plan`\bã§ä½œæˆã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®ç¢ºèªã€`apply`ã§é©ç”¨ã§ã™ã€‚ç°¡å˜ã§ã™ã­ï¼\n\nä»Šå›ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å–å¾—ã‚’ãŠåå‰.comã§è¡Œãªã£ã¦ã„ã¾ã™ã®ã§ã€\nRoute 53ã§ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ä½œæˆã—ãŸå¾Œã«ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãŠåå‰.comã®ç®¡ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\nã“ã¡ã‚‰ã¯æ‰‹ä½œæ¥­ã§è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã¾ãšãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ã¿ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n`-target=xxxx`ã§ã€ç‰¹å®šã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™\nä»Šå›ã¯ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ä½œæˆã—ã¾ã™\n\n```hcl:route53.tf\nresource \"aws_route53_zone\" \"domain_name\" {\n  name = \"${var.domain_name}\"\n}\n```\n\nãã‚Œã§ã¯ã€ã„ã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ç’°å¢ƒæ§‹ç¯‰\n$ terraform init\n\n# ãŠåå‰.comã«ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®æƒ…å ±ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã¾ãšãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®ã¿ä½œæˆã™ã‚‹\n$ terraform plan -target=aws_route53_zone.domain_name\n$ terraform apply -target=aws_route53_zone.domain_name\n\nOutputs:\n\nname_servers = [\n  \"ns-xxxx.awsdns-xx.org\",\n  \"ns-xxxx.awsdns-xx.co.uk\",\n  \"ns-xxxx.awsdns-xx.com\",\n  \"ns-xxxx.awsdns-xx.net\",\n]\n```\n\nOutputsã¨ã—ã¦ã€ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ç„¡äº‹æˆåŠŸã§ã™\nAWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰`Route 53 -> ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³`ã¨è¾¿ã£ã¦ã„ãã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã§ãã¦ã‚‹ã¯ãšã§ã™ã®ã§ã€è¦‹ã¦ã¿ã¦ãã ã•ã„\n\n![ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/02ae7df3-89a6-29d8-212e-6a00a8056df2.png)\n\nã„ã„æ„Ÿã˜ã§ã™ã­ï¼\n\nã“ã“ã§ã€Terraformã‚’ä¸€åº¦é›¢ã‚Œã¦ã€ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã‚’ãŠåå‰.comã¸ç™»éŒ²ã—ã¾ã™\n[ã“ã¡ã‚‰](https://www.onamae.com/guide/p/67)ã«å…·ä½“çš„ãªæ‰‹é †ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã®ã§ã€å‚è€ƒã«ã—ã¤ã¤ã‚„ã£ã¦ã¿ã¦ãã ã•ã„\n\n![ãƒˆã‚™ãƒ¡ã‚¤ãƒ³Navi](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/1e286efa-0f66-85d6-c6c6-10772a3fa6c1.png)\n\nã§ãã¾ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\n\nãŠåå‰.comã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã®ç™»éŒ²è‡ªä½“ã¯å‰²ã¨ã™ãã«çµ‚ã‚ã‚‹ã®ã§ã™ãŒã€\nè¨­å®šã—ãŸãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãŒæµ¸é€ï¼ˆã¨ã„ã†è¨€ã„æ–¹ã§ã„ã„ã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼‰ã™ã‚‹ã«ã¯ã€[ç‰¹ã«å†ä½œæˆæ™‚ã¯æœ€å¤§ã§72æ™‚é–“ç¨‹åº¦ã‹ã‹ã‚‹](https://faq.nttpc.co.jp/faq/show/13352?site_domain=suitex)ãã†ã§ã™ğŸ˜•\nãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®å¤‰æ›´ãŒå®Œäº†ã—ã¦ã„ãªã„ã¨ä»¥é™ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã£ã¦ã‚‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã™ã®ã§ã€ã“ã“ã¯ã‚°ãƒƒã¨ã“ã‚‰ãˆã¦æ™‚ãŒçµŒã¤ã®ã‚’å¾…ã¡ã¾ã™...\n\n`dig`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨ã€ãƒ‰ãƒ¡ã‚¤ãƒ³åã«å¯¾å¿œã™ã‚‹ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€æ™‚é–“ã‚’é–‹ã‘ã¦è¦‹ã¦ã¿ã¦ãã ã•ã„\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã®ç¢ºèªç”¨ã‚³ãƒãƒ³ãƒ‰\n$ dig example-domain.com ns\n\n;; ANSWER SECTION:\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.net.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.org.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.co.uk.\nxxxxxxxxx.com.          172756  IN      NS      ns-xxxx.awsdns-xx.com.\n\n# â†‘ã§è¿”å´ã•ã‚Œã‚‹å†…å®¹ãŒã€ name_servers ã§è¡¨ç¤ºã•ã‚ŒãŸãƒãƒ¼ãƒ ã‚µãƒ¼ãƒã«å•ã„åˆã‚ã›ãŸæ™‚ã¨åŒã˜ã ã£ãŸã‚‰æº–å‚™å®Œäº†\n$ dig example-domain.com @ns-xxxx.awsdns-xx.org ns\n```\n\nã„ãšã‚Œã«ã›ã‚ˆã™ãã«ã¯çµ‚ã‚ã‚‰ãªã„ã®ã§ã€ã‚‚ã†ã„ãã¤ã‹å…ˆã«æ¸ˆã¾ã›ã¦ãŠã„ãŸæ–¹ãŒã„ã„å†…å®¹ã‚’ã‚„ã£ã¦ãŠãã¾ã™\n\nSlack APIã‹ã‚‰å–å¾—ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒãƒ£ãƒ³ãƒãƒ«IDã‚’Secrets Managerã«ç™»éŒ²ã—ã¾ã™\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ terraform plan -target=aws_secretsmanager_secret_version.slack_api\n$ terraform apply -target=aws_secretsmanager_secret_version.slack_api\n```\n\napplyãŒå®Œäº†ã—ãŸã‚‰AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã„ã¦ã€ãã‚Œãã‚Œã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®å€¤ã‚’ç·¨é›†ã—ã¦ãã ã•ã„\næœ¬æ¥ã€Terraformã§ä½œã£ãŸãƒªã‚½ãƒ¼ã‚¹ã«æ‰‹ã§å¤‰æ›´ã‚’åŠ ãˆã‚‹ã¨å·®åˆ†æ¤œçŸ¥ã•ã‚Œã‚‹ã‚ˆã†ãªä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€\nã“ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®å€¤ã«ã¤ã„ã¦ã¯å·®åˆ†æ¤œçŸ¥ã®ç¢ºèªå¯¾è±¡å¤–ã«ã—ã¦ã„ã¾ã™\n\n![Secrets Manager 2019-07-08 22-47-30(1).png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/0f7e6687-9b73-1f13-64a3-fd9d4d8dfbc0.png)\n\nãã†ã“ã†ã—ã¦ã„ã‚‹ã†ã¡ã«DNSã®æµ¸é€ãŒæ¸ˆã‚“ã ã‚‰ã€ã‚ã¨ã¯ä¸€æ°—ã«ä½œæˆã§ãã¾ã™âœŒï¸\n\n`-target`ã®æŒ‡å®šã‚’å¤–ã™ã¨å…¨ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã§ãã‚‹ã®ã§ã€ä¸€æ€ã„ã«ã‚„ã£ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†\nCloudFrontãªã©ä½œæˆã«æ™‚é–“ã®ã‹ã‹ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚‚è‰²ã€…ã‚ã‚‹ã®ã§ã€1æ™‚é–“ã»ã©ã¯è¦‹ã¦ã„ãŸã ã„ãŸæ–¹ãŒã„ã„ã‚ˆã†ã§ã™\n\n```shell_session:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n# æ®‹ã‚Šã®ãƒªã‚½ãƒ¼ã‚¹ã‚’é©ç”¨\n$ terraform plan\n$ terraform apply\n```\n\n...ç„¡äº‹ã«æ­£å¸¸çµ‚äº†ã—ã¾ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ\n\nã‚‚ã—ã‚‚ã†ã¾ãã„ã£ãŸã‚ˆã†ã§ã‚ã‚Œã°ã€ã—ã°ã—å¾…ã£ãŸã®ã¡ã”è‡ªèº«ã®`https://example-domain.com/`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™\n(ãªãŠã€htmlã¯[Paper Kit 2](https://demos.creative-tim.com/paper-kit-2/index.html)ã‚’åˆ‡ã‚Šè²¼ã‚Šã—ã¦ã§ã£ã¡ä¸Šã’ãŸã‚‚ã®ã§ã™)\n\n![LP](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/efcb4020-637b-b0b7-4d9c-d129cb635486.png)\n\nãŠã‚‚ã‚€ã‚ã«ãƒœã‚¿ãƒ³ã‚‚æŠ¼ã—ã¦ã¿ã¾ã—ã‚‡ã†...ï¼\n\n![Slack](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/49e67f8e-8212-5d3d-0a1d-e4d52953f30f.png)\n\nã“ã‚Œã«ã¦ã‚¬ãƒ³ã‚¬ãƒ³ä»•äº‹ã‚’å—ã‘ã‚‰ã‚Œã¾ã™ã­ï¼ï¼ï¼ğŸ¾ğŸ‚ğŸ‰\n\n## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(æ§‹ç¯‰)\n\nç§ãŒå¼•ã£ã‹ã‹ã£ãŸã‚‚ã®ã‚’æ™’ã—ã¦ãŠãã¾ã™\nä»¥ä¸‹ä»¥å¤–ã®ã‚‚ã®ãŒå‡ºã¦ããŸå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦é ‚ã‘ãŸã‚‰è£œè¨˜ã—ãŸã„ã¨æ€ã„ã¾ã™\nï¼ˆã“ã†ã™ã‚Œã°è§£æ±ºã§ããŸ...ã¨ã„ã†ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ï¼‰\n\n```shell_session:ãã®1\n# CloudFrontã§ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã€AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ Deployed ã«ãªã‚‹ã¾ã§å¾…ã¤\nError: error waiting until CloudFront Distribution (xxxxx) is deployed: timeout while waiting for state to become 'Deployed' (last state: 'InProgress', timeout: 1h10m0s)\n\n# Deployed ã«ãªã£ãŸå¾Œã€ untaintã®å®Ÿè¡Œ\n$ terraform untaint aws_cloudfront_distribution.domain_name\nResource instance aws_cloudfront_distribution.domain_name has been successfully untainted.\n\n# æ®‹ã‚Šã®ãƒªã‚½ãƒ¼ã‚¹ã‚’é©ç”¨\n$ terraform apply\n```\n\n```shell_session:ãã®2\n# ACMã§ç™ºè¡Œã§ãã‚‹è¨¼æ˜æ›¸ã®æ•°ã¯1å¹´é–“ã§ä¸Šé™ãŒã‚ã‚Šã€ä½œæˆãƒ»å‰Šé™¤ã‚’ç¹°ã‚Šè¿”ã™ç­‰ã—ã¦æœ€å¤§å€¤ã‚’è¶Šãˆã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã—ã¾ã†\nError: Error requesting certificate: LimitExceededException: Error: you have reached your limit of 10 certificates in the last year.\n\n# ã‚µãƒãƒ¼ãƒˆã«æŠ•ã’ã‚‹ã¨ä¸Šé™ç·©å’Œã—ã¦ã‚‚ã‚‰ãˆã‚‹\n# https://docs.aws.amazon.com/ja_jp/acm/latest/userguide/acm-limits.html#limit-certs-yearly\n```\n\n# å‰Šé™¤æ–¹æ³•\n\nä½œã‚‹ã®ã«å¼•ãæ›ãˆå‰Šé™¤ã¯æ¥½ãƒãƒ³ã§ã™ã€‚`terraform destroy`ã§å‰Šé™¤ã§ãã¾ã™\n\nãŸã ã—ä½•ã‚‚æŒ‡å®šã—ãªã„ã¨æœ¬å½“ã«å…¨éƒ¨æ¶ˆãˆã¾ã™ğŸ‘‹\nplanã‚’ã‚ˆãç¢ºèªã—ãŸã‚Šã€`target=xxxxx`ã§éƒ¨åˆ†çš„ã«æ¶ˆã—ã¦ã„ããªã©ã€æ…é‡ã«ä½œæ¥­ã—ãŸæ–¹ãŒã‚ˆã„ã§ã—ã‚‡ã†\n\n```shell_session:ã‚³ãƒ³ã‚½ãƒ¼ãƒ«\n$ terraform plan --destory\n$ terraform destroy\n```\n\n## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°(å‰Šé™¤)\n\nä½œã‚‹ã¨ãã¨åŒæ§˜ã€å¼•ã£ã‹ã‹ã£ãŸã‚‚ã®ã‚’æ›¸ã„ã¦ãŠãã¾ã™\n\n```shell_session:ãã®1\n# ä»¥ä¸‹ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã€AWSã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãªã©ã‹ã‚‰å¯¾è±¡ã®ãƒã‚±ãƒƒãƒˆã®ä¸­èº«ã‚’ç©ºã«ã™ã‚‹\nError: error deleting S3 Bucket (xxxxx): BucketNotEmpty: The bucket you tried to delete is not empty\n```\n\n# æ‰€æ„Ÿ\n\nç’°å¢ƒæ§‹ç¯‰ã‚’æ‰‹ä½œæ¥­ã§è¡Œãªã£ã¦ã„ã‚‹ã¨ã€ã„ã¤ã‚‚ã€Œã“ã‚Œã§ç¢ºèªã™ã¹ãé …ç›®ã¯ååˆ†ã ã‚ã†ã‹...ï¼Ÿã€ã¨ã‹ã€Œè¨­å®šå€¤æ­£ã—ãè¨­å®šã§ãã¦ã‚‹ã‹ãª...ï¼Ÿã€ã¨ã‹ã€\nã‚ˆã—ã‚“ã°å‹•ã„ãŸã¨ã—ã¦ã‚‚ã€Œæœ¬å½“ã«ã‚ã‚Œã§ã‚ˆã‹ã£ãŸã‚“ã ã‚ã†ã‹...ğŸ¤¢ã€ã¨ã„ã†æ°—æŒã¡ãŒä»˜ãã¾ã¨ã£ã¦ã„ãŸï¼ˆã—ã‹ã‚‚æ™‚é–“ãŒçµŒã¤ã¨å…¨éƒ¨å¿˜ã‚Œã‚‹ï¼‰ã®ã§ã™ãŒã€\nã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã‚ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¨ã£ã¦ã‚‚ã‚°ãƒƒã¨è·é›¢æ„ŸãŒè¿‘ã¥ã„ãŸã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸ\nç‰¹ã«ã€**ãƒªã‚½ãƒ¼ã‚¹é–“ã®ä¾å­˜é–¢ä¿‚ã‚’ç†è§£ã™ã‚‹**ã¨ã„ã†æ„å‘³ã§ã¯ã€GUIã‚ˆã‚Šã‚‚ã‚³ãƒ¼ãƒ‰ã®æ–¹ãŒå„ªã‚Œã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã—ãŸ\n\nã¾ãŸã€å€‹äººé–‹ç™ºã ã¨ã€å¯ã‚‹å‰ã®ã¡ã‚‡ã£ã¨ã—ãŸæ™‚é–“ã§é–‹ç™ºã—ãŸã‚Šã€å‰å›ã®ä½œæ¥­ã‹ã‚‰é–“ãŒç©ºã„ã¦ã—ã¾ã£ãŸã‚Š...ã¨ã„ã†ã“ã¨ã‚‚ã‚ˆãã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€\nã©ã“ã¾ã§ä½•ã‚’ä½œã£ãŸã‹ã€tfãƒ•ã‚¡ã‚¤ãƒ«ã‚„tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ã—ã£ã‹ã‚Šæ®‹ã‚‹ã®ã§ã€**å®‰å¿ƒã—ã¦ã‚„ã£ãŸã“ã¨ã‚’å¿˜ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹**ã¨ã„ã†ã®ãŒåœ°å‘³ã«ã‚ã‚ŠãŒãŸã‹ã£ãŸã§ã™ğŸ˜‹\n\nä»Šå›ã®è¨˜äº‹ã§ã¯ã€ä½œæˆã—ãŸtfãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ã»ã¨ã‚“ã©è§¦ã‚Œã¾ã›ã‚“ã§ã—ãŸãŒã€\nå„ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šå€¤ã¨AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®çŠ¶æ…‹ã‚’æ¯”è¼ƒã—ãŸã‚Šã€å†…å®¹ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã—ã¦ã¿ãŸã‚Šã¨ã€ãœã²å„è‡ªã§è‰²ã€…è©¦ã—ã¦é ‚ãã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼\nï¼ˆã‚ˆããªã„ã¨ã“ã‚ãŒã‚ã£ãŸã‚‰ã€ãƒ—ãƒ«ãƒªã‚¯ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã§æŒ‡æ‘˜é ‚ã‘ã‚Œã°å¹¸ã„ã§ã™ï¼‰\n\nè‡ªåˆ†ãŒæ›¸ã„ãŸtfãƒ•ã‚¡ã‚¤ãƒ«ã§æ¬¡ã€…ã«ã‚¤ãƒ³ãƒ•ãƒ©ãŒçµ„ã¿ä¸ŠãŒã£ã¦ã„ãæ§˜ã‚’è¦‹ã¦ã„ã‚‹ã¨ã€\nãã‚Œã“ã[å‰µé€ ä¸»ã«ãªã£ãŸã‚ˆã†ãªæ°—æŒã¡ğŸŒ](https://ja.wikipedia.org/wiki/%E3%83%86%E3%83%A9%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9F%E3%83%B3%E3%82%B0)ã«ãªã‚Œã¾ã™ã‚ˆï¼\n\n# å‚è€ƒè³‡æ–™\n\nã‚ªã‚¹ã‚¹ãƒ¡æƒ…å ±ã®ãƒªãƒ³ã‚¯ã‚’è²¼ã£ã¦ãŠãã¾ã™ğŸ“š\n\n- [VSCodeã§Terraformã‚’æ›¸ãã¨ãã®è¨­å®š](https://qiita.com/pypypyo14/items/5520f3defa55119f3a1a)\n    - ç§ã¯VSCodeã§é–‹ç™ºã—ã¦ã„ã¾ã™ãŒã€Intellijãªã‚“ã‹ã‚‚ã„ã„æ„Ÿã˜ã«ä½¿ãˆã‚‹ã‚‰ã—ã„ã§ã™\n- [ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç‰ˆã€‘Pragmatic Terraform on AWS](https://booth.pm/ja/items/1318735)\n    - ã¨ã‚‚ã‚ã‚Œã“ã¡ã‚‰ã‚’èª­ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™\n    - ä»Šå›ä½¿ã‚ãªã‹ã£ãŸã‚µãƒ¼ãƒ“ã‚¹å«ã‚ã€æ§˜ã€…ãªãƒªã‚½ãƒ¼ã‚¹ã®ä½œã‚Šæ–¹ã«ã¤ã„ã¦å…·ä½“çš„ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™\n- [Terraformã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.terraform.io/docs/providers/aws/)\n    - è¨­å®šå€¤ãªã©åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ãŸã‚‰ã€`resource \"aws_xxxxx\"`ãªã©ã®ãƒªã‚½ãƒ¼ã‚¹åã§æ¤œç´¢ã—ã¦â†‘ã®ã‚µã‚¤ãƒˆã‚’è¦‹ã‚Œã°åŸºæœ¬å…¨éƒ¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™\n- [Terraformè·äººå…¥é–€: æ—¥ã€…ã®é‹ç”¨ã§å­¦ã‚“ã çŸ¥è¦‹ã‚’æ·¡ã€…ã¨ã¾ã¨ã‚ã‚‹](https://qiita.com/minamijoyo/items/1f57c62bed781ab8f4d7)\n    - tipsé›†ã§ã™ã€‚è¨˜æ³•ã‚„è€ƒãˆæ–¹ãŒé ­ã«é¦´æŸ“ã‚“ã§ããŸã‚‰èª­ã‚€ã®ã‚’ãŠå‹§ã‚ã—ã¾ã™\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-07-15T19:04:14+09:00",
      "group": null,
      "id": "bc26c38baea56f244c19",
      "likes_count": 5,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 4,
      "tags": [
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "Terraform",
          "versions": []
        }
      ],
      "title": "LPå…¬é–‹ã®ãŸã‚ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚’Terraform + AWSã§ã•ã•ã£ã¨ï¼Ÿæ§‹ç¯‰ã™ã‚‹ï¼ˆã‚½ãƒ¼ã‚¹ä»˜ãï¼‰",
      "updated_at": "2019-07-15T19:04:14+09:00",
      "url": "https://qiita.com/yktakaha4/items/bc26c38baea56f244c19",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"çµŒç·¯\" class=\"fragment\"></span><a href=\"#%E7%B5%8C%E7%B7%AF\"><i class=\"fa fa-link\"></i></a>çµŒç·¯</h1>\n\n<p>æ™®æ®µã¯<a href=\"https://github.com/tekezo/Karabiner-Elements\" rel=\"nofollow noopener\" target=\"_blank\">Karabiner-Elements</a>ã‚’ä½¿ã£ã¦ã€å³âŒ˜ã‚­ãƒ¼ã‚’ä½¿ã£ã¦ã‹ãªè‹±æ•°ã‚’ãƒˆã‚°ãƒ«åˆ‡ã‚Šè¿”ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€<br>\nå…ˆæ—¥<a href=\"https://www.parallels.com/jp/products/desktop/\" rel=\"nofollow noopener\" target=\"_blank\">Parallels Desktop</a>ã‚’è³¼å…¥ã—ã€Windows8.1ã‚’Macbookã®USã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰ä½¿ã†ã‚ˆã†ã«ãªã‚Šã€åŒã˜æ“ä½œæ„Ÿã§IMEåˆ‡ã‚Šæ›¿ãˆã‚’è¡Œã„ãŸã‹ã£ãŸãŸã‚ã€èª¿ã¹ã¦ã¿ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"ç’°å¢ƒ\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒ</h1>\n\n<p>ã©ã®ãã‚‰ã„ç´°ã‹ãæ›¸ã„ãŸã‚‰ã„ã„ã®ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒ...</p>\n\n<ul>\n<li>Macbook Pro(13-inch, 2017)\n\n<ul>\n<li>USã‚­ãƒ¼é…åˆ—ã§ã™</li>\n</ul>\n</li>\n<li>Windows 8.1\n\n<ul>\n<li>ãƒ‡ãƒã‚¤ã‚¹ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã¦ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒ‰ãƒ©ã‚¤ãƒã‚’ <code>æ¨™æº– PS/2 101/102 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰</code> ã«è¨­å®š</li>\n</ul>\n</li>\n<li>Parallels Desktop 14\n\n<ul>\n<li>ã“ã¡ã‚‰ã¯ãŸã¶ã‚“VirtualBoxãªã©ã§ã‚‚å¤‰ã‚ã‚‰ãªã„ã‚‚ã®ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ‰‹é †</h1>\n\n<p>ã¾ãšã€ä»¥ä¸‹ã‚µã‚¤ãƒˆã«ã¦ã€å³âŒ˜ã‚’æŠ¼ã—ãŸã¨ãã«ã©ã®ä»®æƒ³ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã‹ã¨ã€<br>\nå¤‰æ›æ™‚ã«ã©ã®ä»®æƒ³ã‚­ãƒ¼ã«ç´ã¥ã‘ã‚Œã°ã‚ˆã„ã‹ã‚’ç¢ºèªã—ã¾ã™</p>\n\n<p><qiita-embed-ogp src=\"https://keycode.info/\"></qiita-embed-ogp></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/8eeea912f8f5a3a5f0e7bbf9d0ddaaa5ce5d4ac7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f66356537333533622d303965652d343639332d333838302d6634353861633461376337362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Ff5e7353b-09ee-4693-3880-f458ac4a7c76.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4a35d597ca2903f78bf3801e908d5ba0\" alt=\"keycode.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/f5e7353b-09ee-4693-3880-f458ac4a7c76.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Ff5e7353b-09ee-4693-3880-f458ac4a7c76.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1ac708c4275770ae5fcb449a185b009d 1x\" loading=\"lazy\"></a></p>\n\n<p><a href=\"https://qiita.com/moutend/items/07a7bd19783234bd4159\">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€<code>Alt + `</code>ã‚’æŠ¼ã™ã¨ã‹ãªã¨è‹±æ•°ãŒãƒˆã‚°ãƒ«ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€<br>\nãƒšãƒ¼ã‚¸ä¸Šã§ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ã¦ã¿ã‚‹ã¨ã€25ã¨ã„ã†ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒå‡ºã¦ãã¾ã—ãŸ<br>\nåŒæ§˜ã«å³âŒ˜ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã¿ã‚‹ã¨ã€235ã¨ã„ã†ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã§ã—ãŸã®ã§ã€ã‚ã‚ã›ã¦è¦šãˆã¦ãŠãã¾ã™</p>\n\n<p>ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰235ã‚’25ã«å¤‰æ›ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€AutoHotKeyã¨ã„ã†ã‚½ãƒ•ãƒˆã‚’ä½¿ã„ã¾ã™<br>\nä»¥ä¸‹ã‚µã‚¤ãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ä»»æ„ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§å¤‰æ›å®šç¾©ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã™</p>\n\n<p><qiita-embed-ogp src=\"https://www.autohotkey.com/\"></qiita-embed-ogp></p>\n\n<p><code>vkXX</code>ã®å½¢ã§ã€å…ˆã»ã©èª¿ã¹ãŸã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’16é€²æ•°ã«ã—ã€<code>å¤‰æ›å…ƒ::å¤‰æ›å…ˆ</code>ã®æ›¸å¼ã§è¨˜è¿°ã™ã‚‹ã¨ã€å¤‰æ›ãŒè¡Œã‚ã‚Œã‚‹ã¨ã®ã“ã¨ã§ã™<br>\n1è¡Œç›®ã¯ãŠã¾ã˜ãªã„ã€è¡Œé ­ã‚»ãƒŸã‚³ãƒ­ãƒ³ã¯ã‚³ãƒ¡ãƒ³ãƒˆã ãã†ã§ã™ã€‚<a href=\"http://ahkwiki.net/KeyList\" rel=\"nofollow noopener\" target=\"_blank\">èª¿ã¹ã‚‹ã¨è‰²ã€…ã§ã¦ãã¾ã™</a>ã®ã§èˆˆå‘³ã‚ã‚‹æ–¹ã¯ãœã²</p>\n\n<p>ã‚ã¨ã€ç§å›ºæœ‰ã®å•é¡Œã‹åˆ†ã‹ã£ã¦ãªã„ã®ã§ã™ãŒã€ä½¿ã£ã¦ã„ã‚‹é€”ä¸­ã§å¤‰æ›ãŒè¡Œã‚ã‚Œãªããªã‚‹æ™‚ãŒã‚ã‚Šã€<br>\nèª¿ã¹ã¦ã¿ã‚‹ã¨å³âŒ˜æŠ¼ä¸‹æ™‚ã«FF(255)ãŒé€ä¿¡ã•ã‚Œã¦ã„ã‚‹å ´åˆã‚‚ã‚ã£ãŸã®ã§ã€æ›¸ãè¶³ã—ã¦ã„ã¾ã™<br>\nã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã®è§£èª¬ã¯ã€<a href=\"http://kts.sakaiweb.com/virtualkeycodes.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãªã©è¦‹ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™</p>\n\n<div class=\"code-frame\" data-lang=\"autohotkey\">\n<div class=\"code-lang\"><span class=\"bold\">us-kana.ahk</span></div>\n<div class=\"highlight\"><pre><code>#UseHook\n\n;VK_OEM_PA1 -&gt; VK_KANJI\nvkEB::vk19\nvkFF::vk19\n</code></pre></div>\n</div>\n\n<p>ä¸Šè¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ã€ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨AutoHotKeyã«èª­ã¿è¾¼ã¾ã‚Œã€å¤‰æ›ãŒè¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™</p>\n\n<p>æŒ™å‹•ã«å•é¡ŒãŒãªã•ãã†ã§ã‚ã‚Œã°ã€ä½œæˆã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¦å³ã‚¯ãƒªãƒƒã‚¯ -&gt; Compile Scriptã§exeãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™<br>\nä¸Šè¨˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ãŠã‘ã°Windowsèµ·å‹•æ™‚ã«è¨­å®šã•ã‚Œã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d10c4c4f9ddda11f19f7226f4699a7870941c8c6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130363235392f63326532613438642d383665662d663662632d393538372d3132306233616335363266642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc2e2a48d-86ef-f6bc-9587-120b3ac562fd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6bf71bb5620854bde0eafc9ed1c64dc8\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-05-26 16.23.59.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c2e2a48d-86ef-f6bc-9587-120b3ac562fd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F106259%2Fc2e2a48d-86ef-f6bc-9587-120b3ac562fd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fc8e1aaf98ca1be1ed7281467702ea55 1x\" loading=\"lazy\"></a></p>\n\n<p>ãªãŠã€Windows8.1ã§ã¯ã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ <code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp</code> ã«ãªã‚Šã¾ã™<br>\nProgramDataã¯éš ã—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãªã®ã§æ³¨æ„ã§ã™</p>\n\n<h1>\n<span id=\"ãŠã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ãŠã‚ã‚Šã«</h1>\n\n<p>ç°¡å˜ã§ã™ã­ï¼<br>\nãƒãƒƒãƒˆèª¿ã¹ã‚‹ã¨ã€åŒã˜ã‚ˆã†ãªã“ã¨ã‚’é•ã†ã‚½ãƒ•ãƒˆã‚„æ‰‹é †ã§ã‚„ã‚ã†ã¨ã—ã¦ã„ã‚‹è¨˜äº‹ã¯çµæ§‹å‡ºã¦ãã‚‹ã®ã§ã™ãŒã€<br>\nã©ã‚Œã‚‚ã„ã¾ã²ã¨ã¤ã†ã¾ãã„ã‹ãšã€çµæ§‹é å›ã‚Šã‚’ã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒ...</p>\n",
      "body": "# çµŒç·¯\n\næ™®æ®µã¯[Karabiner-Elements](https://github.com/tekezo/Karabiner-Elements)ã‚’ä½¿ã£ã¦ã€å³âŒ˜ã‚­ãƒ¼ã‚’ä½¿ã£ã¦ã‹ãªè‹±æ•°ã‚’ãƒˆã‚°ãƒ«åˆ‡ã‚Šè¿”ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€\nå…ˆæ—¥[Parallels Desktop](https://www.parallels.com/jp/products/desktop/)ã‚’è³¼å…¥ã—ã€Windows8.1ã‚’Macbookã®USã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰ä½¿ã†ã‚ˆã†ã«ãªã‚Šã€åŒã˜æ“ä½œæ„Ÿã§IMEåˆ‡ã‚Šæ›¿ãˆã‚’è¡Œã„ãŸã‹ã£ãŸãŸã‚ã€èª¿ã¹ã¦ã¿ã¾ã—ãŸ\n\n# ç’°å¢ƒ\n\nã©ã®ãã‚‰ã„ç´°ã‹ãæ›¸ã„ãŸã‚‰ã„ã„ã®ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒ...\n\n- Macbook Pro(13-inch, 2017)\n    - USã‚­ãƒ¼é…åˆ—ã§ã™\n- Windows 8.1\n    - ãƒ‡ãƒã‚¤ã‚¹ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã¦ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒ‰ãƒ©ã‚¤ãƒã‚’ `æ¨™æº– PS/2 101/102 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰` ã«è¨­å®š\n- Parallels Desktop 14\n    - ã“ã¡ã‚‰ã¯ãŸã¶ã‚“VirtualBoxãªã©ã§ã‚‚å¤‰ã‚ã‚‰ãªã„ã‚‚ã®ã¨æ€ã„ã¾ã™\n\n# æ‰‹é †\n\nã¾ãšã€ä»¥ä¸‹ã‚µã‚¤ãƒˆã«ã¦ã€å³âŒ˜ã‚’æŠ¼ã—ãŸã¨ãã«ã©ã®ä»®æƒ³ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã‹ã¨ã€\nå¤‰æ›æ™‚ã«ã©ã®ä»®æƒ³ã‚­ãƒ¼ã«ç´ã¥ã‘ã‚Œã°ã‚ˆã„ã‹ã‚’ç¢ºèªã—ã¾ã™\n\nhttps://keycode.info/\n\n![keycode.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/f5e7353b-09ee-4693-3880-f458ac4a7c76.png)\n\n[ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/moutend/items/07a7bd19783234bd4159)ã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€`` Alt + ` ``ã‚’æŠ¼ã™ã¨ã‹ãªã¨è‹±æ•°ãŒãƒˆã‚°ãƒ«ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã€\nãƒšãƒ¼ã‚¸ä¸Šã§ã‚­ãƒ¼ã‚’æŠ¼ä¸‹ã—ã¦ã¿ã‚‹ã¨ã€25ã¨ã„ã†ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒå‡ºã¦ãã¾ã—ãŸ\nåŒæ§˜ã«å³âŒ˜ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã¿ã‚‹ã¨ã€235ã¨ã„ã†ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã§ã—ãŸã®ã§ã€ã‚ã‚ã›ã¦è¦šãˆã¦ãŠãã¾ã™\n\nã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰235ã‚’25ã«å¤‰æ›ã™ã‚‹ã«ã‚ãŸã£ã¦ã¯ã€AutoHotKeyã¨ã„ã†ã‚½ãƒ•ãƒˆã‚’ä½¿ã„ã¾ã™\nä»¥ä¸‹ã‚µã‚¤ãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ä»»æ„ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§å¤‰æ›å®šç¾©ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã™\n\nhttps://www.autohotkey.com/\n\n`vkXX`ã®å½¢ã§ã€å…ˆã»ã©èª¿ã¹ãŸã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’16é€²æ•°ã«ã—ã€`å¤‰æ›å…ƒ::å¤‰æ›å…ˆ`ã®æ›¸å¼ã§è¨˜è¿°ã™ã‚‹ã¨ã€å¤‰æ›ãŒè¡Œã‚ã‚Œã‚‹ã¨ã®ã“ã¨ã§ã™\n1è¡Œç›®ã¯ãŠã¾ã˜ãªã„ã€è¡Œé ­ã‚»ãƒŸã‚³ãƒ­ãƒ³ã¯ã‚³ãƒ¡ãƒ³ãƒˆã ãã†ã§ã™ã€‚[èª¿ã¹ã‚‹ã¨è‰²ã€…ã§ã¦ãã¾ã™](http://ahkwiki.net/KeyList)ã®ã§èˆˆå‘³ã‚ã‚‹æ–¹ã¯ãœã²\n\nã‚ã¨ã€ç§å›ºæœ‰ã®å•é¡Œã‹åˆ†ã‹ã£ã¦ãªã„ã®ã§ã™ãŒã€ä½¿ã£ã¦ã„ã‚‹é€”ä¸­ã§å¤‰æ›ãŒè¡Œã‚ã‚Œãªããªã‚‹æ™‚ãŒã‚ã‚Šã€\nèª¿ã¹ã¦ã¿ã‚‹ã¨å³âŒ˜æŠ¼ä¸‹æ™‚ã«FF(255)ãŒé€ä¿¡ã•ã‚Œã¦ã„ã‚‹å ´åˆã‚‚ã‚ã£ãŸã®ã§ã€æ›¸ãè¶³ã—ã¦ã„ã¾ã™\nã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰ã®è§£èª¬ã¯ã€[ã“ã¡ã‚‰](http://kts.sakaiweb.com/virtualkeycodes.html)ãªã©è¦‹ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™\n\n```us-kana.ahk\n#UseHook\n\n;VK_OEM_PA1 -> VK_KANJI\nvkEB::vk19\nvkFF::vk19\n```\n\nä¸Šè¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ã€ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨AutoHotKeyã«èª­ã¿è¾¼ã¾ã‚Œã€å¤‰æ›ãŒè¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™\n\næŒ™å‹•ã«å•é¡ŒãŒãªã•ãã†ã§ã‚ã‚Œã°ã€ä½œæˆã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¦å³ã‚¯ãƒªãƒƒã‚¯ -> Compile Scriptã§exeãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\nä¸Šè¨˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ãŠã‘ã°Windowsèµ·å‹•æ™‚ã«è¨­å®šã•ã‚Œã¾ã™\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-05-26 16.23.59.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/c2e2a48d-86ef-f6bc-9587-120b3ac562fd.png)\n\nãªãŠã€Windows8.1ã§ã¯ã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ `C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\StartUp` ã«ãªã‚Šã¾ã™\nProgramDataã¯éš ã—ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãªã®ã§æ³¨æ„ã§ã™\n\n# ãŠã‚ã‚Šã«\n\nç°¡å˜ã§ã™ã­ï¼\nãƒãƒƒãƒˆèª¿ã¹ã‚‹ã¨ã€åŒã˜ã‚ˆã†ãªã“ã¨ã‚’é•ã†ã‚½ãƒ•ãƒˆã‚„æ‰‹é †ã§ã‚„ã‚ã†ã¨ã—ã¦ã„ã‚‹è¨˜äº‹ã¯çµæ§‹å‡ºã¦ãã‚‹ã®ã§ã™ãŒã€\nã©ã‚Œã‚‚ã„ã¾ã²ã¨ã¤ã†ã¾ãã„ã‹ãšã€çµæ§‹é å›ã‚Šã‚’ã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒ...\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-05-26T16:20:47+09:00",
      "group": null,
      "id": "8f320bf69c76090e93e7",
      "likes_count": 0,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 2,
      "tags": [
        {
          "name": "Windows",
          "versions": []
        },
        {
          "name": "AutoHotkey",
          "versions": []
        },
        {
          "name": "MacBook",
          "versions": []
        },
        {
          "name": "USã‚­ãƒ¼ãƒœãƒ¼ãƒ‰",
          "versions": []
        }
      ],
      "title": "USã‚­ãƒ¼ã®Macbookä¸Šã§å‹•ä½œã™ã‚‹Windowsã«ã¦ã€å³âŒ˜ã§ã‹ãªè‹±æ•°ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹",
      "updated_at": "2019-05-26T16:28:34+09:00",
      "url": "https://qiita.com/yktakaha4/items/8f320bf69c76090e93e7",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"çµŒç·¯\" class=\"fragment\"></span><a href=\"#%E7%B5%8C%E7%B7%AF\"><i class=\"fa fa-link\"></i></a>çµŒç·¯</h1>\n\n<p>ã‚€ã‹ãƒ¼ã—ã«å€‹äººçš„ã«è€³ã‚³ãƒ”ã—ã¦ä½œã£ãŸã‚²ãƒ¼ãƒ éŸ³æ¥½ãªã©ã®MIDIãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ä¹…ã€…ã«Macã§å†ç”Ÿã—ãŸããªã£ãŸãŸã‚ã«ãªã‚Šã¾ã™ğŸ‘¾</p>\n\n<p><a href=\"https://itunes.apple.com/jp/app/midiplayer-x/id954177929\" rel=\"nofollow noopener\" target=\"_blank\">GUIã®ã‚¢ãƒ—ãƒª</a>ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ãŒã€æœ‰æ–™ã ã£ãŸã®ã§ç„¡æ–™ã§ã§ãã‚‹æ–¹æ³•ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>æ–¹æ³•</h1>\n\n<p><a href=\"https://ja.wikipedia.org/wiki/SoundFont\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆ</a>ã‚’æ‰±ãˆã‚‹OSSã®ã‚·ãƒ³ã‚»ã‚µã‚¤ã‚¶ãƒ¼ã§ã‚ã‚‹<a href=\"https://ja.wikipedia.org/wiki/FluidSynth\" rel=\"nofollow noopener\" target=\"_blank\">FluidSynth</a>ã‚’ä½¿ã„ã¾ã™</p>\n\n<p>ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆã¯ãƒãƒƒãƒˆã‚’æ¼ã‚‹ã¨<del>æ€ªã—ã’ãªã‚‚ã®ãŒ</del>ã„ã‚ã„ã‚å‡ºã¦ãã¾ã™ãŒã€ä¾‹ãˆã°ä»¥ä¸‹ãªã©ãªã‚‰ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚‚æ˜ç¤ºã•ã‚Œã¦ãŠã‚Šè‰¯ã•ãã†ã§ã™(å†…å®¹ã¯ã”è‡ªèº«ã§ã”ç¢ºèªãã ã•ã„...)</p>\n\n<p><qiita-embed-ogp src=\"http://www.schristiancollins.com/generaluser.php\"></qiita-embed-ogp></p>\n\n<p><qiita-embed-ogp src=\"http://zandro.freeunixhost.com/opl3/\"></qiita-embed-ogp></p>\n\n<h1>\n<span id=\"æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ‰‹é †</h1>\n\n<p>äº‹å‰ã«<a href=\"https://qiita.com/pypypyo14/items/4bf3b8bd511b6e93c9f9\" id=\"reference-6806d5092bc9b11edb66\">Homebrew</a>ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã—ã‚‡ã†</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code># fluidsynthã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹\n~â¯ brew install fluid-synth --with-libsndfile\n\n# ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n~â¯ wget 'https://www.dropbox.com/s/4x27l49kxcwamp5/GeneralUser_GS_1.471.zip'\n~â¯ unzip GeneralUser_GS_1.471.zip\n</code></pre></div></div>\n\n<p>å†ç”Ÿãƒ»åœæ­¢ã¨ã€WAVãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code># Ctrl + Cã§åœæ­¢\n~â¯ fluidsynth -i \"GeneralUser GS 1.471/GeneralUser GS v1.471.sf2\" \"GeneralUser GS 1.471/demo MIDIs/All Night Long.mid\"\n\n# -Fã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›\n~â¯ fluidsynth -F out.wav -i \"GeneralUser GS 1.471/GeneralUser GS v1.471.sf2\" \"GeneralUser GS 1.471/demo MIDIs/All Night Long.mid\"\n# -Tã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¨®é¡ã®æŒ‡å®šã‚‚å¯(ä»¥ä¸‹ã§ä¸€è¦§ãŒå‡ºã¾ã™)\n~â¯ fluidsynth -T help\n\n# .bashrcãªã©ã§aliasã‚’ã¤ã‘ã‚‹ã¨æ¥½ã‹ã‚‚\nalias midigs=\"fluidsynth -i ~/path/to/sf2/GeneralUser\\ GS\\ v1.471.sf2\"\n</code></pre></div></div>\n\n<p>ã‚ˆãMIDIãƒ©ã‚¤ãƒ•ã‚’ï¼</p>\n",
      "body": "# çµŒç·¯\n\nã‚€ã‹ãƒ¼ã—ã«å€‹äººçš„ã«è€³ã‚³ãƒ”ã—ã¦ä½œã£ãŸã‚²ãƒ¼ãƒ éŸ³æ¥½ãªã©ã®MIDIãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ä¹…ã€…ã«Macã§å†ç”Ÿã—ãŸããªã£ãŸãŸã‚ã«ãªã‚Šã¾ã™ğŸ‘¾\n\n[GUIã®ã‚¢ãƒ—ãƒª](https://itunes.apple.com/jp/app/midiplayer-x/id954177929)ã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ãŒã€æœ‰æ–™ã ã£ãŸã®ã§ç„¡æ–™ã§ã§ãã‚‹æ–¹æ³•ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸ\n\n# æ–¹æ³•\n\n[ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆ](https://ja.wikipedia.org/wiki/SoundFont)ã‚’æ‰±ãˆã‚‹OSSã®ã‚·ãƒ³ã‚»ã‚µã‚¤ã‚¶ãƒ¼ã§ã‚ã‚‹[FluidSynth](https://ja.wikipedia.org/wiki/FluidSynth)ã‚’ä½¿ã„ã¾ã™\n\nã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆã¯ãƒãƒƒãƒˆã‚’æ¼ã‚‹ã¨~~æ€ªã—ã’ãªã‚‚ã®ãŒ~~ã„ã‚ã„ã‚å‡ºã¦ãã¾ã™ãŒã€ä¾‹ãˆã°ä»¥ä¸‹ãªã©ãªã‚‰ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚‚æ˜ç¤ºã•ã‚Œã¦ãŠã‚Šè‰¯ã•ãã†ã§ã™(å†…å®¹ã¯ã”è‡ªèº«ã§ã”ç¢ºèªãã ã•ã„...)\n\nhttp://www.schristiancollins.com/generaluser.php\n\nhttp://zandro.freeunixhost.com/opl3/\n\n# æ‰‹é †\n\näº‹å‰ã«[Homebrew](https://qiita.com/pypypyo14/items/4bf3b8bd511b6e93c9f9)ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã—ã‚‡ã†\n\n```\n# fluidsynthã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹\n~â¯ brew install fluid-synth --with-libsndfile\n\n# ã‚µã‚¦ãƒ³ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n~â¯ wget 'https://www.dropbox.com/s/4x27l49kxcwamp5/GeneralUser_GS_1.471.zip'\n~â¯ unzip GeneralUser_GS_1.471.zip\n```\n\nå†ç”Ÿãƒ»åœæ­¢ã¨ã€WAVãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™\n\n```\n# Ctrl + Cã§åœæ­¢\n~â¯ fluidsynth -i \"GeneralUser GS 1.471/GeneralUser GS v1.471.sf2\" \"GeneralUser GS 1.471/demo MIDIs/All Night Long.mid\"\n\n# -Fã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›\n~â¯ fluidsynth -F out.wav -i \"GeneralUser GS 1.471/GeneralUser GS v1.471.sf2\" \"GeneralUser GS 1.471/demo MIDIs/All Night Long.mid\"\n# -Tã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¨®é¡ã®æŒ‡å®šã‚‚å¯(ä»¥ä¸‹ã§ä¸€è¦§ãŒå‡ºã¾ã™)\n~â¯ fluidsynth -T help\n\n# .bashrcãªã©ã§aliasã‚’ã¤ã‘ã‚‹ã¨æ¥½ã‹ã‚‚\nalias midigs=\"fluidsynth -i ~/path/to/sf2/GeneralUser\\ GS\\ v1.471.sf2\"\n```\n\nã‚ˆãMIDIãƒ©ã‚¤ãƒ•ã‚’ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-01-06T01:37:29+09:00",
      "group": null,
      "id": "009306108b9c9fe06a37",
      "likes_count": 4,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 6,
      "tags": [
        {
          "name": "MacOSX",
          "versions": []
        },
        {
          "name": "MIDI",
          "versions": []
        }
      ],
      "title": "Macã§MIDIãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ç”Ÿ&WAVå‡ºåŠ›ã™ã‚‹",
      "updated_at": "2019-01-06T01:37:29+09:00",
      "url": "https://qiita.com/yktakaha4/items/009306108b9c9fe06a37",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p><a href=\"https://camo.qiitausercontent.com/d851e312e05eef64b4477ea0cc5c21f0255e5162/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f39623163613165652d646138372d616136642d633764622d3832623561323633396666642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9b1ca1ee-da87-aa6d-c7db-82b5a2639ffd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e3a7b387482e7dc55c1eb91d1c267959\" alt=\"ãŠãŸã®ã—ã¿ã‚¹ãƒ­ãƒƒãƒˆ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9b1ca1ee-da87-aa6d-c7db-82b5a2639ffd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9b1ca1ee-da87-aa6d-c7db-82b5a2639ffd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dc9d877271fdbeb75360ae92923ae43b 1x\" loading=\"lazy\"></a></p>\n\n<p>å‹äººğŸ‘°ãŒã“ã®åº¦ã‚ã§ãŸãçµå©šã™ã‚‹ã“ã¨ã¨ãªã‚Šã€å‹äººãƒ»çŸ¥äººå‘ã‘ã«ãƒ‘ãƒ¼ãƒ†ã‚£ãŒé–‹ã‹ã‚ŒãŸã®ã§ã™ãŒã€ãã®å¼ã®ä½™èˆˆã®ã²ã¨ã¤ã¨ã—ã¦ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã®åˆ¶ä½œã‚’ä¾é ¼ã•ã‚Œã€é–‹ç™ºã¨æœ¬ç•ªé‹ç”¨ï¼ˆè¨€ã„æ–¹ï¼‰ã‚’æ‹…å½“ã—ã¾ã—ãŸ</p>\n\n<p>ä»–äººã¨ä»•æ§˜ã‚’è©°ã‚ã¦å€‹äººé–‹ç™ºã—ãŸWebã‚¢ãƒ—ãƒªã¨ã—ã¦ã¯åˆã‚ã¦ã®ã‚‚ã®ã«ãªã‚‹ã®ã§ã€è‰²ã€…è‡³ã£ã¦ãªã„éƒ¨åˆ†ã‚‚å¤šã„ã§ã™ãŒã€ãã†ã—ãŸè«¸ã€…ã®å‚™å¿˜ã‚‚å…¼ã­ã¦æ›¸ãæ®‹ã—ãŸã„ã¨æ€ã„ã¾ã™ğŸ°</p>\n\n<h1>\n<span id=\"å—æ³¨\" class=\"fragment\"></span><a href=\"#%E5%8F%97%E6%B3%A8\"><i class=\"fa fa-link\"></i></a>å—æ³¨</h1>\n\n<p>ä»Šå¹´ã®æ¢…é›¨ã®é ƒã«çµå©šã™ã‚‹ã“ã¨ã‚’å‘‘ã¿ã®å¸­ã§åˆ‡ã‚Šå‡ºã•ã‚ŒãŸæ™‚ã€ç§ã¯ã¡ã‚‡ã†ã©é€€è·ã«å‘ã‘ã¦æº–å‚™ã‚’é€²ã‚ã¦ã„ãŸã¨ã“ã‚ã§ã€å¤ã®é–“ã«æ•°ãƒ¶æœˆã®ä¼‘ã¿ã‚’å–ã‚‹ã¤ã‚‚ã‚Šã§ã„ã¾ã—ãŸ</p>\n\n<p>ãã®é–“ã‚’ç„¡ç‚ºã«éã”ã™ã“ã¨ã‚’å‘³æ°—ãªãæ€ã„ã€ã€Œã—ã°ã‚‰ãæš‡ã ã—ãªã‚“ãªã‚‰ä½™èˆˆã§ã‚‚ä½œã£ãŸã’ã‚‹ã‚ˆğŸ˜ã€ã¨è»½ã„æ°—æŒã¡ã§è¨€ã„ãŠã„ã¦ãã®å ´ã¯çµ‚ã‚ã£ãŸã®ã§ã™ãŒã€å¾Œæ—¥é€£çµ¡ã‚’ã‚‚ã‚‰ã„ã€å†¬ã«é–‹ã‹ã‚Œã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã«å‘ã‘ã¦ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã»ã—ã„ã€ã¨æ”¹ã‚ã¦ä¾é ¼ã‚’å—ã‘ã¾ã—ãŸ</p>\n\n<p>å‰è·ã§ã¯Webã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ãŸã“ã¨ã¨ã€å½“æ—¥ã¾ã§åŠå¹´è¿‘ãæœŸé–“ãŒã‚ã£ãŸãŸã‚ã€ã¾ã‚ãªã‚“ã¨ã‹ãªã‚‹ã ã‚ã†ã¨è»½ã„æ°—æŒã¡ã§æ‰¿è«¾ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"è¦ä»¶å®šç¾©\" class=\"fragment\"></span><a href=\"#%E8%A6%81%E4%BB%B6%E5%AE%9A%E7%BE%A9\"><i class=\"fa fa-link\"></i></a>è¦ä»¶å®šç¾©</h1>\n\n<p>ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹ã§2æ™‚é–“ã»ã©å½¼å¥³ã¨è©±ã—ãŸã¨ã“ã‚ã€ãŠãŠã‚ˆãä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’è¨€ã‚ã‚Œã¾ã—ãŸ</p>\n\n<ul>\n<li>ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚°ãƒ‘ãƒ¼ãƒ†ã‚£ã«æ¥ã¦ãã‚ŒãŸäººã«ã€ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã§æ™¯å“ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã—ãŸã„\n\n<ul>\n<li>è‰²ã€…ãªã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆåœ°å…ƒã®å‹é”ã€ä¼šç¤¾ã®åŒåƒšã€ç¤¾ä¼šäººã‚µãƒ¼ã‚¯ãƒ«ã®æ–¹ã€…...ãªã©ï¼‰ã‹ã‚‰ã€ã‚ã‚ã›ã¦70~80äººãã‚‰ã„ã®äººã‚’æ‹›å¾…ã™ã‚‹ã¤ã‚‚ã‚Š</li>\n</ul>\n</li>\n<li>æ™¯å“ã«ã¯å½“ãŸã‚Šï¼ˆå¸ƒå›£ä¹¾ç‡¥æ©Ÿã¨ã‹...ï¼‰ã¨ãƒã‚ºãƒ¬ï¼ˆæ„›ç”¨ã®ã¤ã‘ã¾ã¤ã’ã¨ã‹...ï¼‰ã‚’ãã‚Œãã‚Œã„ãã¤ã‹ç”¨æ„ã™ã‚‹</li>\n<li>æ‹›å¾…çŠ¶ï¼ˆ<a href=\"https://biluce.net/\" rel=\"nofollow noopener\" target=\"_blank\">Biluce</a>ã¨ã„ã†Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ã¾ã—ãŸï¼‰ã®è¿”ä¿¡ã‚’ã‚‚ã‚‰ã†éš›ã«å‚åŠ è€…ã«ç”»åƒã‚’æ·»ä»˜ã—ã¦ã‚‚ã‚‰ã„ã€ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã§ä½¿ã„ãŸã„</li>\n<li>æ™¯å“ã‚‚ç”»åƒã§ç”¨æ„ã—ãŸã„</li>\n<li>å½“æ—¥ã®ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæ“ä½œã¯ç§ï¼ˆç­†è€…ï¼‰ã«ã‚„ã£ã¦ã»ã—ã„</li>\n<li>å½“æ—¥ãƒ‰ã‚¿ã‚­ãƒ£ãƒ³ã‚„äººæ•°å¢—åŠ ãªã©ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€å‚åŠ è€…ã®å¢—æ¸›ã¯ã‚²ãƒ¼ãƒ ç›´å‰ã¾ã§æŸ”è»Ÿã«å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„</li>\n</ul>\n\n<p>ãã‚“ãªã¨ã“ã‚ã ã‚ã†ã¨ã„ã†æ„Ÿã˜ã§ã™ãŒã€é¢ç™½ã‹ã£ãŸã®ãŒä»¥ä¸‹ã§ã—ãŸ</p>\n\n<ul>\n<li>ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®å‡ºç›®ã‚’åˆ¶å¾¡ã—ãŸã„\n\n<ul>\n<li>ãƒã‚ºãƒ¬ã®æ™¯å“ã‚’ç¤¾ä¼šäººã‚µãƒ¼ã‚¯ãƒ«ã®é‡é®ã®æ–¹ã‚„å¤§äººã—ã„å‹é”ã«å½“ã¦ã‚‹ã¨æ°—ã¾ãšã„ã®ã§ã€ã‚ã‚‹æ™¯å“ã‚’ç‰¹å®šã®æ‰€å±ã®äººã‚„å€‹äººã«ã¯å½“ã¦ãªã„ã‚ˆã†ã«ã—ãŸã„</li>\n<li>ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«å‚åŠ äººæ•°ã«å·®ãŒã‚ã‚‹ãŒã€æ™¯å“ã®å½“ãŸã‚‹å›æ•°ã¯ã‚°ãƒ«ãƒ¼ãƒ—é–“ã§ãªã‚‹ã¹ãå‡ä¸€ã«ã—ãŸã„</li>\n</ul>\n</li>\n</ul>\n\n<p>è¦ã¯ã€å¿–åº¦ã—ãŸã„ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚æ°—é£ã„ã®ã§ãã‚‹è‰¯å¦»ã¨ãªã‚‹ã“ã¨ã§ã—ã‚‡ã†ï¼ˆé©å½“ï¼‰</p>\n\n<h1>\n<span id=\"è¨­è¨ˆ\" class=\"fragment\"></span><a href=\"#%E8%A8%AD%E8%A8%88\"><i class=\"fa fa-link\"></i></a>è¨­è¨ˆ</h1>\n\n<p>å®¶ã«å¸°ã£ã¦ã€æ—©é€Ÿã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã¾ã—ãŸã€‚äº‹å‰ã«æ–°å©¦ã«å‚åŠ è€…ãŠã‚ˆã³æ™¯å“ã®ç™»éŒ²ã‚„ã€ã‚¢ãƒ—ãƒªã®å‹•ä½œç¢ºèªã‚’ã—ã¦ã‚‚ã‚‰ã†ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€Webã‚¢ãƒ—ãƒªã¨ã—ã¦å®Ÿè£…ã—ã¦ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§å…¬é–‹ã™ã‚‹ã®ãŒã‚ˆã•ãã†ã§ã™â›…ï¸</p>\n\n<p>ã¾ãŸã€ãƒ‡ãƒ¼ã‚¿ã®å‚ç…§ã€æ›´æ–°ãŒè¤‡æ•°äººã‹ã‚‰é »ç¹ã«è¡Œã‚ã‚Œã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã¯ãªã„ã®ã§ã€ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã¯ãªã‚‹ã¹ãç°¡ä¾¿ã«æ¸ˆã¾ã›ã¦ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„æŒ™å‹•ã®èª¿æ•´ã«æ³¨åŠ›ã™ã¹ãã§ã—ã‚‡ã†</p>\n\n<p>...ã¨ã€ã„ã†ã‚ˆã†ãªã“ã¨è€ƒãˆãªãŒã‚‰ä½œã‚Šé€²ã‚ã¦ã„ã£ãŸã¨ã“ã‚ã€æœ€çµ‚çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸ</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/3dc32bb9474d03c96604f57f00b41fed8a9669e7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f33663736663061312d623533662d303835312d393837622d3962663839393066353931372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"876\" alt=\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F3f76f0a1-b53f-0851-987b-9bf8990f5917.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=357c6d17b961637261ed2ea1bf691da8\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/3f76f0a1-b53f-0851-987b-9bf8990f5917.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F3f76f0a1-b53f-0851-987b-9bf8990f5917.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a0f748dde0048b9e0b9ef22f192f53e3 1x\" loading=\"lazy\"></a></p>\n\n<p>æ®µå–ã‚Šã¨ã—ã¦ã¯ã“ã‚“ãªã¨ã“ã‚ã§ã™</p>\n\n<ol>\n<li>æ–°å©¦ã«ã¦ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å‚åŠ è€…ã®åå‰ã¨æ™¯å“åã€NGãƒ«ãƒ¼ãƒ«ã‚’å…¥åŠ›ã™ã‚‹</li>\n<li>æ–°å©¦ã«ã¦ã€ã‚·ã‚¹ãƒ†ãƒ ã«å‚åŠ è€…ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ç™»éŒ²ã™ã‚‹</li>\n<li>ç­†è€…ã«ã¦ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼å½“æ—¥ã«æŠ½é¸ã‚’ãŠã“ãªã„ã€çµæœã‚’ã‚‚ã¨ã«ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹</li>\n<li>å‚åŠ è€…ã¯æ™¯å“ã‚’æ‰‹ã«ã—ã¦å¤§å–œã³ï¼ğŸ¥³ğŸ</li>\n</ol>\n\n<h1>\n<span id=\"å®Ÿè£…\" class=\"fragment\"></span><a href=\"#%E5%AE%9F%E8%A3%85\"><i class=\"fa fa-link\"></i></a>å®Ÿè£…</h1>\n\n<p>è¨­è¨ˆã¨æ¯”è¼ƒã—ãªãŒã‚‰ã€ã²ã¨ã¤ãšã¤æ›¸ã„ã¦ã„ãã¾ã™</p>\n\n<h2>\n<span id=\"google-spreadsheet\" class=\"fragment\"></span><a href=\"#google-spreadsheet\"><i class=\"fa fa-link\"></i></a>Google Spreadsheet</h2>\n\n<p>æ–°å©¦ã¨Googleãƒ‰ãƒ©ã‚¤ãƒ–ã‚’å…±æœ‰ã—ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å€¤ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã„ã¾ã™<br>\nç”»åƒIDï¼ˆï¼‘ç®‡æ‰€URLã¦æ›¸ã„ã¦ã¾ã™ãŒ...ï¼‰ã«ã¤ã„ã¦ã¯ã‚ã¨ã§èª¬æ˜ã—ã¾ã™</p>\n\n<p><strong>æ™¯å“ä¸€è¦§ã‚·ãƒ¼ãƒˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/a674532c7e3218fcd9bfcfb8b7d2eff096350a8a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f31323864623936312d623736342d363032622d313035382d3830666462303132373431362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F128db961-b764-602b-1058-80fdb0127416.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b02de45646c85768a72472adad50d20d\" alt=\"æ™¯å“ä¸€è¦§\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/128db961-b764-602b-1058-80fdb0127416.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F128db961-b764-602b-1058-80fdb0127416.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=12dc1d789f878af5536f1782e76cb064 1x\" loading=\"lazy\"></a></p>\n\n<p><strong>NGãƒ«ãƒ¼ãƒ«ä¸€è¦§ã‚·ãƒ¼ãƒˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/732e7a586b720158378f484099d8450503cea59f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f36623439646630302d316563372d323263342d623230622d6336353836383463636230662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F6b49df00-1ec7-22c4-b20b-c658684ccb0f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=58707e8827da8ef959fb8536b686c0ed\" alt=\"NGãƒ«ãƒ¼ãƒ«ä¸€è¦§\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/6b49df00-1ec7-22c4-b20b-c658684ccb0f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F6b49df00-1ec7-22c4-b20b-c658684ccb0f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=05ea8ca6acbd12a0688ab8344bb9525c 1x\" loading=\"lazy\"></a></p>\n\n<p><strong>äººç‰©ä¸€è¦§ã‚·ãƒ¼ãƒˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/9bda505d8c8e78e74272dc92a7f612b4ee12b712/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f39666136636439332d656465342d343965652d613937662d3237343964316534323535392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9fa6cd93-ede4-49ee-a97f-2749d1e42559.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7054d7aaa3b596bc1146a61865fc7bc0\" alt=\"äººç‰©ä¸€è¦§\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9fa6cd93-ede4-49ee-a97f-2749d1e42559.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9fa6cd93-ede4-49ee-a97f-2749d1e42559.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3983547a0a6bd0d52e67cc43b3b3f100 1x\" loading=\"lazy\"></a></p>\n\n<p>ä¸Šè¨˜ã‚·ãƒ¼ãƒˆã«å…¥åŠ›å¾Œã€ã€ŒæŠ½é¸ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€NGãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦æŠ½é¸ã‚’è¡Œã£ãŸçµæœã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆ<a href=\"https://stepism.sakura.ne.jp/adiary/036\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®ã‚ˆã†ã«ã™ã‚‹ã¨å®Ÿè£…ã§ãã¾ã™ï¼‰</p>\n\n<p><strong>æŠ½é¸ã‚·ãƒ¼ãƒˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/445277e8987b07a6c909cf0f2d19016098910791/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f63363830313761352d376335312d656537372d383766312d6163343136666132663337632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc68017a5-7c51-ee77-87f1-ac416fa2f37c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=beafc9d31f988dd7cb545f3dc63bd304\" alt=\"æŠ½é¸\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/c68017a5-7c51-ee77-87f1-ac416fa2f37c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc68017a5-7c51-ee77-87f1-ac416fa2f37c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4708993dbd4fd69c8b686fbbbf720e0d 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"google-active-script\" class=\"fragment\"></span><a href=\"#google-active-script\"><i class=\"fa fa-link\"></i></a>Google Active Script</h2>\n\n<p>ã€Œè¡¨ç¤ºã—ã¾ã™ã€ã¨ã—ã‚Œã£ã¨æ›¸ãã¾ã—ãŸãŒã€ã“ã¡ã‚‰ã¯GASã«ã‚ˆã‚Šå®Ÿç¾ã—ã¾ã™<br>\nNGãƒ«ãƒ¼ãƒ«ã‚·ãƒ¼ãƒˆã‚’å‚ç…§ã—ã¤ã¤æŠ½é¸ã‚’ãŠã“ãªã†drawLots()ã¨ã€æŠ½é¸çµæœã‚’å„ç¨®ä¸€è¦§ãƒ‡ãƒ¼ã‚¿ã¨ä½µã›ã¦JSONå½¢å¼ã§è¿”å´ã™ã‚‹doPost()ã‚’å®Ÿè£…ã—ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">doPost()</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kd\">function</span> <span class=\"nx\">doPost</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">response</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">error</span><span class=\"dl\">\"</span> <span class=\"p\">};</span>\n\n  <span class=\"k\">try</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">token</span> <span class=\"o\">=</span> <span class=\"nx\">SpreadsheetApp</span><span class=\"p\">.</span><span class=\"nx\">getActive</span><span class=\"p\">().</span><span class=\"nx\">getSheetByName</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">æŠ½é¸</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getRange</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">B1</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getValue</span><span class=\"p\">();</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">s3_credential</span> <span class=\"o\">=</span> <span class=\"nx\">SpreadsheetApp</span><span class=\"p\">.</span><span class=\"nx\">getActive</span><span class=\"p\">().</span><span class=\"nx\">getSheetByName</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">æŠ½é¸</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getRange</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">C1</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getValue</span><span class=\"p\">();</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">s3_bucket</span> <span class=\"o\">=</span> <span class=\"nx\">SpreadsheetApp</span><span class=\"p\">.</span><span class=\"nx\">getActive</span><span class=\"p\">().</span><span class=\"nx\">getSheetByName</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">æŠ½é¸</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getRange</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">D1</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">getValue</span><span class=\"p\">();</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">url_prefix</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">https://s3.amazonaws.com/</span><span class=\"dl\">\"</span> <span class=\"o\">+</span> <span class=\"nx\">s3_bucket</span> <span class=\"o\">+</span> <span class=\"dl\">\"</span><span class=\"s2\">/</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">parameter</span><span class=\"p\">.</span><span class=\"nx\">token</span> <span class=\"o\">==</span> <span class=\"nx\">token</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"nx\">response</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"na\">ok</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">ok</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">persons</span><span class=\"p\">:</span> <span class=\"nx\">getPersons</span><span class=\"p\">(</span><span class=\"nx\">url_prefix</span><span class=\"p\">),</span>\n        <span class=\"na\">gifts</span><span class=\"p\">:</span> <span class=\"nx\">getGifts</span><span class=\"p\">(</span><span class=\"nx\">url_prefix</span><span class=\"p\">),</span>\n        <span class=\"na\">lots</span><span class=\"p\">:</span> <span class=\"nx\">getLots</span><span class=\"p\">(),</span>\n        <span class=\"na\">s3_credential</span><span class=\"p\">:</span> <span class=\"nx\">s3_credential</span><span class=\"p\">,</span>\n        <span class=\"na\">s3_bucket</span><span class=\"p\">:</span> <span class=\"nx\">s3_bucket</span>\n      <span class=\"p\">};</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span> <span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"nx\">ContentService</span>\n    <span class=\"p\">.</span><span class=\"nx\">createTextOutput</span><span class=\"p\">(</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">response</span><span class=\"p\">))</span>\n    <span class=\"p\">.</span><span class=\"nx\">setMimeType</span><span class=\"p\">(</span><span class=\"nx\">ContentService</span><span class=\"p\">.</span><span class=\"nx\">MimeType</span><span class=\"p\">.</span><span class=\"nx\">JSON</span><span class=\"p\">);</span> \n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>çœŸé¢ç›®ã«æ›¸ãã«ã¯è²§å¼±ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®JavaScript&amp;ã‚¨ãƒ‡ã‚£ã‚¿ã‚’å·®ã—å¼•ã„ã¦ã‚‚ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨REST APIã‚’æ‰‹è»½ã«æ‰±ãˆã‚‹ã¨ã„ã†GASã¯ç›¸å½“ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã„ã¾ã™<br>\nAPIã‚‚ã©ã“ã¨ãªãé¦´æŸ“ã¿ã®ã‚ã‚‹IFã§ã™ã—... <del>ã‚„ã£ã¦ã¦ã‚ˆã‹ã£ãŸVBA</del></p>\n\n<p>ã‚ã¨ã“ã‚Œã¯é–‹ç™ºã—ã¦ã‹ã‚‰çŸ¥ã£ãŸã®ã§ã™ãŒã€<a href=\"https://qiita.com/rf_p/items/7492375ddd684ba734f8\" id=\"reference-33a8ad49767fa43c966d\">GASã‚’Gitç®¡ç†ã§ããŸã‚Š</a>ã€<a href=\"https://tech.actindi.net/2018/09/10/083314\" rel=\"nofollow noopener\" target=\"_blank\">TypeScriptã§ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ãŸã‚Š</a>ãªã©ã€ç’°å¢ƒãŒã ã„ã¶æ•´ã£ã¦ãã¦ã„ã‚‹ã‚ˆã†ã§ã™ã®ã§ã€æ©Ÿä¼šã‚’è¦‹ã¤ã‘ã¦è§¦ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™</p>\n\n<p>ãŸã ã€ç›¸å½“ã ã‚‰ã ã‚‰ã‚„ã£ã¦ã„ãŸãŸã‚ã€ã“ã®æ®µéšã§ã‚ã¦ã«ã—ã¦ã„ãŸä¼‘ã¿ã‚’ä½¿ã„åˆ‡ã£ã¦ã—ã¾ã„ã€ä»¥é™ã¯åƒãã¤ã¤æš‡ã‚’è¦‹ã¤ã‘ã¦ä½œã‚‹ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸ...</p>\n\n<h2>\n<span id=\"aws-s3--cognito\" class=\"fragment\"></span><a href=\"#aws-s3--cognito\"><i class=\"fa fa-link\"></i></a>AWS S3 / Cognito</h2>\n\n<p>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¯Googleãƒ‰ãƒ©ã‚¤ãƒ–&amp;GASã§ã¾ã‹ãªãˆã¾ã—ãŸãŒã€<br>\nã‚¹ãƒ­ãƒƒãƒˆç”»é¢ãŠã‚ˆã³ç”»åƒã€éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®Webå…¬é–‹ã¨ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«ã¤ã„ã¦ã€ã©ã®ã‚ˆã†ã«å®Ÿç¾ã™ã‚‹ã‹è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</p>\n\n<p><a href=\"https://www.hands-lab.com/\" rel=\"nofollow noopener\" target=\"_blank\">è»¢è·å…ˆ</a>ã§AWSã‚’ä½¿ã†ä¸­ã§ã€ S3ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤–éƒ¨å…¬é–‹ã™ã‚‹<a href=\"https://qiita.com/gcsungwoo/items/2e49c3008a04e48581ed\" id=\"reference-ae3aadf2fa43a83b1310\">é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°</a>ã‚’çŸ¥ã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºçš„ã«åˆ©ç”¨æ–™ã‚‚ã‹ã‹ã‚‰ãšè‰¯ã•ãã†ã ã£ãŸã®ã§ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ</p>\n\n<p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã¯ã€<a href=\"https://www.selfree.co.jp/2015/06/18/%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%81%A7javascript-%E3%81%A0%E3%81%91%E3%81%A7%E7%94%BB%E5%83%8F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã‚’å‚è€ƒã«ã€Cognitoã§é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã‚‹ãƒã‚±ãƒƒãƒˆã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¨©é™ã‚’ç¢ºèªã™ã‚‹ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã—ãŸ<br>\nåˆ©ç”¨ã®éš›ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚„æ¥ç¶šã«å¿…è¦ãªæƒ…å ±ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€HTMLã«ã¯åŸ‹ã‚è¾¼ã¾ãšã€GASã®APIã‹ã‚‰è¿”å´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¥ç¶šæƒ…å ±ã®ç”Ÿæˆ</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">sontaku</span><span class=\"p\">.</span><span class=\"nx\">props</span><span class=\"p\">.</span><span class=\"nx\">s3client</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">AWS</span><span class=\"p\">.</span><span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">region</span> <span class=\"o\">=</span> <span class=\"nx\">sontaku</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">s3_credential</span><span class=\"p\">.</span><span class=\"nx\">split</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">:</span><span class=\"dl\">\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">];</span>\n  <span class=\"nx\">AWS</span><span class=\"p\">.</span><span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">credentials</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">AWS</span><span class=\"p\">.</span><span class=\"nx\">CognitoIdentityCredentials</span><span class=\"p\">({</span>\n    <span class=\"na\">IdentityPoolId</span><span class=\"p\">:</span> <span class=\"nx\">sontaku</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">s3_credential</span>\n  <span class=\"p\">});</span>\n  <span class=\"k\">return</span> <span class=\"k\">new</span> <span class=\"nx\">AWS</span><span class=\"p\">.</span><span class=\"nx\">S3</span><span class=\"p\">({</span>\n    <span class=\"na\">params</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"na\">Bucket</span><span class=\"p\">:</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">s3_bucket</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">};</span>\n</code></pre></div>\n</div>\n\n<h1>\n<span id=\"ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢\" class=\"fragment\"></span><a href=\"#%E3%82%B9%E3%83%AD%E3%83%83%E3%83%88%E6%93%8D%E4%BD%9C%E7%94%BB%E5%83%8F%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E7%94%BB%E9%9D%A2\"><i class=\"fa fa-link\"></i></a>ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œ/ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢</h1>\n\n<p>ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©ã¯å¤§ä½“å®šã¾ã£ãŸã®ã§ã€è‚å¿ƒã®ã‚¹ãƒ­ãƒƒãƒˆç”»é¢å‘¨ã‚Šã‚’ä½œã£ã¦ã„ãã¾ã™<br>\nå…ˆã»ã©å›³ã§ç¤ºã—ãŸã‚ˆã†ã«ã€ã‚¹ãƒ­ãƒƒãƒˆã¯ãƒ‘ãƒ¼ãƒ†ã‚£ä¼šå ´ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ã«å…¨ç”»é¢è¡¨ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã ã‘ã ã¨ã‚¹ã‚¿ãƒ¼ãƒˆ/ã‚¹ãƒˆãƒƒãƒ—ã®æŒ‡ç¤ºã‚’å‡ºã™ã®ãŒé›£ã—ã„ãŸã‚ã€<br>\nã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã‚’ä½œã£ã¦ã€ãã“ã‹ã‚‰ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã®æŒ™å‹•ã‚’åˆ¶å¾¡ã—ã¾ã™</p>\n\n<p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹æ–¹æ³•ã¯ã€å½“åˆã¯WebSocketã«ã—ãŸã‚‰ç¾åœ°ã«ã„ãªãã¦ã‚‚é éš”æ“ä½œã§ãã‚‹ã‚“ã˜ã‚ƒ...ã¨ã‹è‰²ã€…è€ƒãˆã¾ã—ãŸãŒã€æœ€çµ‚çš„ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã‹ã‚‰ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã‚’èµ·å‹•ã—ã€windowã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›´æ¥ã„ã˜ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ<br>\nãƒ€ã‚µã„ã§ã™ãŒã€æ‰‹é–“ã‚‚ã‹ã‹ã‚‰ãšç¢ºå®Ÿæ€§ã®é«˜ã„ã‚„ã‚Šæ–¹ã ã¨æ€ã£ã¦ã¾ã™</p>\n\n<p>S3ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã•ã‚ŒãŸã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã‹ã‚‰GASã®REST APIã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€æŠ½é¸çµæœã‚„å‚åŠ è€…ä¸€è¦§ã€æ™¯å“ä¸€è¦§ã®å…¥ã£ãŸJSONã‚’å–å¾—ã—ã¾ã™<br>\nã“ã¡ã‚‰ã®ç”»é¢ã®ã€Œèµ·å‹•ã€ã€ã€Œæº–å‚™ã€ã€ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ã¨ã„ã£ãŸå„ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§ã€ã“ã®å¾Œèª¬æ˜ã™ã‚‹ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã®è¡¨ç¤ºçŠ¶æ…‹ã‚’åˆ¶å¾¡ã—ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/1f5009e26dd2b1b68dc91d0573b7fd648c53a99f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f61303130326631382d623336342d613761322d656237322d3538623532663930366134642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fa0102f18-b364-a7a2-eb72-58b52f906a4d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5e3979b0729ab715b96f5f32a8ba5504\" alt=\"ã‚³ãƒ³ã‚½ãƒ¼ãƒ«\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/a0102f18-b364-a7a2-eb72-58b52f906a4d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fa0102f18-b364-a7a2-eb72-58b52f906a4d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d42531b1e380691e867d9c77b54c167f 1x\" loading=\"lazy\"></a></p>\n\n<p>ã¾ãŸã€REST APIã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«Cognitoã®èªè¨¼IDã‚’å—ã‘å–ã£ã¦ã„ã‚‹ãŸã‚ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«ã¤ã„ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‰ãšå‹•ä½œã•ã›ã‚‰ã‚Œã¾ã™<br>\nãªãŠã€ç”»åƒIDã¯ã€<a href=\"https://github.com/ericelliott/cuid\" rel=\"nofollow noopener\" target=\"_blank\">cuid</a>ã‚’ä½¿ã£ã¦ç™ºç•ªã—ã¦ã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/c5c01bf74619f3da809ffacfaa2b0ec82e94cbb9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f63363333393134382d636136662d613436662d663064352d3465663835666631613065382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc6339148-ca6f-a46f-f0d5-4ef85ff1a0e8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c8bbc7b12ae9b2b988ceb38f343c511a\" alt=\"ç”»åƒã‚¢ãƒƒãƒ•ã‚šãƒ­ãƒ¼ãƒˆã‚™\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/c6339148-ca6f-a46f-f0d5-4ef85ff1a0e8.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc6339148-ca6f-a46f-f0d5-4ef85ff1a0e8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=282270c4cb2108d0536437a1c4f55895 1x\" loading=\"lazy\"></a><br>\n<a href=\"https://camo.qiitausercontent.com/3dfef1b295a4ec2a909fdda3e6ec72be9c2fa048/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f34613063303432322d396335332d626534392d313030362d6233376632393334303536612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F4a0c0422-9c53-be49-1006-b37f2934056a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3f5e4b738254c68cb19fa2a3bedaab16\" alt=\"ç”»åƒ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/4a0c0422-9c53-be49-1006-b37f2934056a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F4a0c0422-9c53-be49-1006-b37f2934056a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b0beeaba7c3df54d04b865d6cadfc62c 1x\" loading=\"lazy\"></a></p>\n\n<p>UIã«ã¤ã„ã¦ã¯ã€Bootstrapç”¨CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®<a href=\"http://designmodo.github.io/Flat-UI/\" rel=\"nofollow noopener\" target=\"_blank\">Flat UI</a>ã‚’ä½¿ã£ã¦ã¿ãŸã®ã¨ã€ï¼ˆä½¿ã„ã“ãªã›ã¦ã„ã¾ã›ã‚“ãŒï¼‰SASSã‚’<a href=\"http://koala-app.com/\" rel=\"nofollow noopener\" target=\"_blank\">Koala</a>ã‚’ä½¿ã„ã¤ã¤æ›¸ãã¾ã—ãŸã€‚<a href=\"https://qiita.com/yktakaha4/items/e535c310f0532798e721\" id=\"reference-b440a15c47c7fe383d68\">å‰å›</a>ã¯Pingendoã«ä»˜å±ã—ã¦ã„ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é©å½“ã«çµ„ã¿åˆã‚ã›ã¦ã„ãŸã ã‘ã ã£ãŸã®ã§ã€å¤šå°‘é€²æ­©ãŒã‚ã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™<br>\nJavaScriptã«ã¤ã„ã¦ã¯ã€ä¾ç„¶ã¨ã—ã¦jQueryãŠã˜ã•ã‚“ã‚’æŠœã‘å‡ºã›ãšã«ã„ã¾ã™...2019å¹´ä¸­ã«ã¯ã‚‚ã†ã¡ã‚‡ã£ã¨ãƒ¢ãƒ€ãƒ³ãªæ›¸ãæ–¹ã«è¿½ã„ã¤ããŸã„ã¨æ€ã„ã¾ã™</p>\n\n<h1>\n<span id=\"ã‚¹ãƒ­ãƒƒãƒˆç”»é¢\" class=\"fragment\"></span><a href=\"#%E3%82%B9%E3%83%AD%E3%83%83%E3%83%88%E7%94%BB%E9%9D%A2\"><i class=\"fa fa-link\"></i></a>ã‚¹ãƒ­ãƒƒãƒˆç”»é¢</h1>\n\n<p>ã„ã‚ˆã„ã‚ˆè‚å¿ƒã®ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã«ãªã‚Šã¾ã™ã€‚æ“ä½œç”»é¢ã«ã¦ã‚¹ãƒ­ãƒƒãƒˆç”»é¢è¡¨ç¤ºãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æ–°å©¦æŒ‡å®šã®ç”»åƒãŒå›ã‚Šã¯ã˜ã‚ã¾ã™ï¼ˆMacã®ãƒ•ã‚¡ãƒ³ã‚‚å‡„ã„å‹¢ã„ã§å›ã‚Šã¾ã™ğŸŒªï¼‰</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/dd0484552838e458af7f981330c4b40a41ae5a72/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38393136323830622d356432352d646332652d383166652d3862643066393662613864662e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8916280b-5d25-dc2e-81fe-8bd0f96ba8df.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6e505f151ad9fdd65f0a277f214cbc46\" alt=\"ã‚¹ãƒ­ãƒƒãƒˆç”»é¢\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/8916280b-5d25-dc2e-81fe-8bd0f96ba8df.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8916280b-5d25-dc2e-81fe-8bd0f96ba8df.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a79a7ead39812fcba8f18c8c770ac7f1 1x\" loading=\"lazy\"></a></p>\n\n<p>ã‚¹ãƒ­ãƒƒãƒˆã®ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¹ãƒˆãƒƒãƒ—ã‚’ç¹°ã‚Šè¿”ã—ãªãŒã‚‰ã€ã€Œä¼šç¤¾ã€ã®ã€Œé«˜æ©‹ã€æ§˜ã«ã€Œé¸ã¹ã‚‹ç¥æˆ¸ç‰›ã€ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ...ã¿ãŸã„ãªæ„Ÿã˜ã§ã€äºˆã‚æ±ºã‚ã¦ãŠã„ãŸæŠ½é¸çµæœã‚’é †ç•ªã«ç”»é¢è¡¨ç¤ºã—ã¦ã...ã¨ã„ã†ã‚‚ã®ã«ãªã‚Šã¾ã™</p>\n\n<p>ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã¯Bootstrapã‚’ä½¿ã„ã¾ã—ãŸãŒã€ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ç”¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ä½¿ã‚ãšã€ç´ ã®HTML/CSSã¨jQueryã§é ‘å¼µã‚‹ã¨ã„ã†æ–¹é‡ã§ä½œã‚Šã¾ã—ãŸ<br>\nå˜ã«ä½¿ã„ã‚ˆã•ãã†ãªã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã€ã¨ã„ã†ã ã‘ãªã®ã§ã™ãŒã€ä»Šå›ã¿ãŸã„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã£ã¦ã‚ã‚‹ã‚“ã§ã—ã‚‡ã†ã‹...ï¼Ÿ</p>\n\n<h2>\n<span id=\"css\" class=\"fragment\"></span><a href=\"#css\"><i class=\"fa fa-link\"></i></a>CSS</h2>\n\n<p>ä»Šå›ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§åœ°å‘³ã«è‹¦åŠ´ã—ãŸã®ãŒã€ã€Œã©ã®ã‚ˆã†ãªç¸¦æ¨ªæ¯”ã‚’æƒ³å®šã—ã¦è¦ç´ ã‚’é…ç½®ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿã€ã¨ã„ã†ã“ã¨ã§ã—ãŸ<br>\nä¾‹ãˆã°Bootstrapã§ã‚ã‚Œã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å¹…ã‚’åŸºæº–ã«ã€ã‚ãµã‚Œã‚‹é …ç›®ã‚’è¡Œé€ã‚Šï¼ˆï¼ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ã•ã›ã‚‹ã“ã¨ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ•´åˆæ€§ã‚’ä¿ã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã®å ´åˆã ã¨ã€å„è¦ç´ ã‚’ã™ã¹ã¦æç”»ã‚¨ãƒªã‚¢ã«åã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</p>\n\n<p>ã—ã‹ã—ã€æœ¬ç•ªç’°å¢ƒï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ä¼šå ´ï¼‰ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ãªç¸¦æ¨ªæ¯”ã‚’ã—ã¦ã„ã‚‹ã‹ã¯ã€ãƒªãƒãƒ¼ã‚µãƒ«ã®æ—¥ã¾ã§ã¯ã‚ã‹ã‚Šã¾ã›ã‚“<br>\nãªã®ã§ã€ã€Œç¸¦oræ¨ªã®æœ€å¤§å¹…ã‚’ï¼‘ã¨ã—ãŸç›¸å¯¾ã‚µã‚¤ã‚ºã§ã™ã¹ã¦ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã™ã‚‹ã€ã¨ã„ã†è€ƒãˆæ–¹ã§è¦ç´ ã‚’é…ç½®ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™<br>\nãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ãªã©ã€æ˜¨ä»Šã®ä¸€èˆ¬çš„ãªè¡¨ç¤ºãƒ‡ãƒã‚¤ã‚¹ã¯æ¨ªå¹…ã‚ˆã‚Šç¸¦å¹…ã®æ–¹ãŒçŸ­ã„ã®ã§ã€ä»Šå›ã¯ç¸¦å¹…ã‚’åŸºæº–ã«æ¨ªå¹…ã‚’æ±ºå®šã™ã‚‹æ–¹é‡ã§ä½œã‚Šã¾ã—ãŸ<br>\nï¼ˆèª¬æ˜ãŒä¸‹æ‰‹ã§ç”³ã—è¨³ãªã„ã§ã™ãŒã€ä»¥ä¸‹ã‚’è¦‹ã¦ã‚‚ã‚‰ãˆã°ãŠãŠã‚ˆãè¨€ã„ãŸã„ã“ã¨ã¯ä¼ã‚ã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™ï¼‰</p>\n\n<p><strong>ç¸¦å¹… &lt; æ¨ªå¹…ã®å ´åˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/e6f81362d0ffd94bab14c79c8dc365347dc97f96/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f63336230653438652d313030642d663638622d323933332d3366363733656634303964302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc3b0e48e-100d-f68b-2933-3f673ef409d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9b98a54ace33b103062488c91e3f2c4c\" alt=\"ç¸¦ã«.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/c3b0e48e-100d-f68b-2933-3f673ef409d0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc3b0e48e-100d-f68b-2933-3f673ef409d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=37271d10961722094e0ff6d6e5e1d09c 1x\" loading=\"lazy\"></a></p>\n\n<p><strong>ç¸¦å¹… = æ¨ªå¹…ã®å ´åˆ</strong><br>\n<a href=\"https://camo.qiitausercontent.com/330eeda19d0ebc67131dfaae512e0f319517d5df/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f65633462613638352d656265332d323965332d356164642d6638393763333636373833312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fec4ba685-ebe3-29e3-5add-f897c3667831.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5400ed11e525dc41427b662023f70585\" alt=\"æ­£æ–¹å½¢\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/ec4ba685-ebe3-29e3-5add-f897c3667831.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fec4ba685-ebe3-29e3-5add-f897c3667831.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f9ce1b682260db5e194a027157f1c849 1x\" loading=\"lazy\"></a></p>\n\n<p>ä»Šå›ã€ä¸Šè¨˜ã®ã‚ˆã†ãªç”»é¢è¡¨ç¤ºã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€<a href=\"https://www.webprofessional.jp/css-viewport-units-quick-start/\" rel=\"nofollow noopener\" target=\"_blank\">vh(Viewport Height)</a>ã¨ã„ã†å˜ä½ã‚’è¦æ‰€ã§ä½¿ã£ã¦ã„ã¾ã™<br>\n<code>100vh = ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®é«˜ã•</code>ã¨ã„ã†ã‚‚ã®ã§ã€ã“ã‚Œã‚’ä½¿ãˆã°ã€ã‚ˆãä½¿ã†<code>%</code>ã‚„<code>em</code>ã§ã¯å®Ÿç¾ã—ã¥ã‚‰ã„ã‚µã‚¤ã‚ºæŒ‡å®šã‚’æŸ”è»Ÿã«ãŠã“ãªã†ã“ã¨ãŒã§ãã¾ã™</p>\n\n<p>ä¸Šè¨˜<code>vh</code>ã«åŠ ãˆã€<code>position: absolute;</code>ã§èŠ±ã‚„ã‚‰ãƒªãƒœãƒ³ã‚„ã‚‰ã‚’è¡¨ç¤ºã‚¨ãƒªã‚¢ã®ç«¯ã‹ã‚‰ç›¸å¯¾ä½ç½®ã§æç”»ã—ã¦ã„ãã€ç”»é¢ã‚’ä½œã£ã¦ã„ãã¾ã—ãŸ<br>\nç”»åƒã®ã‚µã‚¤ã‚ºã‚„åè»¢ãªã©ã«ã¤ã„ã¦ã¯ã€<code>transform</code>ãŒã ã„ã¶å½¹ã«ç«‹ã¡ã¾ã—ãŸ</p>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">èŠ±ã®é…ç½®</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\">/* å·¦ã®èŠ± */</span>\n<span class=\"nc\">.flowers-left</span> <span class=\"p\">{</span>\n  <span class=\"nl\">position</span><span class=\"p\">:</span> <span class=\"nb\">absolute</span><span class=\"p\">;</span>\n  <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">bottom</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">30%</span><span class=\"p\">;</span>\n  <span class=\"nl\">-webkit-transform</span><span class=\"p\">:</span> <span class=\"n\">scale</span><span class=\"p\">(</span><span class=\"m\">-1</span><span class=\"p\">,</span> <span class=\"m\">1</span><span class=\"p\">)</span> <span class=\"n\">translate</span><span class=\"p\">(</span><span class=\"m\">5%</span><span class=\"p\">,</span> <span class=\"m\">5%</span><span class=\"p\">);</span>\n  <span class=\"nl\">z-index</span><span class=\"p\">:</span> <span class=\"m\">1</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"c\">/* å³ã®èŠ± */</span>\n<span class=\"nc\">.flowers-right</span> <span class=\"p\">{</span>\n  <span class=\"nl\">position</span><span class=\"p\">:</span> <span class=\"nb\">absolute</span><span class=\"p\">;</span>\n  <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">bottom</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">30%</span><span class=\"p\">;</span>\n  <span class=\"nl\">-webkit-transform</span><span class=\"p\">:</span> <span class=\"n\">translate</span><span class=\"p\">(</span><span class=\"m\">5%</span><span class=\"p\">,</span> <span class=\"m\">5%</span><span class=\"p\">);</span>\n  <span class=\"nl\">z-index</span><span class=\"p\">:</span> <span class=\"m\">1</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>ãã®ä»–ã€ç´°ã‹ãªè©±ã ã¨ã€æ–‡å­—ã®è£…é£¾ï¼ˆæ ç·šã€æ˜æ»…ï¼‰ã¯CSS Animationã§å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§text-strokeãªã©ã®è¡¨ç¤ºæ„ŸãŒçµæ§‹ç•°ãªã‚Šã€ã“ã®ãŸã‚å½“åˆChromeã§ã‚„ã‚‹ã¤ã‚‚ã‚Šã ã£ãŸã‚‚ã®ã‚’Safariã§å‹•ã‹ã™ã‚ˆã†ã«å¤‰ãˆãŸã‚Šã—ã¾ã—ãŸ</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/48b07eb57e20165ba1287a11968a1750305cea69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f31346137666161392d383537382d363134642d643537612d3830366138643636336266332e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F14a7faa9-8578-614d-d57a-806a8d663bf3.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1297564090e08aa136db33bc7b1c8a2b\" alt=\"screencast 2018-12-24 00-06-40.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/14a7faa9-8578-614d-d57a-806a8d663bf3.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F14a7faa9-8578-614d-d57a-806a8d663bf3.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=635354067247e621d5a90ae8c075a8a9 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">æ–‡å­—è£…é£¾</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nc\">.slot-text</span> <span class=\"p\">{</span>\n  <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">9vh</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">gold</span><span class=\"p\">;</span>\n  <span class=\"nl\">-webkit-text-stroke</span><span class=\"p\">:</span> <span class=\"nb\">thin</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.text</span> <span class=\"p\">{</span>\n  <span class=\"nl\">vertical-align</span><span class=\"p\">:</span> <span class=\"nb\">middle</span><span class=\"p\">;</span>\n  <span class=\"nl\">z-index</span><span class=\"p\">:</span> <span class=\"m\">50</span><span class=\"p\">;</span>\n  <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"s2\">'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Std W8'</span><span class=\"p\">,</span> <span class=\"nb\">monospace</span><span class=\"p\">;</span>\n  <span class=\"nl\">font-weight</span><span class=\"p\">:</span> <span class=\"nb\">bold</span><span class=\"p\">;</span>\n\n  <span class=\"nl\">line-height</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n  <span class=\"nl\">-webkit-animation</span><span class=\"p\">:</span> <span class=\"n\">neon</span> <span class=\"m\">1s</span> <span class=\"n\">ease-in-out</span> <span class=\"n\">infinite</span> <span class=\"n\">alternate</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">@keyframes</span> <span class=\"n\">neon</span> <span class=\"p\">{</span>\n  <span class=\"nt\">from</span> <span class=\"p\">{</span>\n    <span class=\"nl\">text-shadow</span><span class=\"p\">:</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">1px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">2px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">3px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">4px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">5px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">6px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">7px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">8px</span> <span class=\"no\">lightyellow</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nt\">to</span> <span class=\"p\">{</span>\n    <span class=\"nl\">text-shadow</span><span class=\"p\">:</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">2px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">4px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">6px</span> <span class=\"no\">white</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">8px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">10px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">12px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">14px</span> <span class=\"no\">lightyellow</span><span class=\"p\">,</span> <span class=\"m\">0</span> <span class=\"m\">0</span> <span class=\"m\">16px</span> <span class=\"no\">lightyellow</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<p>èŠ±ã€ãƒªãƒœãƒ³ã‚„ãƒ—ãƒ¬ãƒ¼ãƒˆã€èƒŒæ™¯ã®ã‚«ãƒ¼ãƒ†ãƒ³ã¯<a href=\"https://www.ac-illust.com/\" rel=\"nofollow noopener\" target=\"_blank\">Illust AC</a>ã¨ã„ã†ç´ æã‚µã‚¤ãƒˆã‚ˆã‚Šæ‹å€Ÿã—ã¾ã—ãŸ</p>\n\n<p><a href=\"https://www.ac-illust.com/main/detail.php?id=1023007\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://www.ac-illust.com/main/detail.php?id=1023007</a><br>\n<a href=\"https://www.ac-illust.com/main/detail.php?id=718442\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://www.ac-illust.com/main/detail.php?id=718442</a><br>\n<a href=\"https://www.ac-illust.com/main/detail.php?id=860468\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://www.ac-illust.com/main/detail.php?id=860468</a></p>\n\n<h2>\n<span id=\"javascript\" class=\"fragment\"></span><a href=\"#javascript\"><i class=\"fa fa-link\"></i></a>JavaScript</h2>\n\n<p>ã‚¹ãƒ­ãƒƒãƒˆã®ä»•çµ„ã¿ã¯ã€jQueryã®ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®<a href=\"http://kenwheeler.github.io/slick/\" rel=\"nofollow noopener\" target=\"_blank\">Slick</a>ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãªã‚“ã¨ã‹ã—ã¾ã—ãŸã€‚ã“ã‚ŒãŒãªã‹ã£ãŸã‚‰å¤šåˆ†é “æŒ«ã—ã¦ã¾ã—ãŸ...ãã‚Œãã‚‰ã„è‰²ã€…ã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ã‚‚ã‚‰ãˆã¦åŠ©ã‹ã‚Šã¾ã—ãŸ</p>\n\n<p>ã¾ãŸã€ã‚¹ãƒ­ãƒƒãƒˆã®å›è»¢æ™‚ã«ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã¼ã‚„ã‹ã—ãŸæ–¹ãŒãã‚Œã£ã½ãã†ã ã£ãŸã®ã§ã€åŒã˜ãjQueryãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®<a href=\"http://nbartlomiej.github.io/foggy/\" rel=\"nofollow noopener\" target=\"_blank\">Foggy</a>ã‚’ä½¿ã„ã¾ã—ãŸ</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½¿ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c1\">// Slick</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">.slot-wheel</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">slick</span><span class=\"p\">({</span>\n  <span class=\"na\">arrows</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"na\">infinite</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"na\">slidesToShow</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n  <span class=\"na\">slidesToScroll</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n  <span class=\"na\">centerMode</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"na\">variableWidth</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"na\">autoplay</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"na\">autoplaySpeed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n  <span class=\"na\">speed</span><span class=\"p\">:</span> <span class=\"mi\">1000</span><span class=\"p\">,</span>\n  <span class=\"na\">pauseOnFocus</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"na\">pauseOnHover</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"na\">cssEase</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">ease</span><span class=\"dl\">'</span><span class=\"p\">,</span>\n  <span class=\"na\">useCSS</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"na\">useTransform</span><span class=\"p\">:</span> <span class=\"kc\">true</span>\n<span class=\"p\">}).</span><span class=\"nx\">slick</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">slickPause</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// Foggy</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">.slot-wheel</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">foggy</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">);</span>\n</code></pre></div>\n</div>\n\n<p><a href=\"https://camo.qiitausercontent.com/5257583948cc400711e8b9a157a485b29cdfd413/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f35313636323862342d653633662d356532632d653534382d3864626130363166343131662e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F516628b4-e63f-5e2c-e548-8dba061f411f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=eddc01d939b0027f5e8daad04158e3c2\" alt=\"ã‚¹ãƒ­ãƒƒãƒˆå›è»¢\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/516628b4-e63f-5e2c-e548-8dba061f411f.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F516628b4-e63f-5e2c-e548-8dba061f411f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cc99f829b7299508cb0bb6d5deb89658 1x\" loading=\"lazy\"></a></p>\n\n<p>ã‚ãŸã‚Šã®éš›ã«èƒŒæ™¯ã‚’ãŠã‚ã§ãŸã„æ„Ÿã˜ã«ã—ãŸã‹ã£ãŸã®ã§ã€<a href=\"http://obadger.com/pow/\" rel=\"nofollow noopener\" target=\"_blank\">pow.js</a>ã‚’ä½¿ã£ã¦ç´…ç™½ã‚’å…¥ã‚Œæ›¿ãˆãŸèƒŒæ™¯ã‚’ï¼’æšä½œã‚Šã€ãƒ‘ã‚«ãƒ‘ã‚«ã•ã›ã¦å‹•ãã‚’ã¤ã‘ã¾ã—ãŸ</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/75faa0da602339afe5c57f056651b0ab7fb428b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f39636535363736382d383936642d353661362d326234622d6561306361336239626134352e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9ce56768-896d-56a6-2b4b-ea0ca3b9ba45.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bdc14c25f50902465f874cf6dbcb51c1\" alt=\"screencast 2018-12-23 23-56-19.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9ce56768-896d-56a6-2b4b-ea0ca3b9ba45.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9ce56768-896d-56a6-2b4b-ea0ca3b9ba45.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=512146a567d2017137cbc0a6a6aed7b1 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">pow.jsåˆ©ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c1\">// pikaã£ã¦...</span>\n<span class=\"kd\">var</span> <span class=\"nx\">pika</span> <span class=\"o\">=</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">selector</span><span class=\"p\">,</span> <span class=\"nx\">type</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">ray</span> <span class=\"o\">=</span> <span class=\"nx\">type</span> <span class=\"p\">?</span> <span class=\"dl\">\"</span><span class=\"s2\">red</span><span class=\"dl\">\"</span> <span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">white</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n  <span class=\"kd\">var</span> <span class=\"nx\">bg</span> <span class=\"o\">=</span> <span class=\"nx\">type</span> <span class=\"p\">?</span> <span class=\"dl\">\"</span><span class=\"s2\">white</span><span class=\"dl\">\"</span> <span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">red</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">selector</span><span class=\"p\">).</span><span class=\"nx\">pow</span><span class=\"p\">({</span>\n    <span class=\"na\">rays</span><span class=\"p\">:</span> <span class=\"mi\">32</span><span class=\"p\">,</span>\n    <span class=\"na\">rayColorStart</span><span class=\"p\">:</span> <span class=\"nx\">ray</span><span class=\"p\">,</span>\n    <span class=\"na\">rayColorEnd</span><span class=\"p\">:</span> <span class=\"nx\">ray</span><span class=\"p\">,</span>\n    <span class=\"na\">bgColorStart</span><span class=\"p\">:</span> <span class=\"nx\">bg</span><span class=\"p\">,</span>\n    <span class=\"na\">bgColorEnd</span><span class=\"p\">:</span> <span class=\"nx\">bg</span><span class=\"p\">,</span>\n    <span class=\"na\">originX</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">50%</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n    <span class=\"na\">originY</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">50%</span><span class=\"dl\">\"</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">};</span>\n<span class=\"nx\">pika</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">.pikapika.fore</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">);</span>\n<span class=\"nx\">pika</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">.pikapika.alt</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">);</span>\n</code></pre></div>\n</div>\n\n<p>ãã®ä»–ã€èƒŒæ™¯ã§æ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ã—ã¦ã‚‹ã®ã¯ã€<a href=\"http://jsdo.it/nao_k116/rx27\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’å‚è€ƒã«å®Ÿè£…ã—ã¾ã—ãŸ</p>\n\n<p>ã‚ã¨ã€ä½œã£ã¦ã„ã‚‹é€”ä¸­ã«ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ï¼ˆæ–°å©¦ï¼‰ã‹ã‚‰éŸ³ã‚’é³´ã‚‰ã—ã¦æ¬²ã—ã„ã¨è¨€ã‚ã‚Œã€<a href=\"https://soundeffect-lab.info/sound/anime/\" rel=\"nofollow noopener\" target=\"_blank\">ç´ æã‚µã‚¤ãƒˆ</a>ã‹ã‚‰é ‚ãã¤ã¤<a href=\"http://www.htmq.com/html5/audio.shtml\" rel=\"nofollow noopener\" target=\"_blank\">audioè¦ç´ </a>ã‚’ä½¿ã£ã¦ãªã‚“ã¨ã‹ã—ã¾ã—ãŸï¼ˆã‚³ãƒ¼ãƒ‰ã¯å‚è€ƒã«ãªã‚‰ãªã„ãƒ¬ãƒ™ãƒ«ãªã®ã§å‰²æ„›ã—ã¾ã™...ï¼‰</p>\n\n<hr>\n\n<p>æŠ€è¡“çš„ãªè©±ã‚’ä¸­å¿ƒã«è‰²ã€…æ›¸ãã¾ã—ãŸãŒã€ã“ã®é–“ã«å°‘ã—ä½œã£ã¦ã¯æ–°å©¦ã«ç¢ºèªã—ã¦ã‚‚ã‚‰ã†ã‚ˆã†é€£çµ¡ã—ã€ãªã‚‹ã¹ãé½Ÿé½¬ãŒå‡ºãªã„ã‚ˆã†ã«åŠªã‚ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"é‹ç”¨\" class=\"fragment\"></span><a href=\"#%E9%81%8B%E7%94%A8\"><i class=\"fa fa-link\"></i></a>é‹ç”¨</h1>\n\n<p>ç”»é¢è¡¨ç¤ºç¢ºèªã®ãƒªãƒãƒ¼ã‚µãƒ«ã‚’ä¸€å›æŒŸã¿ã€å½“æ—¥ã¯ã™ãã«ã‚„ã£ã¦ãã¾ã—ãŸ<br>\nä¸€èˆ¬å‚åŠ è€…ã‚ˆã‚Šæ—©ã‚ã«ä¼šå ´å…¥ã‚Šã—ã€æ©Ÿæã‚’ç¹‹ã’ã¦å¾…ã¡ã¾ã™...</p>\n\n<p>ä¼šã®å‚åŠ è€…ã¯ã€æœ€çµ‚çš„ã«80åã»ã©ã«ãªã£ã¦ã„ã¾ã—ãŸ...<br>\nãƒ‘ãƒ¼ãƒ†ã‚£ãŒå§‹ã¾ã£ã¦ã‚‚é…’ã®ä¸€æ»´ã‚‚é£²ã¾ãšã€æ–™ç†ã‚‚å£ã«ã›ãšã€<br>\nçŸ¥äººã¨è©±ã›ã©ã‚‚ç·Šå¼µã§è¦é ˜ã‚’å¾—ãšã€ãŸã å·±ã®é †ç•ªãŒæ¥ã‚‹ã®ã‚’å¾…ã¡ã¾ã™...</p>\n\n<p>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚‚åŠåˆ†ã‚’éããŸé ƒã€ã‚ˆã†ã‚„ãè‡ªåˆ†ã®ç•ªãŒã‚„ã£ã¦ãã¾ã—ãŸ...<br>\næ–°å©¦ãŒã€Œãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã€ã‚¹ã‚¿ãƒ¼ãƒˆï¼ã€ã ã¨ã‹ã€Œã‚¹ãƒˆãƒƒãƒ—ï¼ã€ã¨ã‹è¨€ã†ãŸã³ã«ã€ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã®ãƒœã‚¿ãƒ³ã‚’ä¸€ã¤ãšã¤æŠ¼ã—ã¦ã„ãã¾ã™...</p>\n\n<p>ã†ã‚ã‚...ãƒã‚¸ã§å‹•ã„ã¦ã‚‹ã‚ˆ...ğŸ˜¨</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/b70fd4f0cd5a59faf46f50281cf9d262b3f10c05/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f33316236626663302d363736662d316163392d626134302d3833383931393430313261312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F31b6bfc0-676f-1ac9-ba40-8389194012a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=de909fd340bcf127855a69969e34a43f\" alt=\"æœ¬ç•ª\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/31b6bfc0-676f-1ac9-ba40-8389194012a1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F31b6bfc0-676f-1ac9-ba40-8389194012a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c3ff949a7ae9e0e18717fa7643e72aa4 1x\" loading=\"lazy\"></a></p>\n\n<p>ã¿ã‚“ãªã‚ã£ã¡ã‚ƒè¦‹ã¦ã‚‹ã—...ğŸ¤¢ï¼ˆå½“ãŸã‚Šå‰ã ï¼‰<br>\næ™‚æŠ˜ä¼šå ´ãŒç››ã‚Šä¸ŠãŒã‚‹åº¦ã«è‚ãŒå†·ãˆã€å¤‰ãªç¬‘ã„ãŒå‡ºã¾ã™...</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6850be1ff1461653cb6acfb9403d0689beb6c9ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f35353633366230382d656463342d363262382d306364622d6633326666393532643664392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F55636b08-edc4-62b8-0cdb-f32ff952d6d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ea9a31dca794998204e9324b3ffb6fdc\" alt=\"æœ¬ç•ªï¼’\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/55636b08-edc4-62b8-0cdb-f32ff952d6d9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F55636b08-edc4-62b8-0cdb-f32ff952d6d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=83401ab8cf8f8483ab2632597dff309a 1x\" loading=\"lazy\"></a></p>\n\n<p>ãã®å¾Œã€ã¯ã‚ˆçµ‚ã‚ã£ã¦ãã‚Œã¨ã„ã†æ€ã„ã‚’è¾¼ã‚ã¦ç„¡å¿ƒã§ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ç¶šã‘ã€<br>\nçµæœçš„ã«ã¯å¤§ããªãƒˆãƒ©ãƒ–ãƒ«ã‚‚ãªãã€ä½•ã¨ã‹æŒã¡æ™‚é–“ã‚’ç„¡äº‹ã‚„ã‚Šãã£ãŸã®ã§ã—ãŸ</p>\n\n<p>çµ‚ã‚ã£ãŸå¾Œã‚‚ã—ã°ã‚‰ãæ”¾å¿ƒã—ã¦ã„ãŸã®ã§ã™ãŒã€<br>\næ®‹ã£ã¦ã„ãŸå†·ãˆãŸãƒã‚«ãƒ­ãƒ‹çš„ãªã‚‚ã®ã¨ãƒ“ãƒ¼ãƒ«ãŒã™ã’ãˆã†ã¾ã‹ã£ãŸã®ã‚’è¦šãˆã¦ã„ã¾ã™...ğŸ»</p>\n\n<p>æ›¸ã„ã¦ã¿ã‚‹ã¨ã»ã¨ã‚“ã©ã‚ã£ã¨ã„ã†é–“ã¨ã„ã†é¢¨ã§ã™ãŒã€å®Ÿéš›ã®æ™‚é–“æ„Ÿè¦šã‚‚ã“ã‚“ãªæ„Ÿã˜ã ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™â³</p>\n\n<h1>\n<span id=\"æ‰€æ„Ÿ\" class=\"fragment\"></span><a href=\"#%E6%89%80%E6%84%9F\"><i class=\"fa fa-link\"></i></a>æ‰€æ„Ÿ</h1>\n\n<p>æ€ã£ãŸã“ã¨ã‚’ç®‡æ¡æ›¸ãã§...</p>\n\n<ul>\n<li>\n<p>éŸ³ã¯ã™ã’ãˆå¤§äº‹ğŸ·</p>\n\n<ul>\n<li>å®¶ã§ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã¨ãã¯ç„¡éŸ³ã§ã‚‚ãã“ã¾ã§æ°—ã«ãªã‚‰ãªã„ã®ã§ã™ãŒã€å®Ÿéš›ã«ç¾å ´ã§å‹•ã‹ã™ã¨ã€äººã¯éŸ³ã§ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹ï¼ˆãƒ‰ãƒ©ãƒ ãƒ­ãƒ¼ãƒ«ã§æŠ½é¸ä¸­ã¨ã‹ã€ã‚·ãƒ³ãƒãƒ«ãŒãªã£ãŸã‚‰ã‚¹ãƒ­ãƒƒãƒˆãŒæ­¢ã¾ã£ãŸã¨ã‹ï¼‰ã‚’èªè­˜ã—ã¦ã„ã‚‹ã‚ˆã†ã«æ€ã„ã¾ã—ãŸã€‚éŸ³ãŒã¡ã‚‡ã£ã¨å‡ºé…ã‚Œã‚‹ã¨ç·Šå¼µãŒèµ°ã£ãŸã‚Šã—ã¦...</li>\n<li>åŒã˜æ„å‘³ã§BGMã‚‚å¤§äº‹ã§ã™ã€‚ä¸‡ä¸€ãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ããŸæ™‚ã«ã€ç„¡éŸ³ã§å‚åŠ è€…ã‚’å¾…ãŸã›ã¦å ´ãŒå†·ãˆã‚‹ã€ã¨ã„ã†ã“ã¨ã¯é¿ã‘ã­ã°ãªã‚Šã¾ã›ã‚“ã€‚ãƒˆãƒ©ãƒ–ãƒ«ãŒãªãã¦ã‚‚ã€ã‚²ãƒ¼ãƒ ã®é€²è¡Œä¸­ã«ã‚‚ãŸã¤ã„ãŸã‚Šã—ãŸæ™‚ã«ã€èƒŒæ™¯ã§ä½•ã‹ã—ã‚‰æµã‚Œã¦ã„ã‚‹ã¨ã ã„ã¶äº‹æ•…æ„ŸãŒè–„ã‚Œã‚‹ã‚ˆã†ã«æ€ã„ã¾ã—ãŸ</li>\n<li>ä»Šå›ã¯ã€Amazon Musicã§ã€Œã‚¸ãƒ£ã‚ºã€€æ¥½å›£ã€ã¿ãŸã„ãªãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ã—ä½œã£ãŸãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ãƒ«ãƒ¼ãƒ—å†ç”Ÿã—ã¦ã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>\n<p>ç”»é¢ã‚’æš—è»¢ã•ã›ã‚‹æ™‚ã¯ã€ç”»é¢ç«¯ã«ãƒãƒ¼ã‚¯ã‹ä½•ã‹ã‚’è¡¨ç¤ºã—ã¦ãŠãã¨ã‚ˆã„</p>\n\n<ul>\n<li>ä¼šå ´ã«ã‚‚ã‚ˆã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€ä»Šå›ã¯HDMIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ã«ã¤ãªã„ã§æŠ•å½±ã¨ã„ã†å½¢ã§ã—ãŸã€‚å½“æ—¥ã¾ã§ãƒªãƒ¢ã‚³ãƒ³ã‚’æ‰‹å…ƒã«ç½®ã„ã¦ãŠã‘ã‚‹ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã€åˆæœŸè¡¨ç¤ºæ™‚ã«æš—è»¢â†’ãƒœã‚¿ãƒ³åˆ¶å¾¡ã§è¡¨ç¤ºã¨ã„ã†å½¢ã«ã—ãŸã®ã§ã™ãŒã€HDMIå´ã¨ã‚¢ãƒ—ãƒªå´ã®ã©ã¡ã‚‰ã§è¡¨ç¤ºã‚’åˆ‡ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãšã€ä¸å®‰ã«ãªã‚‹å ´é¢ãŒã‚ã‚Šã¾ã—ãŸ</li>\n<li>ç”»é¢æš—è»¢æ™‚ã«ã€å·¦ä¸Šã«èµ¤ã¨ã‹ç·‘ã§â—ã‚’è¡¨ç¤ºã—ã¦ãŠãã¨ã‹ã™ã‚Œã°ã€ã‚ã‹ã‚Šã‚„ã™ããªã£ãŸã‹ãªã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n<li>\n<p>ç•°å¸¸ç³»ã®ã‚±ãƒ¼ã‚¹ã‚’ã¡ã‚ƒã‚“ã¨è€ƒãˆã¦ãŠã“ã†ğŸš¨</p>\n\n<ul>\n<li>ä½™èˆˆã®é€”ä¸­ã«ã€Œå½“é¸è€…ãŒç¢ºå®šã—ãŸãŒã‚¿ãƒã‚³ã‚’å¸ã„ã«è¡Œã£ã¦ã¦ã„ãªã‹ã£ãŸã€ã¨ã„ã†ã“ã¨ãŒãŠããŸã®ã§ã™ãŒã€å¸ä¼šã®æ–¹ãŒæ©Ÿè»¢ã‚’åˆ©ã‹ã›ã¦å½“é¸è€…ã®çŸ¥äººã«ä»£ã‚ã‚Šã«å—ã‘å–ã£ã¦ã‚‚ã‚‰ã†ã‚ˆã†ä¿ƒã—ã¦ãã‚Œã¦å‘½æ‹¾ã„ã—ãŸ...ã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸ</li>\n<li>ãã˜å¼•ãã®ã‚ˆã†ã«ãã®å ´ã§å†æŠ½é¸ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒä¸å¯èƒ½ãªä»•æ§˜ã«ã—ã¦ã„ãŸã®ãŒã‚ˆããªã‹ã£ãŸã€ã¨ã„ã†è©±ã§ã‚‚ã‚ã‚Šã¾ã™ãŒã€äº‹å‰ã«ä¼ãˆã¦ãŠã‘ã°é‹ç”¨ã§ã†ã¾ãã‚«ãƒãƒ¼ã§ãã‚‹ã“ã¨ã ã¨ã‚‚æ€ã†ã®ã§ã€SEçš„ã«è¨€ãˆã°ã‚³ãƒ³ãƒãƒ—ãƒ©ãƒ³ã£ã¦å¤§äº‹ã ãªã‚...ã¨æ€ã£ãŸæ¬¡ç¬¬ã§ã™</li>\n</ul>\n</li>\n<li>\n<p>ãƒ¦ãƒ¼ã‚¶ã®è¦æœ›ã¯ã¡ã‚ƒã‚“ã¨èã„ã¦ãŠã“ã†</p>\n\n<ul>\n<li>æ–°å©¦ã«ç¢ºèªã—ã¦ã‚‚ã‚‰ã£ã¦ã‚‹ä¸­ã§ã€ã€Œãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®å‡ºç›®ã‚’ç„¡ç†ã‚„ã‚Šå‹•ã‹ã™ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã»ã—ã„ã€ã¨è¨€ã‚ã‚Œã¦ã„ãŸã®ã§ã™ãŒã€å½“æ™‚ãã‚Œä»¥å‰ã«Slickã‚’ã†ã¾ãå‹•ã‹ã›ã¦ãŠã‚‰ãšï¼ˆä¸€ã¤ãšã‚Œã¦æ­¢ã¾ã£ãŸã‚Šã¨ã‹ğŸ˜‡ï¼‰ã€ã€Œã§ããŸã‚‰å¯¾å¿œã™ã‚‹ã€çš„ãªã“ã¨ã‚’è¨€ã£ã¦ã†ã‚„ã‚€ã‚„ã«ã—ã€çµå±€ã‚„ã‚‰ãšã˜ã¾ã„ã§å½“æ—¥ã‚’è¿ãˆã¾ã—ãŸ</li>\n<li>ä½™èˆˆãŒçµ‚ã‚ã£ãŸå¾Œã«å‹äººï¼ˆæ€ã£ãŸã“ã¨ãªã‚“ã§ã‚‚è¨€ã£ã¦ãã‚‹ã‚„ã¤ï¼‰ã«è©±ã—ã‹ã‘ã‚‰ã‚Œè¨€ã‚ã‚ŒãŸã®ã¯ã€Œæœ€åˆã¯ã‚ˆã‹ã£ãŸã‘ã©å˜èª¿ã§é£½ããŸğŸ˜¡ã€ã¨ã„ã†ã“ã¨ã§ã—ãŸ</li>\n<li>ä»•æ§˜ã‚’å‡ºã—ã¦ã„ã‚‹å½“äº‹è€…ãŒæŒ‡æ‘˜ã™ã‚‹ã“ã¨ã¯ã€é«˜ã„ç¢ºç‡ã§ä»–ã®èª°ã‹ã‚‚æŒ‡æ‘˜ã™ã‚‹ã¨ã„ã†å¥½ä¾‹ã ãªã¨æ€ã£ãŸã®ã¨ã€ãã†ã—ãŸï¼ˆã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ä¸Šã§ã¯ï¼‰ã¡ã‚‡ã£ã¨ã—ãŸæ”¹å–„ã§ãƒ¦ãƒ¼ã‚¶ã®æº€è¶³åº¦ãŒå¤§ããä¸ŠãŒã‚‹ã“ã¨ã‚‚å¾€ã€…ã«ã—ã¦ã‚ã‚‹ã ã‚ã†ã€ã¨å®Ÿæ„Ÿã—ã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>\n<p>ï¼ˆæœ›ã‚€ãªã‚‰ï¼‰ãŠé‡‘ã®ã“ã¨ã‚’äº‹å‰ã«æ±ºã‚ã¦ãŠã“ã†ğŸ’°</p>\n\n<ul>\n<li>ãƒ‘ãƒ¼ãƒ†ã‚£ãŒçµ‚ã‚ã£ãŸå¾Œã€ä¸€ç·’ã«å‚åŠ ã—ãŸå‹äººã¨ï¼’æ¬¡ä¼šã‚„ã‚‰ã‚«ãƒ©ã‚ªã‚±ã‚„ã‚‰ã«è¡Œã£ã¦ã„ã‚‹ã¨æ–°å©¦ãŒã‚„ã£ã¦ãã¦ã€å¯¸å¿—ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸ</li>\n<li>å€‹äººçš„ã«ã¯ã€äººç›®ã«è§¦ã‚Œã‚‹ã‚‚ã®ã‚’ä½œã‚‹ã„ã„æ©Ÿä¼šã¨æ€ã£ã¦ã‚„ã£ã¦ã„ãŸã“ã¨ãªã®ã§è¬ç¤¼ã‚’ã‚‚ã‚‰ã†ã®ã¯ç‰¹ã«è€ƒãˆã¦ãªã‹ã£ãŸã®ã§ã™ãŒã€ã€Œã‚‚ã—ã‚‚ã“ã‚ŒãŒå€‹äººäº‹æ¥­ä¸»ã§ã€å—æ³¨ã—ãŸä»•äº‹ã«ã‚‚ã‚‰ã£ãŸå ±é…¬ã ã¨ã—ãŸã‚‰...ã€ã¨è€ƒãˆã‚‹ã¨ã€é‡‘é¡ã‚’æç¤ºã—ã¦ã€ãã‚Œã«è¦‹åˆã£ãŸä»•äº‹ã‚’ã™ã‚‹ã€ã¨ã„ã†ãƒ—ãƒ­ã‚»ã‚¹ã¯ï¼ˆã‚¹ã‚­ãƒ«ã‚’ä¼¸ã°ã™ãŸã‚ã«ã‚‚ï¼‰çµæ§‹å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸ</li>\n<li>ä»Šå¾Œå¼•ãå—ã‘ä»•äº‹ã‚’ã™ã‚‹ã¨ãã¯ã€å°‘ãªã‹ã‚‰ãšãã†ã—ãŸã“ã¨ã‚‚è€ƒãˆã¦ã„ããŸã„ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"ã‚½ãƒ¼ã‚¹\" class=\"fragment\"></span><a href=\"#%E3%82%BD%E3%83%BC%E3%82%B9\"><i class=\"fa fa-link\"></i></a>ã‚½ãƒ¼ã‚¹</h1>\n\n<p><qiita-embed-ogp src=\"https://github.com/yktakaha4/otanoshimi-slot\"></qiita-embed-ogp></p>\n\n<p>APIã®ã‚³ãƒ¼ãƒ‰ãŒæ–­ç‰‡çš„ã€ã‹ã¤ç”»åƒã‚„éŸ³å£°ç´ æã‚’å‰Šé™¤ï¼ˆ0ãƒã‚¤ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®æ›ï¼‰ã—ã¦ã„ã‚‹ãŸã‚ã€ãã®ã¾ã¾ã ã¨ã¨ã¦ã‚‚å‹•ã‹ã›ãªã„ã®ã§ã™ãŒã€ä¸€å¿œGithubã«ã‚ã’ã¦ã¿ã¾ã—ãŸ<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"></p>\n",
      "body": "# ã¯ã˜ã‚ã«\n\n![ãŠãŸã®ã—ã¿ã‚¹ãƒ­ãƒƒãƒˆ](https://qiita-image-store.s3.amazonaws.com/0/106259/9b1ca1ee-da87-aa6d-c7db-82b5a2639ffd.png)\n\nå‹äººğŸ‘°ãŒã“ã®åº¦ã‚ã§ãŸãçµå©šã™ã‚‹ã“ã¨ã¨ãªã‚Šã€å‹äººãƒ»çŸ¥äººå‘ã‘ã«ãƒ‘ãƒ¼ãƒ†ã‚£ãŒé–‹ã‹ã‚ŒãŸã®ã§ã™ãŒã€ãã®å¼ã®ä½™èˆˆã®ã²ã¨ã¤ã¨ã—ã¦ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã®åˆ¶ä½œã‚’ä¾é ¼ã•ã‚Œã€é–‹ç™ºã¨æœ¬ç•ªé‹ç”¨ï¼ˆè¨€ã„æ–¹ï¼‰ã‚’æ‹…å½“ã—ã¾ã—ãŸ\n\nä»–äººã¨ä»•æ§˜ã‚’è©°ã‚ã¦å€‹äººé–‹ç™ºã—ãŸWebã‚¢ãƒ—ãƒªã¨ã—ã¦ã¯åˆã‚ã¦ã®ã‚‚ã®ã«ãªã‚‹ã®ã§ã€è‰²ã€…è‡³ã£ã¦ãªã„éƒ¨åˆ†ã‚‚å¤šã„ã§ã™ãŒã€ãã†ã—ãŸè«¸ã€…ã®å‚™å¿˜ã‚‚å…¼ã­ã¦æ›¸ãæ®‹ã—ãŸã„ã¨æ€ã„ã¾ã™ğŸ°\n\n# å—æ³¨\n\nä»Šå¹´ã®æ¢…é›¨ã®é ƒã«çµå©šã™ã‚‹ã“ã¨ã‚’å‘‘ã¿ã®å¸­ã§åˆ‡ã‚Šå‡ºã•ã‚ŒãŸæ™‚ã€ç§ã¯ã¡ã‚‡ã†ã©é€€è·ã«å‘ã‘ã¦æº–å‚™ã‚’é€²ã‚ã¦ã„ãŸã¨ã“ã‚ã§ã€å¤ã®é–“ã«æ•°ãƒ¶æœˆã®ä¼‘ã¿ã‚’å–ã‚‹ã¤ã‚‚ã‚Šã§ã„ã¾ã—ãŸ\n\nãã®é–“ã‚’ç„¡ç‚ºã«éã”ã™ã“ã¨ã‚’å‘³æ°—ãªãæ€ã„ã€ã€Œã—ã°ã‚‰ãæš‡ã ã—ãªã‚“ãªã‚‰ä½™èˆˆã§ã‚‚ä½œã£ãŸã’ã‚‹ã‚ˆğŸ˜ã€ã¨è»½ã„æ°—æŒã¡ã§è¨€ã„ãŠã„ã¦ãã®å ´ã¯çµ‚ã‚ã£ãŸã®ã§ã™ãŒã€å¾Œæ—¥é€£çµ¡ã‚’ã‚‚ã‚‰ã„ã€å†¬ã«é–‹ã‹ã‚Œã‚‹ãƒ‘ãƒ¼ãƒ†ã‚£ã«å‘ã‘ã¦ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã»ã—ã„ã€ã¨æ”¹ã‚ã¦ä¾é ¼ã‚’å—ã‘ã¾ã—ãŸ\n\nå‰è·ã§ã¯Webã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ãŸã“ã¨ã¨ã€å½“æ—¥ã¾ã§åŠå¹´è¿‘ãæœŸé–“ãŒã‚ã£ãŸãŸã‚ã€ã¾ã‚ãªã‚“ã¨ã‹ãªã‚‹ã ã‚ã†ã¨è»½ã„æ°—æŒã¡ã§æ‰¿è«¾ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã—ãŸ\n\n# è¦ä»¶å®šç¾©\n\nãƒ•ã‚¡ãƒŸãƒ¬ã‚¹ã§2æ™‚é–“ã»ã©å½¼å¥³ã¨è©±ã—ãŸã¨ã“ã‚ã€ãŠãŠã‚ˆãä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’è¨€ã‚ã‚Œã¾ã—ãŸ\n\n- ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚°ãƒ‘ãƒ¼ãƒ†ã‚£ã«æ¥ã¦ãã‚ŒãŸäººã«ã€ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã§æ™¯å“ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã—ãŸã„\n\t- è‰²ã€…ãªã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆåœ°å…ƒã®å‹é”ã€ä¼šç¤¾ã®åŒåƒšã€ç¤¾ä¼šäººã‚µãƒ¼ã‚¯ãƒ«ã®æ–¹ã€…...ãªã©ï¼‰ã‹ã‚‰ã€ã‚ã‚ã›ã¦70~80äººãã‚‰ã„ã®äººã‚’æ‹›å¾…ã™ã‚‹ã¤ã‚‚ã‚Š\n- æ™¯å“ã«ã¯å½“ãŸã‚Šï¼ˆå¸ƒå›£ä¹¾ç‡¥æ©Ÿã¨ã‹...ï¼‰ã¨ãƒã‚ºãƒ¬ï¼ˆæ„›ç”¨ã®ã¤ã‘ã¾ã¤ã’ã¨ã‹...ï¼‰ã‚’ãã‚Œãã‚Œã„ãã¤ã‹ç”¨æ„ã™ã‚‹\n- æ‹›å¾…çŠ¶ï¼ˆ[Biluce](https://biluce.net/)ã¨ã„ã†Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ã¾ã—ãŸï¼‰ã®è¿”ä¿¡ã‚’ã‚‚ã‚‰ã†éš›ã«å‚åŠ è€…ã«ç”»åƒã‚’æ·»ä»˜ã—ã¦ã‚‚ã‚‰ã„ã€ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã§ä½¿ã„ãŸã„\n- æ™¯å“ã‚‚ç”»åƒã§ç”¨æ„ã—ãŸã„\n- å½“æ—¥ã®ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæ“ä½œã¯ç§ï¼ˆç­†è€…ï¼‰ã«ã‚„ã£ã¦ã»ã—ã„\n- å½“æ—¥ãƒ‰ã‚¿ã‚­ãƒ£ãƒ³ã‚„äººæ•°å¢—åŠ ãªã©ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€å‚åŠ è€…ã®å¢—æ¸›ã¯ã‚²ãƒ¼ãƒ ç›´å‰ã¾ã§æŸ”è»Ÿã«å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„\n\nãã‚“ãªã¨ã“ã‚ã ã‚ã†ã¨ã„ã†æ„Ÿã˜ã§ã™ãŒã€é¢ç™½ã‹ã£ãŸã®ãŒä»¥ä¸‹ã§ã—ãŸ\n\n- ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®å‡ºç›®ã‚’åˆ¶å¾¡ã—ãŸã„\n\t- ãƒã‚ºãƒ¬ã®æ™¯å“ã‚’ç¤¾ä¼šäººã‚µãƒ¼ã‚¯ãƒ«ã®é‡é®ã®æ–¹ã‚„å¤§äººã—ã„å‹é”ã«å½“ã¦ã‚‹ã¨æ°—ã¾ãšã„ã®ã§ã€ã‚ã‚‹æ™¯å“ã‚’ç‰¹å®šã®æ‰€å±ã®äººã‚„å€‹äººã«ã¯å½“ã¦ãªã„ã‚ˆã†ã«ã—ãŸã„\n\t- ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«å‚åŠ äººæ•°ã«å·®ãŒã‚ã‚‹ãŒã€æ™¯å“ã®å½“ãŸã‚‹å›æ•°ã¯ã‚°ãƒ«ãƒ¼ãƒ—é–“ã§ãªã‚‹ã¹ãå‡ä¸€ã«ã—ãŸã„\n\nè¦ã¯ã€å¿–åº¦ã—ãŸã„ã¨ã„ã†ã“ã¨ã§ã™ã­ã€‚æ°—é£ã„ã®ã§ãã‚‹è‰¯å¦»ã¨ãªã‚‹ã“ã¨ã§ã—ã‚‡ã†ï¼ˆé©å½“ï¼‰\n\n# è¨­è¨ˆ\n\nå®¶ã«å¸°ã£ã¦ã€æ—©é€Ÿã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è€ƒãˆã¾ã—ãŸã€‚äº‹å‰ã«æ–°å©¦ã«å‚åŠ è€…ãŠã‚ˆã³æ™¯å“ã®ç™»éŒ²ã‚„ã€ã‚¢ãƒ—ãƒªã®å‹•ä½œç¢ºèªã‚’ã—ã¦ã‚‚ã‚‰ã†ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€Webã‚¢ãƒ—ãƒªã¨ã—ã¦å®Ÿè£…ã—ã¦ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§å…¬é–‹ã™ã‚‹ã®ãŒã‚ˆã•ãã†ã§ã™â›…ï¸\n\nã¾ãŸã€ãƒ‡ãƒ¼ã‚¿ã®å‚ç…§ã€æ›´æ–°ãŒè¤‡æ•°äººã‹ã‚‰é »ç¹ã«è¡Œã‚ã‚Œã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã¯ãªã„ã®ã§ã€ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã¯ãªã‚‹ã¹ãç°¡ä¾¿ã«æ¸ˆã¾ã›ã¦ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„æŒ™å‹•ã®èª¿æ•´ã«æ³¨åŠ›ã™ã¹ãã§ã—ã‚‡ã†\n\n...ã¨ã€ã„ã†ã‚ˆã†ãªã“ã¨è€ƒãˆãªãŒã‚‰ä½œã‚Šé€²ã‚ã¦ã„ã£ãŸã¨ã“ã‚ã€æœ€çµ‚çš„ã«ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸ\n\n<img width=\"876\" alt=\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/3f76f0a1-b53f-0851-987b-9bf8990f5917.png\">\n\næ®µå–ã‚Šã¨ã—ã¦ã¯ã“ã‚“ãªã¨ã“ã‚ã§ã™\n\n1. æ–°å©¦ã«ã¦ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å‚åŠ è€…ã®åå‰ã¨æ™¯å“åã€NGãƒ«ãƒ¼ãƒ«ã‚’å…¥åŠ›ã™ã‚‹\n2. æ–°å©¦ã«ã¦ã€ã‚·ã‚¹ãƒ†ãƒ ã«å‚åŠ è€…ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ç™»éŒ²ã™ã‚‹\n3. ç­†è€…ã«ã¦ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼å½“æ—¥ã«æŠ½é¸ã‚’ãŠã“ãªã„ã€çµæœã‚’ã‚‚ã¨ã«ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹\n4. å‚åŠ è€…ã¯æ™¯å“ã‚’æ‰‹ã«ã—ã¦å¤§å–œã³ï¼ğŸ¥³ğŸ\n\n# å®Ÿè£…\n\nè¨­è¨ˆã¨æ¯”è¼ƒã—ãªãŒã‚‰ã€ã²ã¨ã¤ãšã¤æ›¸ã„ã¦ã„ãã¾ã™\n\n## Google Spreadsheet\n\næ–°å©¦ã¨Googleãƒ‰ãƒ©ã‚¤ãƒ–ã‚’å…±æœ‰ã—ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å€¤ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã„ã¾ã™\nç”»åƒIDï¼ˆï¼‘ç®‡æ‰€URLã¦æ›¸ã„ã¦ã¾ã™ãŒ...ï¼‰ã«ã¤ã„ã¦ã¯ã‚ã¨ã§èª¬æ˜ã—ã¾ã™\n\n**æ™¯å“ä¸€è¦§ã‚·ãƒ¼ãƒˆ**\n![æ™¯å“ä¸€è¦§](https://qiita-image-store.s3.amazonaws.com/0/106259/128db961-b764-602b-1058-80fdb0127416.png)\n\n**NGãƒ«ãƒ¼ãƒ«ä¸€è¦§ã‚·ãƒ¼ãƒˆ**\n![NGãƒ«ãƒ¼ãƒ«ä¸€è¦§](https://qiita-image-store.s3.amazonaws.com/0/106259/6b49df00-1ec7-22c4-b20b-c658684ccb0f.png)\n\n**äººç‰©ä¸€è¦§ã‚·ãƒ¼ãƒˆ**\n![äººç‰©ä¸€è¦§](https://qiita-image-store.s3.amazonaws.com/0/106259/9fa6cd93-ede4-49ee-a97f-2749d1e42559.png)\n\nä¸Šè¨˜ã‚·ãƒ¼ãƒˆã«å…¥åŠ›å¾Œã€ã€ŒæŠ½é¸ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€NGãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦æŠ½é¸ã‚’è¡Œã£ãŸçµæœã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆ[ã“ã¡ã‚‰](https://stepism.sakura.ne.jp/adiary/036)ã®ã‚ˆã†ã«ã™ã‚‹ã¨å®Ÿè£…ã§ãã¾ã™ï¼‰\n\n**æŠ½é¸ã‚·ãƒ¼ãƒˆ**\n![æŠ½é¸](https://qiita-image-store.s3.amazonaws.com/0/106259/c68017a5-7c51-ee77-87f1-ac416fa2f37c.png)\n\n## Google Active Script\n\nã€Œè¡¨ç¤ºã—ã¾ã™ã€ã¨ã—ã‚Œã£ã¨æ›¸ãã¾ã—ãŸãŒã€ã“ã¡ã‚‰ã¯GASã«ã‚ˆã‚Šå®Ÿç¾ã—ã¾ã™\nNGãƒ«ãƒ¼ãƒ«ã‚·ãƒ¼ãƒˆã‚’å‚ç…§ã—ã¤ã¤æŠ½é¸ã‚’ãŠã“ãªã†drawLots()ã¨ã€æŠ½é¸çµæœã‚’å„ç¨®ä¸€è¦§ãƒ‡ãƒ¼ã‚¿ã¨ä½µã›ã¦JSONå½¢å¼ã§è¿”å´ã™ã‚‹doPost()ã‚’å®Ÿè£…ã—ã¾ã™\n\n```javascript:doPost()\nfunction doPost(event) {\n  var response = { error: \"error\" };\n\n  try {\n    var token = SpreadsheetApp.getActive().getSheetByName(\"æŠ½é¸\").getRange(\"B1\").getValue();\n    var s3_credential = SpreadsheetApp.getActive().getSheetByName(\"æŠ½é¸\").getRange(\"C1\").getValue();\n    var s3_bucket = SpreadsheetApp.getActive().getSheetByName(\"æŠ½é¸\").getRange(\"D1\").getValue();\n    var url_prefix = \"https://s3.amazonaws.com/\" + s3_bucket + \"/\";\n    if(event.parameter.token == token) {\n      response = {\n        ok: \"ok\",\n        persons: getPersons(url_prefix),\n        gifts: getGifts(url_prefix),\n        lots: getLots(),\n        s3_credential: s3_credential,\n        s3_bucket: s3_bucket\n      };\n    }\n  } catch(error) {\n    console.log(error);\n  }\n  \n  return ContentService\n    .createTextOutput(JSON.stringify(response))\n    .setMimeType(ContentService.MimeType.JSON); \n}\n```\n\nçœŸé¢ç›®ã«æ›¸ãã«ã¯è²§å¼±ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®JavaScript&ã‚¨ãƒ‡ã‚£ã‚¿ã‚’å·®ã—å¼•ã„ã¦ã‚‚ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨REST APIã‚’æ‰‹è»½ã«æ‰±ãˆã‚‹ã¨ã„ã†GASã¯ç›¸å½“ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã„ã¾ã™\nAPIã‚‚ã©ã“ã¨ãªãé¦´æŸ“ã¿ã®ã‚ã‚‹IFã§ã™ã—... ~~ã‚„ã£ã¦ã¦ã‚ˆã‹ã£ãŸVBA~~\n\nã‚ã¨ã“ã‚Œã¯é–‹ç™ºã—ã¦ã‹ã‚‰çŸ¥ã£ãŸã®ã§ã™ãŒã€[GASã‚’Gitç®¡ç†ã§ããŸã‚Š](https://qiita.com/rf_p/items/7492375ddd684ba734f8)ã€[TypeScriptã§ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ãŸã‚Š](https://tech.actindi.net/2018/09/10/083314)ãªã©ã€ç’°å¢ƒãŒã ã„ã¶æ•´ã£ã¦ãã¦ã„ã‚‹ã‚ˆã†ã§ã™ã®ã§ã€æ©Ÿä¼šã‚’è¦‹ã¤ã‘ã¦è§¦ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™\n\nãŸã ã€ç›¸å½“ã ã‚‰ã ã‚‰ã‚„ã£ã¦ã„ãŸãŸã‚ã€ã“ã®æ®µéšã§ã‚ã¦ã«ã—ã¦ã„ãŸä¼‘ã¿ã‚’ä½¿ã„åˆ‡ã£ã¦ã—ã¾ã„ã€ä»¥é™ã¯åƒãã¤ã¤æš‡ã‚’è¦‹ã¤ã‘ã¦ä½œã‚‹ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸ...\n\n## AWS S3 / Cognito\n\nã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¯Googleãƒ‰ãƒ©ã‚¤ãƒ–&GASã§ã¾ã‹ãªãˆã¾ã—ãŸãŒã€\nã‚¹ãƒ­ãƒƒãƒˆç”»é¢ãŠã‚ˆã³ç”»åƒã€éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®Webå…¬é–‹ã¨ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«ã¤ã„ã¦ã€ã©ã®ã‚ˆã†ã«å®Ÿç¾ã™ã‚‹ã‹è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\n\n[è»¢è·å…ˆ](https://www.hands-lab.com/)ã§AWSã‚’ä½¿ã†ä¸­ã§ã€ S3ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤–éƒ¨å…¬é–‹ã™ã‚‹[é™çš„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°](https://qiita.com/gcsungwoo/items/2e49c3008a04e48581ed)ã‚’çŸ¥ã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºçš„ã«åˆ©ç”¨æ–™ã‚‚ã‹ã‹ã‚‰ãšè‰¯ã•ãã†ã ã£ãŸã®ã§ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ\n\nãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã¯ã€[ã“ã¡ã‚‰ã®è¨˜äº‹](https://www.selfree.co.jp/2015/06/18/%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%81%A7javascript-%E3%81%A0%E3%81%91%E3%81%A7%E7%94%BB%E5%83%8F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95)ã‚’å‚è€ƒã«ã€Cognitoã§é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã‚‹ãƒã‚±ãƒƒãƒˆã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¨©é™ã‚’ç¢ºèªã™ã‚‹ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã—ãŸ\nåˆ©ç”¨ã®éš›ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚„æ¥ç¶šã«å¿…è¦ãªæƒ…å ±ãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€HTMLã«ã¯åŸ‹ã‚è¾¼ã¾ãšã€GASã®APIã‹ã‚‰è¿”å´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™\n\n```javascript:æ¥ç¶šæƒ…å ±ã®ç”Ÿæˆ\nsontaku.props.s3client = function () {\n  AWS.config.region = sontaku.data.s3_credential.split(\":\")[0];\n  AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n    IdentityPoolId: sontaku.data.s3_credential\n  });\n  return new AWS.S3({\n    params: {\n      Bucket: data.s3_bucket\n    }\n  });\n};\n```\n\n# ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œ/ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢\n\nã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©ã¯å¤§ä½“å®šã¾ã£ãŸã®ã§ã€è‚å¿ƒã®ã‚¹ãƒ­ãƒƒãƒˆç”»é¢å‘¨ã‚Šã‚’ä½œã£ã¦ã„ãã¾ã™\nå…ˆã»ã©å›³ã§ç¤ºã—ãŸã‚ˆã†ã«ã€ã‚¹ãƒ­ãƒƒãƒˆã¯ãƒ‘ãƒ¼ãƒ†ã‚£ä¼šå ´ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ã«å…¨ç”»é¢è¡¨ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã ã‘ã ã¨ã‚¹ã‚¿ãƒ¼ãƒˆ/ã‚¹ãƒˆãƒƒãƒ—ã®æŒ‡ç¤ºã‚’å‡ºã™ã®ãŒé›£ã—ã„ãŸã‚ã€\nã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã‚’ä½œã£ã¦ã€ãã“ã‹ã‚‰ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã®æŒ™å‹•ã‚’åˆ¶å¾¡ã—ã¾ã™\n\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹æ–¹æ³•ã¯ã€å½“åˆã¯WebSocketã«ã—ãŸã‚‰ç¾åœ°ã«ã„ãªãã¦ã‚‚é éš”æ“ä½œã§ãã‚‹ã‚“ã˜ã‚ƒ...ã¨ã‹è‰²ã€…è€ƒãˆã¾ã—ãŸãŒã€æœ€çµ‚çš„ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã‹ã‚‰ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã‚’èµ·å‹•ã—ã€windowã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›´æ¥ã„ã˜ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ\nãƒ€ã‚µã„ã§ã™ãŒã€æ‰‹é–“ã‚‚ã‹ã‹ã‚‰ãšç¢ºå®Ÿæ€§ã®é«˜ã„ã‚„ã‚Šæ–¹ã ã¨æ€ã£ã¦ã¾ã™\n\nS3ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã•ã‚ŒãŸã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã‹ã‚‰GASã®REST APIã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€æŠ½é¸çµæœã‚„å‚åŠ è€…ä¸€è¦§ã€æ™¯å“ä¸€è¦§ã®å…¥ã£ãŸJSONã‚’å–å¾—ã—ã¾ã™\nã“ã¡ã‚‰ã®ç”»é¢ã®ã€Œèµ·å‹•ã€ã€ã€Œæº–å‚™ã€ã€ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ã¨ã„ã£ãŸå„ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§ã€ã“ã®å¾Œèª¬æ˜ã™ã‚‹ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã®è¡¨ç¤ºçŠ¶æ…‹ã‚’åˆ¶å¾¡ã—ã¾ã™\n\n![ã‚³ãƒ³ã‚½ãƒ¼ãƒ«](https://qiita-image-store.s3.amazonaws.com/0/106259/a0102f18-b364-a7a2-eb72-58b52f906a4d.png)\n\nã¾ãŸã€REST APIã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«Cognitoã®èªè¨¼IDã‚’å—ã‘å–ã£ã¦ã„ã‚‹ãŸã‚ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«ã¤ã„ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‰ãšå‹•ä½œã•ã›ã‚‰ã‚Œã¾ã™\nãªãŠã€ç”»åƒIDã¯ã€[cuid](https://github.com/ericelliott/cuid)ã‚’ä½¿ã£ã¦ç™ºç•ªã—ã¦ã„ã¾ã™\n\n![ç”»åƒã‚¢ãƒƒãƒ•ã‚šãƒ­ãƒ¼ãƒˆã‚™](https://qiita-image-store.s3.amazonaws.com/0/106259/c6339148-ca6f-a46f-f0d5-4ef85ff1a0e8.png)\n![ç”»åƒ](https://qiita-image-store.s3.amazonaws.com/0/106259/4a0c0422-9c53-be49-1006-b37f2934056a.png)\n\nUIã«ã¤ã„ã¦ã¯ã€Bootstrapç”¨CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®[Flat UI](http://designmodo.github.io/Flat-UI/)ã‚’ä½¿ã£ã¦ã¿ãŸã®ã¨ã€ï¼ˆä½¿ã„ã“ãªã›ã¦ã„ã¾ã›ã‚“ãŒï¼‰SASSã‚’[Koala](http://koala-app.com/)ã‚’ä½¿ã„ã¤ã¤æ›¸ãã¾ã—ãŸã€‚[å‰å›](https://qiita.com/yktakaha4/items/e535c310f0532798e721)ã¯Pingendoã«ä»˜å±ã—ã¦ã„ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é©å½“ã«çµ„ã¿åˆã‚ã›ã¦ã„ãŸã ã‘ã ã£ãŸã®ã§ã€å¤šå°‘é€²æ­©ãŒã‚ã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™\nJavaScriptã«ã¤ã„ã¦ã¯ã€ä¾ç„¶ã¨ã—ã¦jQueryãŠã˜ã•ã‚“ã‚’æŠœã‘å‡ºã›ãšã«ã„ã¾ã™...2019å¹´ä¸­ã«ã¯ã‚‚ã†ã¡ã‚‡ã£ã¨ãƒ¢ãƒ€ãƒ³ãªæ›¸ãæ–¹ã«è¿½ã„ã¤ããŸã„ã¨æ€ã„ã¾ã™\n\n# ã‚¹ãƒ­ãƒƒãƒˆç”»é¢\n\nã„ã‚ˆã„ã‚ˆè‚å¿ƒã®ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã«ãªã‚Šã¾ã™ã€‚æ“ä½œç”»é¢ã«ã¦ã‚¹ãƒ­ãƒƒãƒˆç”»é¢è¡¨ç¤ºãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æ–°å©¦æŒ‡å®šã®ç”»åƒãŒå›ã‚Šã¯ã˜ã‚ã¾ã™ï¼ˆMacã®ãƒ•ã‚¡ãƒ³ã‚‚å‡„ã„å‹¢ã„ã§å›ã‚Šã¾ã™ğŸŒªï¼‰\n\n![ã‚¹ãƒ­ãƒƒãƒˆç”»é¢](https://qiita-image-store.s3.amazonaws.com/0/106259/8916280b-5d25-dc2e-81fe-8bd0f96ba8df.gif)\n\nã‚¹ãƒ­ãƒƒãƒˆã®ã‚¹ã‚¿ãƒ¼ãƒˆã¨ã‚¹ãƒˆãƒƒãƒ—ã‚’ç¹°ã‚Šè¿”ã—ãªãŒã‚‰ã€ã€Œä¼šç¤¾ã€ã®ã€Œé«˜æ©‹ã€æ§˜ã«ã€Œé¸ã¹ã‚‹ç¥æˆ¸ç‰›ã€ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ...ã¿ãŸã„ãªæ„Ÿã˜ã§ã€äºˆã‚æ±ºã‚ã¦ãŠã„ãŸæŠ½é¸çµæœã‚’é †ç•ªã«ç”»é¢è¡¨ç¤ºã—ã¦ã...ã¨ã„ã†ã‚‚ã®ã«ãªã‚Šã¾ã™\n\nã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã¯Bootstrapã‚’ä½¿ã„ã¾ã—ãŸãŒã€ã‚¹ãƒ­ãƒƒãƒˆç”»é¢ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ç”¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ä½¿ã‚ãšã€ç´ ã®HTML/CSSã¨jQueryã§é ‘å¼µã‚‹ã¨ã„ã†æ–¹é‡ã§ä½œã‚Šã¾ã—ãŸ\nå˜ã«ä½¿ã„ã‚ˆã•ãã†ãªã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã€ã¨ã„ã†ã ã‘ãªã®ã§ã™ãŒã€ä»Šå›ã¿ãŸã„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã£ã¦ã‚ã‚‹ã‚“ã§ã—ã‚‡ã†ã‹...ï¼Ÿ\n\n## CSS\n\nä»Šå›ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§åœ°å‘³ã«è‹¦åŠ´ã—ãŸã®ãŒã€ã€Œã©ã®ã‚ˆã†ãªç¸¦æ¨ªæ¯”ã‚’æƒ³å®šã—ã¦è¦ç´ ã‚’é…ç½®ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿã€ã¨ã„ã†ã“ã¨ã§ã—ãŸ\nä¾‹ãˆã°Bootstrapã§ã‚ã‚Œã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å¹…ã‚’åŸºæº–ã«ã€ã‚ãµã‚Œã‚‹é …ç›®ã‚’è¡Œé€ã‚Šï¼ˆï¼ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ã•ã›ã‚‹ã“ã¨ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ•´åˆæ€§ã‚’ä¿ã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã®å ´åˆã ã¨ã€å„è¦ç´ ã‚’ã™ã¹ã¦æç”»ã‚¨ãƒªã‚¢ã«åã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\n\nã—ã‹ã—ã€æœ¬ç•ªç’°å¢ƒï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ä¼šå ´ï¼‰ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ãªç¸¦æ¨ªæ¯”ã‚’ã—ã¦ã„ã‚‹ã‹ã¯ã€ãƒªãƒãƒ¼ã‚µãƒ«ã®æ—¥ã¾ã§ã¯ã‚ã‹ã‚Šã¾ã›ã‚“\nãªã®ã§ã€ã€Œç¸¦oræ¨ªã®æœ€å¤§å¹…ã‚’ï¼‘ã¨ã—ãŸç›¸å¯¾ã‚µã‚¤ã‚ºã§ã™ã¹ã¦ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã™ã‚‹ã€ã¨ã„ã†è€ƒãˆæ–¹ã§è¦ç´ ã‚’é…ç½®ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™\nãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ãªã©ã€æ˜¨ä»Šã®ä¸€èˆ¬çš„ãªè¡¨ç¤ºãƒ‡ãƒã‚¤ã‚¹ã¯æ¨ªå¹…ã‚ˆã‚Šç¸¦å¹…ã®æ–¹ãŒçŸ­ã„ã®ã§ã€ä»Šå›ã¯ç¸¦å¹…ã‚’åŸºæº–ã«æ¨ªå¹…ã‚’æ±ºå®šã™ã‚‹æ–¹é‡ã§ä½œã‚Šã¾ã—ãŸ\nï¼ˆèª¬æ˜ãŒä¸‹æ‰‹ã§ç”³ã—è¨³ãªã„ã§ã™ãŒã€ä»¥ä¸‹ã‚’è¦‹ã¦ã‚‚ã‚‰ãˆã°ãŠãŠã‚ˆãè¨€ã„ãŸã„ã“ã¨ã¯ä¼ã‚ã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™ï¼‰\n\n**ç¸¦å¹… < æ¨ªå¹…ã®å ´åˆ**\n![ç¸¦ã«.png](https://qiita-image-store.s3.amazonaws.com/0/106259/c3b0e48e-100d-f68b-2933-3f673ef409d0.png)\n\n**ç¸¦å¹… = æ¨ªå¹…ã®å ´åˆ**\n![æ­£æ–¹å½¢](https://qiita-image-store.s3.amazonaws.com/0/106259/ec4ba685-ebe3-29e3-5add-f897c3667831.png)\n\nä»Šå›ã€ä¸Šè¨˜ã®ã‚ˆã†ãªç”»é¢è¡¨ç¤ºã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€[vh(Viewport Height)](https://www.webprofessional.jp/css-viewport-units-quick-start/)ã¨ã„ã†å˜ä½ã‚’è¦æ‰€ã§ä½¿ã£ã¦ã„ã¾ã™\n`100vh = ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®é«˜ã•`ã¨ã„ã†ã‚‚ã®ã§ã€ã“ã‚Œã‚’ä½¿ãˆã°ã€ã‚ˆãä½¿ã†`%`ã‚„`em`ã§ã¯å®Ÿç¾ã—ã¥ã‚‰ã„ã‚µã‚¤ã‚ºæŒ‡å®šã‚’æŸ”è»Ÿã«ãŠã“ãªã†ã“ã¨ãŒã§ãã¾ã™\n\nä¸Šè¨˜`vh`ã«åŠ ãˆã€`position: absolute;`ã§èŠ±ã‚„ã‚‰ãƒªãƒœãƒ³ã‚„ã‚‰ã‚’è¡¨ç¤ºã‚¨ãƒªã‚¢ã®ç«¯ã‹ã‚‰ç›¸å¯¾ä½ç½®ã§æç”»ã—ã¦ã„ãã€ç”»é¢ã‚’ä½œã£ã¦ã„ãã¾ã—ãŸ\nç”»åƒã®ã‚µã‚¤ã‚ºã‚„åè»¢ãªã©ã«ã¤ã„ã¦ã¯ã€`transform`ãŒã ã„ã¶å½¹ã«ç«‹ã¡ã¾ã—ãŸ\n\n```css:èŠ±ã®é…ç½®\n/* å·¦ã®èŠ± */\n.flowers-left {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 30%;\n  -webkit-transform: scale(-1, 1) translate(5%, 5%);\n  z-index: 1;\n}\n/* å³ã®èŠ± */\n.flowers-right {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 30%;\n  -webkit-transform: translate(5%, 5%);\n  z-index: 1;\n}\n```\n\nãã®ä»–ã€ç´°ã‹ãªè©±ã ã¨ã€æ–‡å­—ã®è£…é£¾ï¼ˆæ ç·šã€æ˜æ»…ï¼‰ã¯CSS Animationã§å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§text-strokeãªã©ã®è¡¨ç¤ºæ„ŸãŒçµæ§‹ç•°ãªã‚Šã€ã“ã®ãŸã‚å½“åˆChromeã§ã‚„ã‚‹ã¤ã‚‚ã‚Šã ã£ãŸã‚‚ã®ã‚’Safariã§å‹•ã‹ã™ã‚ˆã†ã«å¤‰ãˆãŸã‚Šã—ã¾ã—ãŸ\n\n![screencast 2018-12-24 00-06-40.gif](https://qiita-image-store.s3.amazonaws.com/0/106259/14a7faa9-8578-614d-d57a-806a8d663bf3.gif)\n\n```css:æ–‡å­—è£…é£¾\n.slot-text {\n  font-size: 9vh;\n  color: gold;\n  -webkit-text-stroke: thin black;\n}\n\n.text {\n  vertical-align: middle;\n  z-index: 50;\n  font-family: 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Std W8', monospace;\n  font-weight: bold;\n\n  line-height: 1em;\n  -webkit-animation: neon 1s ease-in-out infinite alternate;\n}\n\n@keyframes neon {\n  from {\n    text-shadow: 0 0 1px white, 0 0 2px white, 0 0 3px white, 0 0 4px lightyellow, 0 0 5px lightyellow, 0 0 6px lightyellow, 0 0 7px lightyellow, 0 0 8px lightyellow;\n  }\n\n  to {\n    text-shadow: 0 0 2px white, 0 0 4px white, 0 0 6px white, 0 0 8px lightyellow, 0 0 10px lightyellow, 0 0 12px lightyellow, 0 0 14px lightyellow, 0 0 16px lightyellow;\n  }\n}\n```\n\nèŠ±ã€ãƒªãƒœãƒ³ã‚„ãƒ—ãƒ¬ãƒ¼ãƒˆã€èƒŒæ™¯ã®ã‚«ãƒ¼ãƒ†ãƒ³ã¯[Illust AC](https://www.ac-illust.com/)ã¨ã„ã†ç´ æã‚µã‚¤ãƒˆã‚ˆã‚Šæ‹å€Ÿã—ã¾ã—ãŸ\n\nhttps://www.ac-illust.com/main/detail.php?id=1023007\nhttps://www.ac-illust.com/main/detail.php?id=718442\nhttps://www.ac-illust.com/main/detail.php?id=860468\n\n## JavaScript\n\nã‚¹ãƒ­ãƒƒãƒˆã®ä»•çµ„ã¿ã¯ã€jQueryã®ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®[Slick](http://kenwheeler.github.io/slick/)ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãªã‚“ã¨ã‹ã—ã¾ã—ãŸã€‚ã“ã‚ŒãŒãªã‹ã£ãŸã‚‰å¤šåˆ†é “æŒ«ã—ã¦ã¾ã—ãŸ...ãã‚Œãã‚‰ã„è‰²ã€…ã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ã‚‚ã‚‰ãˆã¦åŠ©ã‹ã‚Šã¾ã—ãŸ\n\nã¾ãŸã€ã‚¹ãƒ­ãƒƒãƒˆã®å›è»¢æ™‚ã«ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã¼ã‚„ã‹ã—ãŸæ–¹ãŒãã‚Œã£ã½ãã†ã ã£ãŸã®ã§ã€åŒã˜ãjQueryãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®[Foggy](http://nbartlomiej.github.io/foggy/)ã‚’ä½¿ã„ã¾ã—ãŸ\n\n```javascript:ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½¿ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸\n// Slick\n$(\".slot-wheel\").slick({\n  arrows: false,\n  infinite: true,\n  slidesToShow: 3,\n  slidesToScroll: 1,\n  centerMode: true,\n  variableWidth: true,\n  autoplay: true,\n  autoplaySpeed: 0,\n  speed: 1000,\n  pauseOnFocus: false,\n  pauseOnHover: false,\n  cssEase: 'ease',\n  useCSS: true,\n  useTransform: true\n}).slick(\"slickPause\");\n\n// Foggy\n$(\".slot-wheel\").foggy(false);\n```\n\n![ã‚¹ãƒ­ãƒƒãƒˆå›è»¢](https://qiita-image-store.s3.amazonaws.com/0/106259/516628b4-e63f-5e2c-e548-8dba061f411f.gif)\n\nã‚ãŸã‚Šã®éš›ã«èƒŒæ™¯ã‚’ãŠã‚ã§ãŸã„æ„Ÿã˜ã«ã—ãŸã‹ã£ãŸã®ã§ã€[pow.js](http://obadger.com/pow/)ã‚’ä½¿ã£ã¦ç´…ç™½ã‚’å…¥ã‚Œæ›¿ãˆãŸèƒŒæ™¯ã‚’ï¼’æšä½œã‚Šã€ãƒ‘ã‚«ãƒ‘ã‚«ã•ã›ã¦å‹•ãã‚’ã¤ã‘ã¾ã—ãŸ\n\n![screencast 2018-12-23 23-56-19.gif](https://qiita-image-store.s3.amazonaws.com/0/106259/9ce56768-896d-56a6-2b4b-ea0ca3b9ba45.gif)\n\n```javascript:pow.jsåˆ©ç”¨ã‚¤ãƒ¡ãƒ¼ã‚¸\n// pikaã£ã¦...\nvar pika = function (selector, type) {\n  var ray = type ? \"red\" : \"white\";\n  var bg = type ? \"white\" : \"red\";\n  $(selector).pow({\n    rays: 32,\n    rayColorStart: ray,\n    rayColorEnd: ray,\n    bgColorStart: bg,\n    bgColorEnd: bg,\n    originX: \"50%\",\n    originY: \"50%\"\n  });\n};\npika(\".pikapika.fore\", false);\npika(\".pikapika.alt\", true);\n```\n\nãã®ä»–ã€èƒŒæ™¯ã§æ˜ŸãŒã‚­ãƒ©ã‚­ãƒ©ã—ã¦ã‚‹ã®ã¯ã€[ã“ã¡ã‚‰](http://jsdo.it/nao_k116/rx27)ã‚’å‚è€ƒã«å®Ÿè£…ã—ã¾ã—ãŸ\n\nã‚ã¨ã€ä½œã£ã¦ã„ã‚‹é€”ä¸­ã«ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ï¼ˆæ–°å©¦ï¼‰ã‹ã‚‰éŸ³ã‚’é³´ã‚‰ã—ã¦æ¬²ã—ã„ã¨è¨€ã‚ã‚Œã€[ç´ æã‚µã‚¤ãƒˆ](https://soundeffect-lab.info/sound/anime/)ã‹ã‚‰é ‚ãã¤ã¤[audioè¦ç´ ](http://www.htmq.com/html5/audio.shtml)ã‚’ä½¿ã£ã¦ãªã‚“ã¨ã‹ã—ã¾ã—ãŸï¼ˆã‚³ãƒ¼ãƒ‰ã¯å‚è€ƒã«ãªã‚‰ãªã„ãƒ¬ãƒ™ãƒ«ãªã®ã§å‰²æ„›ã—ã¾ã™...ï¼‰\n\n---\n\næŠ€è¡“çš„ãªè©±ã‚’ä¸­å¿ƒã«è‰²ã€…æ›¸ãã¾ã—ãŸãŒã€ã“ã®é–“ã«å°‘ã—ä½œã£ã¦ã¯æ–°å©¦ã«ç¢ºèªã—ã¦ã‚‚ã‚‰ã†ã‚ˆã†é€£çµ¡ã—ã€ãªã‚‹ã¹ãé½Ÿé½¬ãŒå‡ºãªã„ã‚ˆã†ã«åŠªã‚ã¾ã—ãŸ\n\n# é‹ç”¨\n\nç”»é¢è¡¨ç¤ºç¢ºèªã®ãƒªãƒãƒ¼ã‚µãƒ«ã‚’ä¸€å›æŒŸã¿ã€å½“æ—¥ã¯ã™ãã«ã‚„ã£ã¦ãã¾ã—ãŸ\nä¸€èˆ¬å‚åŠ è€…ã‚ˆã‚Šæ—©ã‚ã«ä¼šå ´å…¥ã‚Šã—ã€æ©Ÿæã‚’ç¹‹ã’ã¦å¾…ã¡ã¾ã™...\n\nä¼šã®å‚åŠ è€…ã¯ã€æœ€çµ‚çš„ã«80åã»ã©ã«ãªã£ã¦ã„ã¾ã—ãŸ...\nãƒ‘ãƒ¼ãƒ†ã‚£ãŒå§‹ã¾ã£ã¦ã‚‚é…’ã®ä¸€æ»´ã‚‚é£²ã¾ãšã€æ–™ç†ã‚‚å£ã«ã›ãšã€\nçŸ¥äººã¨è©±ã›ã©ã‚‚ç·Šå¼µã§è¦é ˜ã‚’å¾—ãšã€ãŸã å·±ã®é †ç•ªãŒæ¥ã‚‹ã®ã‚’å¾…ã¡ã¾ã™...\n\nãƒ‘ãƒ¼ãƒ†ã‚£ã‚‚åŠåˆ†ã‚’éããŸé ƒã€ã‚ˆã†ã‚„ãè‡ªåˆ†ã®ç•ªãŒã‚„ã£ã¦ãã¾ã—ãŸ...\næ–°å©¦ãŒã€Œãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã€ã‚¹ã‚¿ãƒ¼ãƒˆï¼ã€ã ã¨ã‹ã€Œã‚¹ãƒˆãƒƒãƒ—ï¼ã€ã¨ã‹è¨€ã†ãŸã³ã«ã€ã‚¹ãƒ­ãƒƒãƒˆæ“ä½œç”»é¢ã®ãƒœã‚¿ãƒ³ã‚’ä¸€ã¤ãšã¤æŠ¼ã—ã¦ã„ãã¾ã™...\n\nã†ã‚ã‚...ãƒã‚¸ã§å‹•ã„ã¦ã‚‹ã‚ˆ...ğŸ˜¨\n\n![æœ¬ç•ª](https://qiita-image-store.s3.amazonaws.com/0/106259/31b6bfc0-676f-1ac9-ba40-8389194012a1.png)\n\nã¿ã‚“ãªã‚ã£ã¡ã‚ƒè¦‹ã¦ã‚‹ã—...ğŸ¤¢ï¼ˆå½“ãŸã‚Šå‰ã ï¼‰\næ™‚æŠ˜ä¼šå ´ãŒç››ã‚Šä¸ŠãŒã‚‹åº¦ã«è‚ãŒå†·ãˆã€å¤‰ãªç¬‘ã„ãŒå‡ºã¾ã™...\n\n![æœ¬ç•ªï¼’](https://qiita-image-store.s3.amazonaws.com/0/106259/55636b08-edc4-62b8-0cdb-f32ff952d6d9.png)\n\nãã®å¾Œã€ã¯ã‚ˆçµ‚ã‚ã£ã¦ãã‚Œã¨ã„ã†æ€ã„ã‚’è¾¼ã‚ã¦ç„¡å¿ƒã§ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ç¶šã‘ã€\nçµæœçš„ã«ã¯å¤§ããªãƒˆãƒ©ãƒ–ãƒ«ã‚‚ãªãã€ä½•ã¨ã‹æŒã¡æ™‚é–“ã‚’ç„¡äº‹ã‚„ã‚Šãã£ãŸã®ã§ã—ãŸ\n\nçµ‚ã‚ã£ãŸå¾Œã‚‚ã—ã°ã‚‰ãæ”¾å¿ƒã—ã¦ã„ãŸã®ã§ã™ãŒã€\næ®‹ã£ã¦ã„ãŸå†·ãˆãŸãƒã‚«ãƒ­ãƒ‹çš„ãªã‚‚ã®ã¨ãƒ“ãƒ¼ãƒ«ãŒã™ã’ãˆã†ã¾ã‹ã£ãŸã®ã‚’è¦šãˆã¦ã„ã¾ã™...ğŸ»\n\næ›¸ã„ã¦ã¿ã‚‹ã¨ã»ã¨ã‚“ã©ã‚ã£ã¨ã„ã†é–“ã¨ã„ã†é¢¨ã§ã™ãŒã€å®Ÿéš›ã®æ™‚é–“æ„Ÿè¦šã‚‚ã“ã‚“ãªæ„Ÿã˜ã ã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™â³\n\n# æ‰€æ„Ÿ\n\næ€ã£ãŸã“ã¨ã‚’ç®‡æ¡æ›¸ãã§...\n\n- éŸ³ã¯ã™ã’ãˆå¤§äº‹ğŸ·\n    - å®¶ã§ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã¨ãã¯ç„¡éŸ³ã§ã‚‚ãã“ã¾ã§æ°—ã«ãªã‚‰ãªã„ã®ã§ã™ãŒã€å®Ÿéš›ã«ç¾å ´ã§å‹•ã‹ã™ã¨ã€äººã¯éŸ³ã§ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹ï¼ˆãƒ‰ãƒ©ãƒ ãƒ­ãƒ¼ãƒ«ã§æŠ½é¸ä¸­ã¨ã‹ã€ã‚·ãƒ³ãƒãƒ«ãŒãªã£ãŸã‚‰ã‚¹ãƒ­ãƒƒãƒˆãŒæ­¢ã¾ã£ãŸã¨ã‹ï¼‰ã‚’èªè­˜ã—ã¦ã„ã‚‹ã‚ˆã†ã«æ€ã„ã¾ã—ãŸã€‚éŸ³ãŒã¡ã‚‡ã£ã¨å‡ºé…ã‚Œã‚‹ã¨ç·Šå¼µãŒèµ°ã£ãŸã‚Šã—ã¦...\n    - åŒã˜æ„å‘³ã§BGMã‚‚å¤§äº‹ã§ã™ã€‚ä¸‡ä¸€ãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ããŸæ™‚ã«ã€ç„¡éŸ³ã§å‚åŠ è€…ã‚’å¾…ãŸã›ã¦å ´ãŒå†·ãˆã‚‹ã€ã¨ã„ã†ã“ã¨ã¯é¿ã‘ã­ã°ãªã‚Šã¾ã›ã‚“ã€‚ãƒˆãƒ©ãƒ–ãƒ«ãŒãªãã¦ã‚‚ã€ã‚²ãƒ¼ãƒ ã®é€²è¡Œä¸­ã«ã‚‚ãŸã¤ã„ãŸã‚Šã—ãŸæ™‚ã«ã€èƒŒæ™¯ã§ä½•ã‹ã—ã‚‰æµã‚Œã¦ã„ã‚‹ã¨ã ã„ã¶äº‹æ•…æ„ŸãŒè–„ã‚Œã‚‹ã‚ˆã†ã«æ€ã„ã¾ã—ãŸ\n    - ä»Šå›ã¯ã€Amazon Musicã§ã€Œã‚¸ãƒ£ã‚ºã€€æ¥½å›£ã€ã¿ãŸã„ãªãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ã—ä½œã£ãŸãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ãƒ«ãƒ¼ãƒ—å†ç”Ÿã—ã¦ã¾ã—ãŸ\n\n- ç”»é¢ã‚’æš—è»¢ã•ã›ã‚‹æ™‚ã¯ã€ç”»é¢ç«¯ã«ãƒãƒ¼ã‚¯ã‹ä½•ã‹ã‚’è¡¨ç¤ºã—ã¦ãŠãã¨ã‚ˆã„\n    - ä¼šå ´ã«ã‚‚ã‚ˆã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€ä»Šå›ã¯HDMIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ã«ã¤ãªã„ã§æŠ•å½±ã¨ã„ã†å½¢ã§ã—ãŸã€‚å½“æ—¥ã¾ã§ãƒªãƒ¢ã‚³ãƒ³ã‚’æ‰‹å…ƒã«ç½®ã„ã¦ãŠã‘ã‚‹ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§ã€åˆæœŸè¡¨ç¤ºæ™‚ã«æš—è»¢â†’ãƒœã‚¿ãƒ³åˆ¶å¾¡ã§è¡¨ç¤ºã¨ã„ã†å½¢ã«ã—ãŸã®ã§ã™ãŒã€HDMIå´ã¨ã‚¢ãƒ—ãƒªå´ã®ã©ã¡ã‚‰ã§è¡¨ç¤ºã‚’åˆ‡ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãšã€ä¸å®‰ã«ãªã‚‹å ´é¢ãŒã‚ã‚Šã¾ã—ãŸ\n    - ç”»é¢æš—è»¢æ™‚ã«ã€å·¦ä¸Šã«èµ¤ã¨ã‹ç·‘ã§â—ã‚’è¡¨ç¤ºã—ã¦ãŠãã¨ã‹ã™ã‚Œã°ã€ã‚ã‹ã‚Šã‚„ã™ããªã£ãŸã‹ãªã¨æ€ã„ã¾ã™\n\n- ç•°å¸¸ç³»ã®ã‚±ãƒ¼ã‚¹ã‚’ã¡ã‚ƒã‚“ã¨è€ƒãˆã¦ãŠã“ã†ğŸš¨\n    - ä½™èˆˆã®é€”ä¸­ã«ã€Œå½“é¸è€…ãŒç¢ºå®šã—ãŸãŒã‚¿ãƒã‚³ã‚’å¸ã„ã«è¡Œã£ã¦ã¦ã„ãªã‹ã£ãŸã€ã¨ã„ã†ã“ã¨ãŒãŠããŸã®ã§ã™ãŒã€å¸ä¼šã®æ–¹ãŒæ©Ÿè»¢ã‚’åˆ©ã‹ã›ã¦å½“é¸è€…ã®çŸ¥äººã«ä»£ã‚ã‚Šã«å—ã‘å–ã£ã¦ã‚‚ã‚‰ã†ã‚ˆã†ä¿ƒã—ã¦ãã‚Œã¦å‘½æ‹¾ã„ã—ãŸ...ã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸ\n    - ãã˜å¼•ãã®ã‚ˆã†ã«ãã®å ´ã§å†æŠ½é¸ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒä¸å¯èƒ½ãªä»•æ§˜ã«ã—ã¦ã„ãŸã®ãŒã‚ˆããªã‹ã£ãŸã€ã¨ã„ã†è©±ã§ã‚‚ã‚ã‚Šã¾ã™ãŒã€äº‹å‰ã«ä¼ãˆã¦ãŠã‘ã°é‹ç”¨ã§ã†ã¾ãã‚«ãƒãƒ¼ã§ãã‚‹ã“ã¨ã ã¨ã‚‚æ€ã†ã®ã§ã€SEçš„ã«è¨€ãˆã°ã‚³ãƒ³ãƒãƒ—ãƒ©ãƒ³ã£ã¦å¤§äº‹ã ãªã‚...ã¨æ€ã£ãŸæ¬¡ç¬¬ã§ã™\n\n- ãƒ¦ãƒ¼ã‚¶ã®è¦æœ›ã¯ã¡ã‚ƒã‚“ã¨èã„ã¦ãŠã“ã†\n    - æ–°å©¦ã«ç¢ºèªã—ã¦ã‚‚ã‚‰ã£ã¦ã‚‹ä¸­ã§ã€ã€Œãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®å‡ºç›®ã‚’ç„¡ç†ã‚„ã‚Šå‹•ã‹ã™ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œã£ã¦ã»ã—ã„ã€ã¨è¨€ã‚ã‚Œã¦ã„ãŸã®ã§ã™ãŒã€å½“æ™‚ãã‚Œä»¥å‰ã«Slickã‚’ã†ã¾ãå‹•ã‹ã›ã¦ãŠã‚‰ãšï¼ˆä¸€ã¤ãšã‚Œã¦æ­¢ã¾ã£ãŸã‚Šã¨ã‹ğŸ˜‡ï¼‰ã€ã€Œã§ããŸã‚‰å¯¾å¿œã™ã‚‹ã€çš„ãªã“ã¨ã‚’è¨€ã£ã¦ã†ã‚„ã‚€ã‚„ã«ã—ã€çµå±€ã‚„ã‚‰ãšã˜ã¾ã„ã§å½“æ—¥ã‚’è¿ãˆã¾ã—ãŸ\n    - ä½™èˆˆãŒçµ‚ã‚ã£ãŸå¾Œã«å‹äººï¼ˆæ€ã£ãŸã“ã¨ãªã‚“ã§ã‚‚è¨€ã£ã¦ãã‚‹ã‚„ã¤ï¼‰ã«è©±ã—ã‹ã‘ã‚‰ã‚Œè¨€ã‚ã‚ŒãŸã®ã¯ã€Œæœ€åˆã¯ã‚ˆã‹ã£ãŸã‘ã©å˜èª¿ã§é£½ããŸğŸ˜¡ã€ã¨ã„ã†ã“ã¨ã§ã—ãŸ\n    - ä»•æ§˜ã‚’å‡ºã—ã¦ã„ã‚‹å½“äº‹è€…ãŒæŒ‡æ‘˜ã™ã‚‹ã“ã¨ã¯ã€é«˜ã„ç¢ºç‡ã§ä»–ã®èª°ã‹ã‚‚æŒ‡æ‘˜ã™ã‚‹ã¨ã„ã†å¥½ä¾‹ã ãªã¨æ€ã£ãŸã®ã¨ã€ãã†ã—ãŸï¼ˆã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ä¸Šã§ã¯ï¼‰ã¡ã‚‡ã£ã¨ã—ãŸæ”¹å–„ã§ãƒ¦ãƒ¼ã‚¶ã®æº€è¶³åº¦ãŒå¤§ããä¸ŠãŒã‚‹ã“ã¨ã‚‚å¾€ã€…ã«ã—ã¦ã‚ã‚‹ã ã‚ã†ã€ã¨å®Ÿæ„Ÿã—ã¾ã—ãŸ\n\n- ï¼ˆæœ›ã‚€ãªã‚‰ï¼‰ãŠé‡‘ã®ã“ã¨ã‚’äº‹å‰ã«æ±ºã‚ã¦ãŠã“ã†ğŸ’°\n    - ãƒ‘ãƒ¼ãƒ†ã‚£ãŒçµ‚ã‚ã£ãŸå¾Œã€ä¸€ç·’ã«å‚åŠ ã—ãŸå‹äººã¨ï¼’æ¬¡ä¼šã‚„ã‚‰ã‚«ãƒ©ã‚ªã‚±ã‚„ã‚‰ã«è¡Œã£ã¦ã„ã‚‹ã¨æ–°å©¦ãŒã‚„ã£ã¦ãã¦ã€å¯¸å¿—ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸ\n    - å€‹äººçš„ã«ã¯ã€äººç›®ã«è§¦ã‚Œã‚‹ã‚‚ã®ã‚’ä½œã‚‹ã„ã„æ©Ÿä¼šã¨æ€ã£ã¦ã‚„ã£ã¦ã„ãŸã“ã¨ãªã®ã§è¬ç¤¼ã‚’ã‚‚ã‚‰ã†ã®ã¯ç‰¹ã«è€ƒãˆã¦ãªã‹ã£ãŸã®ã§ã™ãŒã€ã€Œã‚‚ã—ã‚‚ã“ã‚ŒãŒå€‹äººäº‹æ¥­ä¸»ã§ã€å—æ³¨ã—ãŸä»•äº‹ã«ã‚‚ã‚‰ã£ãŸå ±é…¬ã ã¨ã—ãŸã‚‰...ã€ã¨è€ƒãˆã‚‹ã¨ã€é‡‘é¡ã‚’æç¤ºã—ã¦ã€ãã‚Œã«è¦‹åˆã£ãŸä»•äº‹ã‚’ã™ã‚‹ã€ã¨ã„ã†ãƒ—ãƒ­ã‚»ã‚¹ã¯ï¼ˆã‚¹ã‚­ãƒ«ã‚’ä¼¸ã°ã™ãŸã‚ã«ã‚‚ï¼‰çµæ§‹å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸ\n    - ä»Šå¾Œå¼•ãå—ã‘ä»•äº‹ã‚’ã™ã‚‹ã¨ãã¯ã€å°‘ãªã‹ã‚‰ãšãã†ã—ãŸã“ã¨ã‚‚è€ƒãˆã¦ã„ããŸã„ã¨æ€ã„ã¾ã™\n\n# ã‚½ãƒ¼ã‚¹\n\nhttps://github.com/yktakaha4/otanoshimi-slot\n\nAPIã®ã‚³ãƒ¼ãƒ‰ãŒæ–­ç‰‡çš„ã€ã‹ã¤ç”»åƒã‚„éŸ³å£°ç´ æã‚’å‰Šé™¤ï¼ˆ0ãƒã‚¤ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®æ›ï¼‰ã—ã¦ã„ã‚‹ãŸã‚ã€ãã®ã¾ã¾ã ã¨ã¨ã¦ã‚‚å‹•ã‹ã›ãªã„ã®ã§ã™ãŒã€ä¸€å¿œGithubã«ã‚ã’ã¦ã¿ã¾ã—ãŸ:octocat:\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2019-01-02T22:09:43+09:00",
      "group": null,
      "id": "50582331df743ecf565a",
      "likes_count": 17,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 9,
      "tags": [
        {
          "name": "JavaScript",
          "versions": []
        },
        {
          "name": "jQuery",
          "versions": []
        },
        {
          "name": "AWS",
          "versions": []
        },
        {
          "name": "GoogleAppsScript",
          "versions": []
        }
      ],
      "title": "JS + GAS + AWSã§ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚°ãƒ‘ãƒ¼ãƒ†ã‚£ã®ä½™èˆˆã‚’æ‹…å½“ã™ã‚‹ï¼ˆã‚½ãƒ¼ã‚¹ä»˜ãï¼‰",
      "updated_at": "2019-01-05T09:22:58+09:00",
      "url": "https://qiita.com/yktakaha4/items/50582331df743ecf565a",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p>ã“ã¡ã‚‰ã¯ã€<a href=\"https://qiita.com/advent-calendar/2018/handslab\">ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2018</a> 20æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼</p>\n\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>2018å¹´9æœˆã«ãƒãƒ³ã‚ºãƒ©ãƒœã«å…¥ç¤¾ã—ã¾ã—ãŸ<a href=\"/yktakaha4\" class=\"user-mention js-hovercard\" title=\"yktakaha4\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"yktakaha4\">@yktakaha4</a>ã§ã™</p>\n\n<p>é…å±ã•ã‚ŒãŸãƒãƒ¼ãƒ ã«ã¦é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã«Dockerã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€<br>\néå»è§¦ã£ãŸã“ã¨ãŒãªã‹ã£ãŸãŸã‚å½“åˆä½•ãŒèµ·ãã¦ã‚‹ã®ã‹å…¨ãã‚ã‹ã‚‰ãšã€ã‚„ã°ã„ã˜ã‚ƒã‚“...ğŸ˜¨ã¨æ€ã£ã¦å‹‰å¼·ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ</p>\n\n<p><a href=\"https://www.amazon.co.jp/Docker-Kubernetes-%E5%AE%9F%E8%B7%B5%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E9%96%8B%E7%99%BA%E5%85%A5%E9%96%80-%E5%B1%B1%E7%94%B0-%E6%98%8E%E6%86%B2-ebook/dp/B07GP1Q3VT\" rel=\"nofollow noopener\" target=\"_blank\">Docker/Kubernetes å®Ÿè·µã‚³ãƒ³ãƒ†ãƒŠé–‹ç™ºå…¥é–€</a>ã®Dockerå‘¨ã‚Šã®ç« ã‚’èª­ã‚“ã§å¤šå°‘æ•´ç†ãŒã¤ã„ãŸã®ã§ã€<br>\nä½•äº‹ã‚‚å®Ÿè·µãŒä¸€ç•ªï¼ã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«Docker Composeã‚’ä½¿ã£ã¦ä½œæ¥­ç’°å¢ƒã‚’ä½œã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ</p>\n\n<h1>\n<span id=\"ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%82%E3%81%AE%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹</h1>\n\n<p>ä¸–é–“ã§ã¯ãƒ‡ãƒ¼ã‚¿åˆ†æã®é‡è¦æ€§ãŒèª¬ã‹ã‚Œã¦ä¹…ã—ã„ã§ã™ã­ğŸ“ˆ</p>\n\n<p>æ±æ€¥ãƒãƒ³ã‚ºã«ãŠã„ã¦ã‚‚ã€BIãƒ„ãƒ¼ãƒ«ã‚„å„ç¨®åˆ†æã‚·ã‚¹ãƒ†ãƒ ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã™ãŒã€<br>\næ™‚ã¨ã—ã¦ã€å€‹äººãƒ¬ãƒ™ãƒ«ã§ã¡ã‚‡ã£ã¨ã—ãŸåˆ†æä½œæ¥­ã‚’ã‚„ã£ã¦ã¿ãŸã„/ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™<br>\néŠã³ã ã£ãŸã‚‰ã„ã„ã§ã™ãŒã€ã‚ã¾ã‚Šæ‰‹ä½œæ¥­&amp;ãƒãƒªã§ã‚„ã‚‹ã¨ã€å®šå‹ä½œæ¥­åŒ–ã—ãŸã‚Šã€æ¡ˆä»¶åŒ–ã—ãŸéš›ã«ä»–è€…ã¸å±•é–‹ã™ã‚‹ã®ãŒè¾›ããªã‚Šãã†ã§ã™</p>\n\n<p>ãã“ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¦ä»¶ã‚’ä»®å®šã—ã¦ã€å€‹äººå‘ã‘ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ã‚’Dockerã§ä½œã‚‹ã“ã¨ã«æŒ‘æˆ¦ã—ã¾ã™âœ¨</p>\n\n<ol>\n<li>RDBã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€Webç­‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦ãã‚‹</li>\n<li>ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ãƒ»é›†è¨ˆã™ã‚‹</li>\n<li>é›†è¨ˆã—ãŸçµæœã‚’å¯è¦–åŒ–ã™ã‚‹</li>\n<li>æ€ã„ã¤ã„ãŸã“ã¨ã‚’ãƒ‘ãƒƒã¨è©¦ã›ã‚‹</li>\n</ol>\n\n<h1>\n<span id=\"ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BD%9C%E3%82%8B%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹</h1>\n\n<p>å¼Šç¤¾ã§ã‚‚å°å…¥ã—ã¦ã„ã‚‹<a href=\"https://cacoo.com/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Cacoo</a>ã‚’ä½¿ã£ã¦ã€å›³ã«ã—ã¦ã¿ã¾ã—ãŸ<br>\nä¸Šã«æ›¸ã„ãŸè¦ä»¶ã¨å¯¾æ¯”ã—ã¦ã²ã¨ã¤ãšã¤è¦‹ã¦ã„ãã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/dc6727454ccf78b94d9eb192bc6e1702756c086e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f64363365326633362d343834312d623061362d616261342d3234306333333238363734662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd63e2f36-4841-b0a6-aba4-240c3328674f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7d4c971fa5cf6233b71f955a2f254821\" alt=\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d63e2f36-4841-b0a6-aba4-240c3328674f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd63e2f36-4841-b0a6-aba4-240c3328674f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b0e78ebf1bfa4fb09b9ffe526d3e99c5 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"rdbã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸webç­‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦ãã‚‹\" class=\"fragment\"></span><a href=\"#rdb%E3%82%84%E3%82%B9%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B8web%E7%AD%89%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E9%9B%86%E3%82%81%E3%81%A6%E3%81%8F%E3%82%8B\"><i class=\"fa fa-link\"></i></a>RDBã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€Webç­‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦ãã‚‹</h2>\n\n<p>å¼Šç¤¾ã¯AWSã‚’æ¿€æ¨ã—ã—ã¦ã„ã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã¯åŸºæœ¬AWSã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆRedshiftã€RDSã€DynamoDBã€S3ãªã©ï¼‰ã«è“„ç©ã•ã‚Œã¦ã„ã¾ã™<br>\nãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã™ã‚‹DBã«å¥½ãå‹æ‰‹ã«ç¹‹ãã«ã„ãã®ã¯é¿ã‘ãŸã„ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã¯ç¨¼åƒã®ä½ã„æ™‚é–“å¸¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€TSVãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è½ã¨ã—ã¦ãŠãã®ãŒã‚ˆã•ãã†ã§ã™</p>\n\n<p>ã¾ãŸã€å¼Šç¤¾ãŒæ¡ç”¨ã—ã¦ã„ã‚‹æŠ€è¡“ã®ã²ã¨ã¤ã§ã‚ã‚‹<a href=\"https://www.usp-lab.com/methodology.html\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸é–‹ç™ºæ‰‹æ³•</a>ã¯åŸºæœ¬çš„ã«ãƒ•ã‚¡ã‚¤ãƒ«æ–‡åŒ–ãªã®ã§ã™ãŒã€<br>\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯SSV(ã£ã¦è¨€ã†ã‚“ã§ã™ã­...åŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Š)ã€ãƒ˜ãƒƒãƒ€ãªã—ã€ç©ºå€¤ã¯ _ ã§è¡¨ç¾ã¨ã„ã†æ›¸å¼ã®ãŸã‚ã€ã‚ˆãã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒæ§˜ã«æ‰±ã†ã«ã¯ã¡ã‚‡ã£ã¨ã—ãŸåŠ å·¥ãŒå¿…è¦ã«ãªã‚Šã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"shell\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ¡ãƒ¼ã‚¸</span></div>\n<div class=\"highlight\"><pre><code><span class=\"c\"># 1:ID 2:å•†å“å 3:ä¾¡æ ¼ 4:ç¨®åˆ¥</span>\n001 ã‚Šã‚“ã” 100 1\n002 ã¿ã‹ã‚“ 50 2\n003 ãã‚…ã†ã‚Š 80 _\n</code></pre></div>\n</div>\n\n<p>ãƒ‡ãƒ¼ã‚¿ã®é®®åº¦ã«ã¤ã„ã¦ã‚‚ã€æœ€åˆã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦æ‰‹å®Ÿè¡Œ...ã§ã‚ˆã„ã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€<br>\nå®šå‹åŒ–ãƒ»è‡ªå‹•åŒ–ã‚’è¦‹æ®ãˆã¦crontabã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠããŸã„ã§ã™</p>\n\n<h2>\n<span id=\"ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢é›†è¨ˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%95%B4%E5%BD%A2%E9%9B%86%E8%A8%88%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ãƒ»é›†è¨ˆã™ã‚‹</h2>\n\n<p>ãƒãƒƒãƒˆã§ã€€ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ã€€ã§èª¿ã¹ã‚‹ã¨ä¼æ¥­ãƒ¬ãƒ™ãƒ«ã®äº‹ä¾‹ã®è©±ãŒæ²¢å±±å‡ºã¦ãã¾ã™ãŒã€<br>\nãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã¦æ•´å½¢ãƒ»é›†è¨ˆ...ã¨ã„ã†æµã‚Œã‚’è‡ªå‹•åŒ–ã™ã‚‹ã®ãŒã‚»ã‚ªãƒªãƒ¼ã®ã‚ˆã†ã§ã™<br>\nä»Šå›ã¯ã€ãƒãƒƒãƒãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®<a href=\"https://github.com/spotify/luigi\" rel=\"nofollow noopener\" target=\"_blank\">Luigi</a>ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã„ã„æ„Ÿã˜ã§ã™</p>\n\n<p>ãƒ‡ãƒ¼ã‚¿ã®åŠ å·¥ãƒ»é›†è¨ˆã«ã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹<a href=\"https://pandas.pydata.org/\" rel=\"nofollow noopener\" target=\"_blank\">Pandas</a>ã‚’ä½¿ã„ã¾ã™<br>\nä»¥ä¸‹ã®ã‚ˆã†ã«ã€å…ƒã®ãƒ‡ãƒ¼ã‚¿ãŒTSVã§ã‚ã£ã¦ã‚‚ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã§ã‚ã£ã¦ã‚‚ã€ã†ã¾ã„ã“ã¨æ‰±ã†ã“ã¨ãŒã§ãã¾ã™<br>\nã¨ã„ã†ã‹å¤§æŠµã®ãƒ‡ãƒ¼ã‚¿æ“ä½œã¯<a href=\"https://qiita.com/s_katagiri/items/4cd7dee37aae7a1e1fc0\" id=\"reference-b9b9e5ea268a99c723bd\">ã¾ãšã§ãã¾ã™</a>ã€‚ã™ã”ã„...</p>\n\n<div class=\"code-frame\" data-lang=\"python\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"n\">pd</span>\n\n<span class=\"c1\"># ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\n</span><span class=\"n\">items_unicage</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"p\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s\">'./ITEMS'</span><span class=\"p\">,</span> <span class=\"n\">sep</span><span class=\"o\">=</span><span class=\"s\">' '</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">header</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">).</span><span class=\"n\">replace</span><span class=\"p\">(</span><span class=\"s\">'_'</span><span class=\"p\">,</span> <span class=\"s\">''</span><span class=\"p\">)</span>\n<span class=\"n\">items_unicage</span><span class=\"p\">.</span><span class=\"n\">columns</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s\">'id'</span><span class=\"p\">,</span> <span class=\"s\">'name'</span><span class=\"p\">,</span> <span class=\"s\">'price'</span><span class=\"p\">,</span> <span class=\"s\">'type'</span><span class=\"p\">]</span>\n\n<span class=\"c1\"># TSVã®èª­ã¿è¾¼ã¿\n</span><span class=\"n\">items_tsv</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"p\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s\">'./items.tsv'</span><span class=\"p\">,</span> <span class=\"n\">sep</span><span class=\"o\">=</span><span class=\"s\">'</span><span class=\"se\">\\t</span><span class=\"s\">'</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">)</span>\n</code></pre></div>\n</div>\n\n<p>Pythonã‚’æœ¬æ ¼çš„ã«ä½¿ã„å§‹ã‚ãŸã®ã¯å…¥ç¤¾ã—ã¦ã‹ã‚‰ãªã®ã§ã™ãŒã€<br>\nã“ã†ã—ãŸè«¸ã€…ã‚’æ‰‹è»½ã«ã‚„ã‚Œã‚‹ã®ã¯ã€èˆ—è£…ã•ã‚ŒãŸé“è·¯ã‚’èµ°ã£ã¦ã„ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚ŠãŒãŸã„ã§ã™ã­...</p>\n\n<h2>\n<span id=\"é›†è¨ˆã—ãŸçµæœã‚’å¯è¦–åŒ–ã™ã‚‹\" class=\"fragment\"></span><a href=\"#%E9%9B%86%E8%A8%88%E3%81%97%E3%81%9F%E7%B5%90%E6%9E%9C%E3%82%92%E5%8F%AF%E8%A6%96%E5%8C%96%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>é›†è¨ˆã—ãŸçµæœã‚’å¯è¦–åŒ–ã™ã‚‹</h2>\n\n<p>ãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢ãƒ»é›†è¨ˆãŒæ¸ˆã‚“ã ã‚‰ã€æ¬¡ã¯å¯è¦–åŒ–ã§ã™<br>\nä»Šå›ã¯ã€ã“ã‚Œã¾ãŸã‚·ãƒ³ãƒ—ãƒ«ã«ã‚„ã‚ŠãŸã„ã“ã¨ãŒå®Ÿç¾ã§ããã†ã ã£ãŸã®ã§ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«ã®<a href=\"https://redash.io/\" rel=\"nofollow noopener\" target=\"_blank\">Redash</a>ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼ˆ<a href=\"https://qiita.com/watarukura/items/aebe0adf5a5ecc994c93\" id=\"reference-caebf2b7e381a7bc1b83\">watarukura</a>ã•ã‚“ã«å‹§ã‚ã¦é ‚ãã¾ã—ãŸï¼‰</p>\n\n<p>Redashã¯åŸºæœ¬çš„ã«SQLã§ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã—ã¦ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹...ã¨ã„ã†ã‚‚ã®ãªã®ã§ã€<br>\nä»Šã¾ã§ã®å·¥ç¨‹ã§ç”Ÿæˆã—ã¦ããŸå„ç¨®é›†è¨ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ¼ãƒ«ã™ã‚‹é›†è¨ˆçµæœä¿æŒç”¨ã®DBï¼ˆPostgreSQLï¼‰ã‚’ç”¨æ„ã—ã¾ã™ğŸ˜</p>\n\n<p>ã¾ãŸã€ä»Šã¾ã§ã¯å®šå‹åŒ–ã•ã‚ŒãŸåˆ†æå‡¦ç†ã®è©±ã°ã‹ã‚Šã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nåˆæœŸæ®µéšã§ã¯åˆ†æç”¨DBã«ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ã«ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã£ã¦ãã‚Œã‚’çµåˆã™ã‚‹ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦...ã®ã‚ˆã†ãªæŸ”è»Ÿãªæ“ä½œãŒã§ãã‚‹ã¨ä½¿ã„å‹æ‰‹ãŒã‚ˆã•ãã†ã§ã™<br>\nRedashã§ã¯ãã†ã—ãŸè¦æœ›ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«<a href=\"https://redash.io/help/user-guide/querying/query-results-data-source\" rel=\"nofollow noopener\" target=\"_blank\">Query Results</a>ã¨ã„ã†æ©Ÿèƒ½ãŒãƒ™ãƒ¼ã‚¿ç‰ˆã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ãŒã€<br>\nè¤‡é›‘ãªã‚¯ã‚¨ãƒªã ã¨ã‚¨ãƒ©ãƒ¼ã‚’åãã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¡ã‚‡ã£ã¨ä¸å¯©ã ã£ãŸã®ã§ã€ä»Šå›ã¯é•ã†æ–¹æ³•ã§å®Ÿç¾ã—ã¾ã™ï¼ˆå¾Œè¿°ï¼‰</p>\n\n<h2>\n<span id=\"æ€ã„ã¤ã„ãŸã“ã¨ã‚’ãƒ‘ãƒƒã¨è©¦ã›ã‚‹\" class=\"fragment\"></span><a href=\"#%E6%80%9D%E3%81%84%E3%81%A4%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8%E3%82%92%E3%83%91%E3%83%83%E3%81%A8%E8%A9%A6%E3%81%9B%E3%82%8B\"><i class=\"fa fa-link\"></i></a>æ€ã„ã¤ã„ãŸã“ã¨ã‚’ãƒ‘ãƒƒã¨è©¦ã›ã‚‹</h2>\n\n<p>å‰é …ã§ã€åˆ†æã‚’ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ã«è©¦ã—ãŸã„ã¨ã„ã†è©±ãŒã‚ã‚Šã¾ã—ãŸãŒã€<br>\nä»–ã®ãƒ„ãƒ¼ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã¿ã‚‹ã¨ã‹ã€æ©Ÿæ¢°å­¦ç¿’ã¯ã©ã†ã‹ã¨ã‹ã€åˆ†æã®æ‰‹æ³•ã¯ã„ãã‚‰ã§ã‚‚è€ƒãˆã‚‰ã‚Œãã†ã§ã™<br>\nãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å‡¦ç†ã‚’è½ã¨ã—è¾¼ã‚€å‰ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´å½¢ãƒ»é›†è¨ˆå‡¦ç†ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¤œè¨ã™ã‚‹ãŸã‚ã«ã‚‚ã€å¯¾è©±å‹ã®ç’°å¢ƒãŒã‚ã‚‹ã¨ä¾¿åˆ©ã§ã—ã‚‡ã†</p>\n\n<p>ãã†ã—ãŸè¦ä»¶ã«å–ã‚Šçµ„ã¿ã‚„ã™ããªã‚‹ã‚ˆã†ã€<a href=\"https://github.com/jupyterlab/jupyterlab\" rel=\"nofollow noopener\" target=\"_blank\">JupyterLab</a>ã‚’å°å…¥ã—ã¦ãŠãã¾ã™<br>\nã“ã£ã¡ã¯<a href=\"https://qiita.com/thimi0412/items/6fb41dd00178753185c9\" id=\"reference-8c43a3fed919144500ce\">thimi0412</a>ã•ã‚“ã«æ•™ãˆã¦ã‚‚ã‚‰ã„ã¾ã—ãŸãŒã€å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è©¦ã—ã¤ã¤&amp;çµæœã‚’æ®‹ã—ã¤ã¤ä½œæ¥­ã§ãã‚‹ã®ã§ã ã„ã¶ã‚ˆã•ã’ã§ã™</p>\n\n<h3>\n<span id=\"ãƒ‘ãƒƒã¨è©¦ã—ã¦ãã‚Œã‹ã‚‰ã©ã†ã™ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%83%91%E3%83%83%E3%81%A8%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%9D%E3%82%8C%E3%81%8B%E3%82%89%E3%81%A9%E3%81%86%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ãƒ‘ãƒƒã¨è©¦ã—ã¦ã€ãã‚Œã‹ã‚‰ã©ã†ã™ã‚‹ï¼Ÿ</h3>\n\n<p>æœ€çµ‚çš„ã«ã¯åˆ†æçµæœã‚’åº—èˆ—ã§åƒã„ã¦ã‚‹æ¥­å‹™éƒ¨é–€ã®æ–¹ã€…ã«è¦‹ã›ã‚‹ã“ã¨ã«ã‚‚ãªã‚Šãã†ã§ã™ãŒã€<br>\nãã®éš›ã«è©±ãŒå¼¾ã‚“ã§ã€åˆ†æã®è»¸ã‚’å¤‰ãˆã¦ã»ã—ã„ã¨ã‹ã€å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¢—æ¸›ã•ã›ãŸã„...ã¨æ„è¦‹ãŒã‚‚ã‚‰ãˆãŸæ™‚ã«ã€æŸ”è»Ÿã«å¯¾å‡¦ã§ãã‚‹ã¨ã‚ˆã•ãã†ã§ã™<br>\nå…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ãƒ­ãƒ¼ãŒã‚¹ãƒ ãƒ¼ã‚ºã«å®Ÿç¾ã§ãã‚‹ã‹ã€ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹</p>\n\n<ol>\n<li>ä½•ã‹ã—ã‚‰ã®æ–¹æ³•ã§å…ƒãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹\n\n<ul>\n<li>Jupyterã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã</li>\n<li>Redashã§SQLæ›¸ã„ã¦ã€ç”Ÿæˆã—ãŸçµæœè¡¨ã‚’CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ï¼ˆæ¨™æº–æ©Ÿèƒ½ã§ä»˜ã„ã¦ã¾ã™ï¼‰</li>\n<li>S3ã‚„ãƒãƒƒãƒˆãªã©ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è½ã¨ã—ã¦ãã‚‹</li>\n<li>\n<a href=\"https://github.com/usp-engineers-community/Open-usp-Tukubai\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚³ãƒãƒ³ãƒ‰</a>ã‚’é§†ä½¿ã—ã¦æ‰‹ä½œæ¥­ã§ä½œã‚‹\n\n<ul>\n<li>ä½™è«‡ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ã—ãŸãƒ‡ãƒ¼ã‚¿åŠ å·¥ã«ãŠã„ã¦ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã¯ã ã„ã¶æœ‰ç”¨ã§ã™ã€‚ç­†è€…ã¯ç‰¹ã«<code>yarr</code>ãŒå¥½ãã§ã™...</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>å…ƒãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é›†è¨ˆç”¨DBã«å–ã‚Šè¾¼ã‚€ã€‚ã§ãã‚‹ã ã‘æ‰‹è»½ã«ğŸ¤—</li>\n<li>Redashã§å¯è¦–åŒ–ã™ã‚‹</li>\n</ol>\n\n<p>ä¸Šè¨˜ã®ï¼’.ã«ã¤ã„ã¦ã€ä½•ã‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã„ã˜ã‚‹åº¦ã«ãƒãƒƒãƒã‚’å©ã„ãŸã‚Šã€cronãŒãƒãƒ¼ãƒªãƒ³ã‚°ã—ã¦ãã‚Œã‚‹ã®ã‚’å¾…ã£ãŸã‚Šãªã©ã¯ã—ãŸããªã„ã®ã§ã€<br>\n<a href=\"https://qiita.com/stc1988/items/464410382f8425681c20\" id=\"reference-cc7beb804fe5356841c8\">inotifywait</a>ã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ†ãƒŠå†…ã®æ‰€å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç›£è¦–ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸã‚‰é›†è¨ˆç”¨DBã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™</p>\n\n<p>ä»Šå›ã¯ã€ã“ã‚“ãªå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’yamlã§ãŸãã•ã‚“ç”¨æ„ã—ã¦ãŠãã€å‡¦ç†å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¨ãƒãƒƒãƒã—ãŸã‚‰é›†è¨ˆç”¨DBã«DDLã‚’ç™ºè¡Œ...ã¨ã„ã†<a href=\"https://github.com/yktakaha4/analysis-docker/blob/master/volumes/analysis-batch/batch/analysis/load_files.py\" rel=\"nofollow noopener\" target=\"_blank\">Luigiã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦</a>ã€å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ</p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ç”¨ï¼‰</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">pattern</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">/ITEMS$\"</span>\n<span class=\"na\">format</span><span class=\"pi\">:</span>\n  <span class=\"na\">encoding</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">utf-8\"</span>\n  <span class=\"na\">newline</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s\">\"</span>\n  <span class=\"na\">skip</span><span class=\"pi\">:</span> <span class=\"m\">0</span>\n  <span class=\"na\">delimiter</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"nv\"> </span><span class=\"s\">\"</span>\n  <span class=\"na\">doublequote</span><span class=\"pi\">:</span> <span class=\"no\">false</span>\n  <span class=\"na\">escapechar</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">\"</span>\n  <span class=\"na\">skipinitialspace</span><span class=\"pi\">:</span> <span class=\"no\">false</span>\n  <span class=\"na\">replacers</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"na\">pattern</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">^_$\"</span>\n      <span class=\"na\">newvalue</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">\"</span>\n<span class=\"na\">table_name</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">items\"</span>\n<span class=\"na\">ddl</span><span class=\"pi\">:</span> <span class=\"pi\">|</span>\n  <span class=\"s\">drop table if exists {table_name};</span>\n  <span class=\"s\">create table {table_name} (</span>\n    <span class=\"s\">item_id varchar(3) not null,</span>\n    <span class=\"s\">name varchar(255) not null,</span>\n    <span class=\"s\">price int not null,</span>\n    <span class=\"s\">item_type varchar(1) not null,</span>\n    <span class=\"s\">primary key(item_id)</span>\n  <span class=\"s\">);</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">ã‚ªãƒã‚±ï¼šCSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿å®šç¾©</span></div>\n<div class=\"highlight\"><pre><code><span class=\"na\">format</span><span class=\"pi\">:</span>\n  <span class=\"na\">encoding</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">utf-8\"</span>\n  <span class=\"na\">newline</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s\">\"</span>\n  <span class=\"na\">skip</span><span class=\"pi\">:</span> <span class=\"m\">1</span>\n  <span class=\"na\">delimiter</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"s\">,\"</span>\n  <span class=\"na\">doublequote</span><span class=\"pi\">:</span> <span class=\"no\">true</span>\n  <span class=\"na\">escapechar</span><span class=\"pi\">:</span> <span class=\"s2\">\"</span><span class=\"se\">\\\"</span><span class=\"s\">\"</span>\n  <span class=\"na\">skipinitialspace</span><span class=\"pi\">:</span> <span class=\"no\">false</span>\n</code></pre></div>\n</div>\n\n<h1>\n<span id=\"ä½œã£ãŸã‚‚ã®\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"><i class=\"fa fa-link\"></i></a>ä½œã£ãŸã‚‚ã®</h1>\n\n<p><qiita-embed-ogp src=\"https://github.com/yktakaha4/analysis-docker\"></qiita-embed-ogp></p>\n\n<p>ç¤¾å†…ã§ä½¿ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ãã®ã¾ã¾å…¬é–‹ã¯ã‚¢ãƒ¬ã§ã—ãŸã®ã§ã€ä»Šå›èª¬æ˜ã—ãŸå†…å®¹ã«æ©Ÿèƒ½ã‚’çµã£ãŸã‚‚ã®ã‚’Githubã«å…¬é–‹ã—ã¾ã—ãŸ<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"><br>\nä»¥ä¸‹ã€ç°¡å˜ã«è§£èª¬ã—ã¦ã„ãã¾ã™</p>\n\n<h2>\n<span id=\"åˆæœŸæ§‹ç¯‰èµ·å‹•åœæ­¢\" class=\"fragment\"></span><a href=\"#%E5%88%9D%E6%9C%9F%E6%A7%8B%E7%AF%89%E8%B5%B7%E5%8B%95%E5%81%9C%E6%AD%A2\"><i class=\"fa fa-link\"></i></a>åˆæœŸæ§‹ç¯‰ãƒ»èµ·å‹•ãƒ»åœæ­¢</h2>\n\n<p>ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"go\">~â¯ git clone https://github.com/yktakaha4/analysis-docker.git\n~â¯ cd analysis-docker\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œå¾Œã€Redashç”¨ã€é›†è¨ˆçµæœä¿æŒç”¨ã®DBã‚’ãã‚Œãã‚Œä½œæˆ\n<span class=\"go\">â¯ docker-compose build\nâ¯ docker-compose run --rm server create_db\nâ¯ docker-compose run --rm luigi create_db\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>èµ·å‹•ãƒ»åœæ­¢ï¼ˆï¼’å›ç›®ä»¥é™ã¯ä»¥ä¸‹ã®ã¿ã§OKï¼‰\n<span class=\"go\">â¯ docker-compose up\nâ¯ docker-compose down\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"jupyterç¢ºèª\" class=\"fragment\"></span><a href=\"#jupyter%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>Jupyterç¢ºèª</h2>\n\n<p>localhost:25002ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€JupyterLabãŒèµ·å‹•ã—ã¾ã™<br>\ndata/watché…ä¸‹ã‚’ç¢ºèªã™ã‚‹ã¨ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒå…¥ã£ã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/2fbef35c5b5ffaf3908d39e9e364508ce0c9a400/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f64313964323564632d393736392d613132622d613836622d3962323764303335366261612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd19d25dc-9769-a12b-a86b-9b27d0356baa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8857752b4b23f60b367605543a20a937\" alt=\"JupyterLab\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d19d25dc-9769-a12b-a86b-9b27d0356baa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd19d25dc-9769-a12b-a86b-9b27d0356baa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3d0f09c614a6bc584c488f2660d2d411 1x\" loading=\"lazy\"></a></p>\n\n<p>ä½¿ã„æ–¹ãªã©ã¯è©±ãŒãã‚Œã‚‹ã®ã§å‰²æ„›</p>\n\n<h2>\n<span id=\"luigiã¨inotifywaitç¢ºèª\" class=\"fragment\"></span><a href=\"#luigi%E3%81%A8inotifywait%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>Luigiã¨inotifywaitç¢ºèª</h2>\n\n<p>åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç«‹ã¡ä¸Šã’ã¦ã€ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã¦ã¿ã¾ã™<br>\ninotifywaitã«ã‚ˆã‚Šæ›´æ–°ãŒæ¤œçŸ¥ã•ã‚Œã€é›†è¨ˆDBã«ãƒ‡ãƒ¼ã‚¿ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><code><span class=\"gp\">#</span><span class=\"w\"> </span>å…ˆã»ã©ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨\n<span class=\"go\">â¯ ll volumes/analysis-data/watch/ITEMS\n-rw-r--r--  1 tkhs  staff    61B Dec 16 13:00 volumes/analysis-data/watch/ITEMS\nâ¯ touch volumes/analysis-data/watch/ITEMS\n\n</span><span class=\"gp\">#</span><span class=\"w\"> </span>docker-composeã‚’å®Ÿè¡Œã—ãŸæ–¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã€ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n<span class=\"go\">ï¼ˆç•¥ï¼‰\nluigi_1       | ===== Luigi Execution Summary =====\nluigi_1       |\nluigi_1       | Scheduled 1 tasks of which:\nluigi_1       | * 1 ran successfully:\nluigi_1       |     - 1 analysis.LoadFilesTask(source_files_path=/root/analysis/data/watch/ITEMS, definition_files_path=/root/analysis/batch/configs/load_files)\nluigi_1       |\nluigi_1       | This progress looks :) because there were no failed tasks or missing dependencies\nluigi_1       |\nluigi_1       | ===== Luigi Execution Summary =====\nï¼ˆç•¥ï¼‰\n</span></code></pre></div></div>\n\n<p>localhost:25001ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œçµæœã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ecc674708e2089f7e2774718948847b0090d10e3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f39613763613832392d373232652d393461392d653664302d6462646364313834363566362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9a7ca829-722e-94a9-e6d0-dbdcd18465f6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=07603880b87715f9b326070fff373f19\" alt=\"LuigiWebã‚³ãƒ³ã‚½ãƒ¼ãƒ«\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9a7ca829-722e-94a9-e6d0-dbdcd18465f6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F9a7ca829-722e-94a9-e6d0-dbdcd18465f6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=89215f243f7c08a929f159155786ce54 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"redashç¢ºèª\" class=\"fragment\"></span><a href=\"#redash%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>Redashç¢ºèª</h2>\n\n<p>æœ€å¾Œã«ã€localhost:25000ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦Redashã‚’èµ·å‹•ã—ã€ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãç™»éŒ²ã•ã‚ŒãŸã‹ç¢ºèªã—ã¾ã™</p>\n\n<p>åˆæœŸè¨­å®šã‚’ã—ã¦...ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®šãªã®ã§ã€å¿˜ã‚Œãªã‘ã‚Œã°ä»»æ„ã®ã‚‚ã®ã§å¤šåˆ†ã‚ˆã„ã§ã™ï¼‰</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/e2899ca3ce3afede73a2b641ba58074eb7d87297/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f31336437643135612d323234382d643736392d393338652d6366383365323034346563662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F13d7d15a-2248-d769-938e-cf83e2044ecf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3a7c1014be2fad45a0d1573f6c4bd6a7\" alt=\"RedashåˆæœŸè¨­å®š\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/13d7d15a-2248-d769-938e-cf83e2044ecf.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F13d7d15a-2248-d769-938e-cf83e2044ecf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=997dbc56b01240972169bff92837f480 1x\" loading=\"lazy\"></a></p>\n\n<p>Connect a Data Source &gt; New Data Source &gt; PostgreSQL ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦...</p>\n\n<table>\n<thead>\n<tr>\n<th>åå‰</th>\n<th>å€¤</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name</td>\n<td>summaryï¼ˆä»»æ„ï¼‰</td>\n</tr>\n<tr>\n<td>Host</td>\n<td>postgres</td>\n</tr>\n<tr>\n<td>User</td>\n<td>postgres</td>\n</tr>\n<tr>\n<td>Database Name</td>\n<td>summary</td>\n</tr>\n</tbody>\n</table>\n\n<p><a href=\"https://camo.qiitausercontent.com/01b562233e801eddb580da30b38ba591fc65bebc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38353166306165632d613935302d323262332d353535382d6364393062333963663832662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"1072\" alt=\"Redashãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ä½œæˆ\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F851f0aec-a950-22b3-5558-cd90b39cf82f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fd2c9912d652231895729045433269c9\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/851f0aec-a950-22b3-5558-cd90b39cf82f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F851f0aec-a950-22b3-5558-cd90b39cf82f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c75632a69d9490bafdbf690a3825076d 1x\" loading=\"lazy\"></a></p>\n\n<p>summaryã®itemsãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦ã¿ã¾ã™<br>\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãèª­ã¿è¾¼ã‚ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã­ï¼</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ff0c63f243b0b8c324998669e3ce8cd28c0cf4ce/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f62373034396136382d356666382d303738622d613538322d3965373531363665623635322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"1072\" alt=\"Redashã‚¯ã‚¨ãƒª\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fb7049a68-5ff8-078b-a582-9e75166eb652.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e423d5303749570973ea3ec64fda9a39\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/b7049a68-5ff8-078b-a582-9e75166eb652.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fb7049a68-5ff8-078b-a582-9e75166eb652.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2bef9b66b5ea86a5c876532c046d32ca 1x\" loading=\"lazy\"></a></p>\n\n<p>å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æ£’ã‚°ãƒ©ãƒ•ã‚’ä½œã‚Šã€ã‚Šã‚“ã”ã®ä¾¡æ ¼ãŒä¸€ç•ªé«˜ã„ã“ã¨ã‚’è¦–è¦šçš„ã«æ˜ã‚‰ã‹ã«ã—ãŸç¬é–“ã§ã™ğŸ“ŠğŸ¤”</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/68edd44df166d4dda68e85c16e48349a48c69a1e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f32316464363631612d356361372d383531302d326536362d3837656537353539633062632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"1072\" alt=\"Redashã‚°ãƒ©ãƒ•\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F21dd661a-5ca7-8510-2e66-87ee7559c0bc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c77de70bc2fe94e3988914682e8ad252\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/21dd661a-5ca7-8510-2e66-87ee7559c0bc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F21dd661a-5ca7-8510-2e66-87ee7559c0bc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b6987a977586bc6f260e6f1951d3d6a8 1x\" loading=\"lazy\"></a></p>\n\n<p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°å¾Œã‚¯ã‚¨ãƒªã‚’å†å®Ÿè¡Œã™ã‚Œã°ã€ç›´ã¡ã«ã‚°ãƒ©ãƒ•ã‚’å†ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™<br>\nã¡ã‚‡ã£ã¨ã—ãŸã“ã¨ã§ã¯ã‚ã‚Šã¾ã™ãŒã€åˆ†æä½œæ¥­ã‚’ç¹°ã‚Šè¿”ã™ã†ã¡ã«ãã£ã¨ã‚¸ãƒ£ãƒ–ã®ã‚ˆã†ã«åŠ¹ã„ã¦ãã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/59e9b1f9da60b23cb62fa9dc32c6b591500507fd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f61653331663332652d613236642d353062662d653639632d3935383165373930306561392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"990\" alt=\"Redashã‚°ãƒ©ãƒ•2\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fae31f32e-a26d-50bf-e69c-9581e7900ea9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a853867c8d4a2a31ab221faa4b020a95\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/ae31f32e-a26d-50bf-e69c-9581e7900ea9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fae31f32e-a26d-50bf-e69c-9581e7900ea9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=198e07158c4d82fd873888c4f46c62ea 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"docker-composeymlã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#docker-composeyml%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>docker-compose.ymlã«ã¤ã„ã¦</h2>\n\n<p><qiita-embed-ogp src=\"https://github.com/yktakaha4/analysis-docker/blob/master/docker-compose.yml\"></qiita-embed-ogp></p>\n\n<p>ã‚³ãƒ³ãƒ†ãƒŠã¨å½¹å‰²ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸ<br>\nå®Ÿç‰©ã¨ã—ã¦ã¯ã€<a href=\"https://github.com/getredash/redash/blob/master/docker-compose.production.yml\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚„<a href=\"https://github.com/axiom-data-science/docker-luigi/blob/master/Dockerfile.alpine\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚„<a href=\"https://qiita.com/tsnb/items/4893bc46bbdff4f97dfb\" id=\"reference-703d5ed673cc88ca27d3\">ã“ã¡ã‚‰</a>ã€<a href=\"https://github.com/docker-library/postgres/blob/master/Dockerfile-alpine.template\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãªã©ã€æ—¢ã«ã‚ã‚‹å®Ÿè£…ã‚’ <del>ãƒ‘ã‚¯ãƒª</del> èª¿ã¹ãªãŒã‚‰èª­ã‚“ã§å†…å®¹ç†è§£ã«åŠªã‚ã¾ã—ãŸ</p>\n\n<table>\n<thead>\n<tr>\n<th>ã‚³ãƒ³ãƒ†ãƒŠå</th>\n<th>å½¹å‰²</th>\n<th>å‚™è€ƒ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>serverã€<br>workerã€<br> redis</td>\n<td>RedashãŒä½¿ã†ã‚„ã¤ã§ã™ï¼ˆé©å½“ï¼‰</td>\n<td><a href=\"http://localhost:25000/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">http://localhost:25000/</a></td>\n</tr>\n<tr>\n<td>postgres</td>\n<td>Redashå†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã¨é›†è¨ˆãƒ‡ãƒ¼ã‚¿ä¿æŒã‚’å…¼ã­ãŸDB</td>\n<td>ã€€</td>\n</tr>\n<tr>\n<td>luigi</td>\n<td>Luigiã¨inotifywait</td>\n<td>\n<a href=\"http://localhost:25001/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">http://localhost:25001/</a><br>è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œã®ãŸã‚<a href=\"http://www.itmedia.co.jp/enterprise/articles/1602/17/news004.html\" rel=\"nofollow noopener\" target=\"_blank\">supervisord</a>ã‚’ä½¿ç”¨</td>\n</tr>\n<tr>\n<td>jupyterlab</td>\n<td>JupyterLab</td>\n<td><a href=\"http://localhost:25002/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">http://localhost:25002/</a></td>\n</tr>\n</tbody>\n</table>\n\n<p>å‹•ãã“ã¨å„ªå…ˆã§ä½œã£ãŸãŸã‚ã‚¤ã‚±ã¦ãªã„éƒ¨åˆ†ã‚‚è‰²ã€…ã‚ã‚Šãã†ãªã®ã§ã€ä½¿ã„ãªãŒã‚‰ã‚ˆãã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™</p>\n\n<h1>\n<span id=\"æ‰€æ„Ÿ\" class=\"fragment\"></span><a href=\"#%E6%89%80%E6%84%9F\"><i class=\"fa fa-link\"></i></a>æ‰€æ„Ÿ</h1>\n\n<p>æ€ã£ãŸã“ã¨ã‚’ç®‡æ¡æ›¸ãã§...</p>\n\n<ul>\n<li>å½“åˆã¯å¤§é‡ã®ã‚³ãƒãƒ³ãƒ‰ã¨å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸å¼ã€ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤§ããªæ¦‚è¦ã®èª¬æ˜ã«åœ§å€’ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ï¼‘ã‚³ãƒ³ãƒ†ãƒŠâ‰’1ãƒ—ãƒ­ã‚»ã‚¹ãªã©ã€åŸå‰‡ãŒé ­ã«å…¥ã£ã¦ãã‚‹ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ´ã¿ã‚„ã™ããªã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™\n\n<ul>\n<li>ã¾ãšã¯ã€æ¦‚è¦ã®è©±ã‚’èª­ã‚“ã§ã‹ã‚‰å–ã‚Šçµ„ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™</li>\n</ul>\n</li>\n<li>æƒ…å ±ã‚’ä¸Šã‹ã‚‰èª­ã‚“ã§ã„ã£ã¦ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€å®Ÿç¾ã—ãŸã„æ©Ÿèƒ½ã‚’æ´—ã„å‡ºã—ã¦ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ã©ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒŠãŒã‚ã‚Œã°å®Ÿç¾å¯èƒ½ã‹è€ƒãˆã‚‹ã®ãŒå¤§äº‹ã§ã™ã€‚<a href=\"https://hub.docker.com/\" rel=\"nofollow noopener\" target=\"_blank\">DockerHub</a>ã«æ—¢å­˜ã®ã‚‚ã®ãŒãªã„ã‹èª¿ã¹ã‚‹ã®ã‚‚é‡è¦ã§ã™</li>\n<li>ãã‚Œã«ã¤ã‘ã¦ã‚‚ã€ã“ã†ã‚„ã£ã¦ä¸€åº¦å®šç¾©ã‚’æ›¸ã„ã¦ã—ã¾ãˆã°èª°ã§ã‚‚/ã©ã“ã§ã‚‚ç’°å¢ƒæ§‹ç¯‰ãŒã§ãã¦ã€ãã‚ŒãŒç„¡æ–™ã§è‡ªåˆ†ã§ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã®ã¯ã€æœ¬å½“ã«ã™ã”ã„æ™‚ä»£ã«ãªã£ãŸãªã‚...ã¨æ€ã„ã¾ã™</li>\n</ul>\n\n<h1>\n<span id=\"ä»Šå¾Œã®å±•æœ›\" class=\"fragment\"></span><a href=\"#%E4%BB%8A%E5%BE%8C%E3%81%AE%E5%B1%95%E6%9C%9B\"><i class=\"fa fa-link\"></i></a>ä»Šå¾Œã®å±•æœ›</h1>\n\n<p>ç¾æ™‚ç‚¹ã§ã¾ã ã§ãã¦ãªã„éƒ¨åˆ†ã‚’ã¾ã¨ã‚ã¾ã™</p>\n\n<ul>\n<li>crontabã®å°å…¥\n\n<ul>\n<li>ãƒ‡ãƒ¼ã‚¿åˆ†æä½œæ¥­ãŒã¾ã è©¦è¡ŒéŒ¯èª¤ã®æ®µéšã§å®šå‹ä½œæ¥­ã«ã—ãŸã„ã‚‚ã®ãŒãªã‹ã£ãŸãŸã‚ã€å¾Œå›ã—ã«ã—ã¦ãŸã‚‰å…¬é–‹ã«é–“ã«åˆã„ã¾ã›ã‚“ã§ã—ãŸ...</li>\n<li>\n<a href=\"https://qiita.com/YuukiMiyoshi/items/bb7f14436d60d4bd8a8b\" id=\"reference-b2b80a53b7c2d0980e41\">ã“ã¡ã‚‰</a>ãªã©ã‚’è¦‹ã¦ã‚‚ã„ãã¤ã‹é¸æŠè‚¢ãŒã‚ã‚Šãã†ãªã®ã§ã€èª¿ã¹ã¤ã¤è¿‘ãå®Ÿè£…ã—ãŸã„ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n<li>ç’°å¢ƒå¤‰æ•°/è³‡æ ¼æƒ…å ±ã®æ¸¡ã—æ–¹\n\n<ul>\n<li>AWSã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã«ç¹‹ãã«è¡ŒããŸã‚ã«ä½•ã‹ã—ã‚‰æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€èµ·å‹•æ™‚ã«ã„ã„æ„Ÿã˜ã«æ³¨å…¥ã™ã‚‹æ–¹æ³•ãŒç¢ºç«‹ã§ãã¦ãŠã‚‰ãšã€ä»Šå›ã¯ãƒãƒƒã‚µãƒªã¯ã—ã‚‡ã‚Šã¾ã—ãŸ...</li>\n</ul>\n</li>\n<li>AWSä¸Šã§ã®é‹ç”¨\n\n<ul>\n<li>ç‰¹ã«Redashã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€ã‚µãƒ¼ãƒã§é‹ç”¨ã§ãã‚‹ã¨ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã®é¢ã§ãƒ¡ãƒªãƒƒãƒˆãŒå¤§ãã„ã®ã§ã€<a href=\"https://dev.classmethod.jp/cloud/aws-docker-service-catalog/\" rel=\"nofollow noopener\" target=\"_blank\">è‰²ã€…èª¿ã¹ã¤ã¤</a>æ˜¯éã¨ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã§ã™ï¼</li>\n</ul>\n</li>\n<li>ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’ã‚¬ãƒ³ã‚¬ãƒ³ã‚„ã‚‹\n\n<ul>\n<li>æ­£ç›´ã‚„ã£ã¨ã‚¹ã‚¿ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã«ç«‹ã£ãŸã€ã¨ã„ã†è©±ãªã®ã§ã€ç’°å¢ƒã‚’ä½œã£ã¦æº€è¶³...ã¨ãªã‚‰ãªã„ã‚ˆã†ã€é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™ğŸ˜‡</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://qiita.com/advent-calendar/2018/handslab\">ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2018</a> æ˜æ—¥ã¯ã€<a href=\"https://www.hands-lab.com/contents/\" rel=\"nofollow noopener\" target=\"_blank\">å¼Šç¤¾ãƒ–ãƒ­ã‚°</a>ã§ã‚‚æ´»èºã•ã‚Œã¦ã„ã‚‹<a href=\"/yuka_jyotei\" class=\"user-mention js-hovercard\" title=\"yuka_jyotei\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"yuka_jyotei\">@yuka_jyotei</a>ã•ã‚“ã§ã™ï¼</p>\n",
      "body": "ã“ã¡ã‚‰ã¯ã€[ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2018](https://qiita.com/advent-calendar/2018/handslab) 20æ—¥ç›®ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼\n\n# ã¯ã˜ã‚ã«\n\n2018å¹´9æœˆã«ãƒãƒ³ã‚ºãƒ©ãƒœã«å…¥ç¤¾ã—ã¾ã—ãŸ@yktakaha4ã§ã™\n\né…å±ã•ã‚ŒãŸãƒãƒ¼ãƒ ã«ã¦é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã«Dockerã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€\néå»è§¦ã£ãŸã“ã¨ãŒãªã‹ã£ãŸãŸã‚å½“åˆä½•ãŒèµ·ãã¦ã‚‹ã®ã‹å…¨ãã‚ã‹ã‚‰ãšã€ã‚„ã°ã„ã˜ã‚ƒã‚“...ğŸ˜¨ã¨æ€ã£ã¦å‹‰å¼·ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ\n\n[Docker/Kubernetes å®Ÿè·µã‚³ãƒ³ãƒ†ãƒŠé–‹ç™ºå…¥é–€](https://www.amazon.co.jp/Docker-Kubernetes-%E5%AE%9F%E8%B7%B5%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E9%96%8B%E7%99%BA%E5%85%A5%E9%96%80-%E5%B1%B1%E7%94%B0-%E6%98%8E%E6%86%B2-ebook/dp/B07GP1Q3VT)ã®Dockerå‘¨ã‚Šã®ç« ã‚’èª­ã‚“ã§å¤šå°‘æ•´ç†ãŒã¤ã„ãŸã®ã§ã€\nä½•äº‹ã‚‚å®Ÿè·µãŒä¸€ç•ªï¼ã¨ã„ã†ã“ã¨ã§ã€å®Ÿéš›ã«Docker Composeã‚’ä½¿ã£ã¦ä½œæ¥­ç’°å¢ƒã‚’ä½œã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ\n\n# ã©ã‚“ãªã‚‚ã®ã‚’ä½œã‚‹ã‹\n\nä¸–é–“ã§ã¯ãƒ‡ãƒ¼ã‚¿åˆ†æã®é‡è¦æ€§ãŒèª¬ã‹ã‚Œã¦ä¹…ã—ã„ã§ã™ã­ğŸ“ˆ\n\næ±æ€¥ãƒãƒ³ã‚ºã«ãŠã„ã¦ã‚‚ã€BIãƒ„ãƒ¼ãƒ«ã‚„å„ç¨®åˆ†æã‚·ã‚¹ãƒ†ãƒ ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã™ãŒã€\næ™‚ã¨ã—ã¦ã€å€‹äººãƒ¬ãƒ™ãƒ«ã§ã¡ã‚‡ã£ã¨ã—ãŸåˆ†æä½œæ¥­ã‚’ã‚„ã£ã¦ã¿ãŸã„/ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™\néŠã³ã ã£ãŸã‚‰ã„ã„ã§ã™ãŒã€ã‚ã¾ã‚Šæ‰‹ä½œæ¥­&ãƒãƒªã§ã‚„ã‚‹ã¨ã€å®šå‹ä½œæ¥­åŒ–ã—ãŸã‚Šã€æ¡ˆä»¶åŒ–ã—ãŸéš›ã«ä»–è€…ã¸å±•é–‹ã™ã‚‹ã®ãŒè¾›ããªã‚Šãã†ã§ã™\n\nãã“ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¦ä»¶ã‚’ä»®å®šã—ã¦ã€å€‹äººå‘ã‘ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ã‚’Dockerã§ä½œã‚‹ã“ã¨ã«æŒ‘æˆ¦ã—ã¾ã™âœ¨\n\n1. RDBã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€Webç­‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦ãã‚‹\n2. ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ãƒ»é›†è¨ˆã™ã‚‹\n3. é›†è¨ˆã—ãŸçµæœã‚’å¯è¦–åŒ–ã™ã‚‹\n4. æ€ã„ã¤ã„ãŸã“ã¨ã‚’ãƒ‘ãƒƒã¨è©¦ã›ã‚‹\n\n# ã©ã®ã‚ˆã†ã«ä½œã‚‹ã‹\n\nå¼Šç¤¾ã§ã‚‚å°å…¥ã—ã¦ã„ã‚‹[Cacoo](https://cacoo.com/ja/)ã‚’ä½¿ã£ã¦ã€å›³ã«ã—ã¦ã¿ã¾ã—ãŸ\nä¸Šã«æ›¸ã„ãŸè¦ä»¶ã¨å¯¾æ¯”ã—ã¦ã²ã¨ã¤ãšã¤è¦‹ã¦ã„ãã¾ã™\n\n![ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](https://qiita-image-store.s3.amazonaws.com/0/106259/d63e2f36-4841-b0a6-aba4-240c3328674f.png)\n\n## RDBã‚„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€Webç­‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦ãã‚‹\n\nå¼Šç¤¾ã¯AWSã‚’æ¿€æ¨ã—ã—ã¦ã„ã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã¯åŸºæœ¬AWSã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆRedshiftã€RDSã€DynamoDBã€S3ãªã©ï¼‰ã«è“„ç©ã•ã‚Œã¦ã„ã¾ã™\nãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã™ã‚‹DBã«å¥½ãå‹æ‰‹ã«ç¹‹ãã«ã„ãã®ã¯é¿ã‘ãŸã„ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã¯ç¨¼åƒã®ä½ã„æ™‚é–“å¸¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€TSVãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è½ã¨ã—ã¦ãŠãã®ãŒã‚ˆã•ãã†ã§ã™\n\nã¾ãŸã€å¼Šç¤¾ãŒæ¡ç”¨ã—ã¦ã„ã‚‹æŠ€è¡“ã®ã²ã¨ã¤ã§ã‚ã‚‹[ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸é–‹ç™ºæ‰‹æ³•](https://www.usp-lab.com/methodology.html)ã¯åŸºæœ¬çš„ã«ãƒ•ã‚¡ã‚¤ãƒ«æ–‡åŒ–ãªã®ã§ã™ãŒã€\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯SSV(ã£ã¦è¨€ã†ã‚“ã§ã™ã­...åŠè§’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Š)ã€ãƒ˜ãƒƒãƒ€ãªã—ã€ç©ºå€¤ã¯ _ ã§è¡¨ç¾ã¨ã„ã†æ›¸å¼ã®ãŸã‚ã€ã‚ˆãã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒæ§˜ã«æ‰±ã†ã«ã¯ã¡ã‚‡ã£ã¨ã—ãŸåŠ å·¥ãŒå¿…è¦ã«ãªã‚Šã¾ã™\n\n```shell:ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ¡ãƒ¼ã‚¸\n# 1:ID 2:å•†å“å 3:ä¾¡æ ¼ 4:ç¨®åˆ¥\n001 ã‚Šã‚“ã” 100 1\n002 ã¿ã‹ã‚“ 50 2\n003 ãã‚…ã†ã‚Š 80 _\n```\n\nãƒ‡ãƒ¼ã‚¿ã®é®®åº¦ã«ã¤ã„ã¦ã‚‚ã€æœ€åˆã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦æ‰‹å®Ÿè¡Œ...ã§ã‚ˆã„ã‚‚ã®ã¨æ€ã„ã¾ã™ãŒã€\nå®šå‹åŒ–ãƒ»è‡ªå‹•åŒ–ã‚’è¦‹æ®ãˆã¦crontabã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠããŸã„ã§ã™\n\n## ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ãƒ»é›†è¨ˆã™ã‚‹\n\nãƒãƒƒãƒˆã§ã€€ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ã€€ã§èª¿ã¹ã‚‹ã¨ä¼æ¥­ãƒ¬ãƒ™ãƒ«ã®äº‹ä¾‹ã®è©±ãŒæ²¢å±±å‡ºã¦ãã¾ã™ãŒã€\nãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã¦æ•´å½¢ãƒ»é›†è¨ˆ...ã¨ã„ã†æµã‚Œã‚’è‡ªå‹•åŒ–ã™ã‚‹ã®ãŒã‚»ã‚ªãƒªãƒ¼ã®ã‚ˆã†ã§ã™\nä»Šå›ã¯ã€ãƒãƒƒãƒãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®[Luigi](https://github.com/spotify/luigi)ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã„ã„æ„Ÿã˜ã§ã™\n\nãƒ‡ãƒ¼ã‚¿ã®åŠ å·¥ãƒ»é›†è¨ˆã«ã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹[Pandas](https://pandas.pydata.org/)ã‚’ä½¿ã„ã¾ã™\nä»¥ä¸‹ã®ã‚ˆã†ã«ã€å…ƒã®ãƒ‡ãƒ¼ã‚¿ãŒTSVã§ã‚ã£ã¦ã‚‚ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã§ã‚ã£ã¦ã‚‚ã€ã†ã¾ã„ã“ã¨æ‰±ã†ã“ã¨ãŒã§ãã¾ã™\nã¨ã„ã†ã‹å¤§æŠµã®ãƒ‡ãƒ¼ã‚¿æ“ä½œã¯[ã¾ãšã§ãã¾ã™](https://qiita.com/s_katagiri/items/4cd7dee37aae7a1e1fc0)ã€‚ã™ã”ã„...\n\n```python:ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\nimport pandas as pd\n\n# ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\nitems_unicage = pd.read_csv('./ITEMS', sep=' ', dtype=str, header=None).replace('_', '')\nitems_unicage.columns = ['id', 'name', 'price', 'type']\n\n# TSVã®èª­ã¿è¾¼ã¿\nitems_tsv = pd.read_csv('./items.tsv', sep='\\t', dtype=str)\n```\n\nPythonã‚’æœ¬æ ¼çš„ã«ä½¿ã„å§‹ã‚ãŸã®ã¯å…¥ç¤¾ã—ã¦ã‹ã‚‰ãªã®ã§ã™ãŒã€\nã“ã†ã—ãŸè«¸ã€…ã‚’æ‰‹è»½ã«ã‚„ã‚Œã‚‹ã®ã¯ã€èˆ—è£…ã•ã‚ŒãŸé“è·¯ã‚’èµ°ã£ã¦ã„ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚ŠãŒãŸã„ã§ã™ã­...\n\n## é›†è¨ˆã—ãŸçµæœã‚’å¯è¦–åŒ–ã™ã‚‹\n\nãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢ãƒ»é›†è¨ˆãŒæ¸ˆã‚“ã ã‚‰ã€æ¬¡ã¯å¯è¦–åŒ–ã§ã™\nä»Šå›ã¯ã€ã“ã‚Œã¾ãŸã‚·ãƒ³ãƒ—ãƒ«ã«ã‚„ã‚ŠãŸã„ã“ã¨ãŒå®Ÿç¾ã§ããã†ã ã£ãŸã®ã§ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«ã®[Redash](https://redash.io/)ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼ˆ[watarukura](https://qiita.com/watarukura/items/aebe0adf5a5ecc994c93)ã•ã‚“ã«å‹§ã‚ã¦é ‚ãã¾ã—ãŸï¼‰\n\nRedashã¯åŸºæœ¬çš„ã«SQLã§ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã—ã¦ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹...ã¨ã„ã†ã‚‚ã®ãªã®ã§ã€\nä»Šã¾ã§ã®å·¥ç¨‹ã§ç”Ÿæˆã—ã¦ããŸå„ç¨®é›†è¨ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ¼ãƒ«ã™ã‚‹é›†è¨ˆçµæœä¿æŒç”¨ã®DBï¼ˆPostgreSQLï¼‰ã‚’ç”¨æ„ã—ã¾ã™ğŸ˜\n\nã¾ãŸã€ä»Šã¾ã§ã¯å®šå‹åŒ–ã•ã‚ŒãŸåˆ†æå‡¦ç†ã®è©±ã°ã‹ã‚Šã—ã¦ã„ã¾ã—ãŸãŒã€\nåˆæœŸæ®µéšã§ã¯åˆ†æç”¨DBã«ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ã«ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã£ã¦ãã‚Œã‚’çµåˆã™ã‚‹ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦...ã®ã‚ˆã†ãªæŸ”è»Ÿãªæ“ä½œãŒã§ãã‚‹ã¨ä½¿ã„å‹æ‰‹ãŒã‚ˆã•ãã†ã§ã™\nRedashã§ã¯ãã†ã—ãŸè¦æœ›ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«[Query Results](https://redash.io/help/user-guide/querying/query-results-data-source)ã¨ã„ã†æ©Ÿèƒ½ãŒãƒ™ãƒ¼ã‚¿ç‰ˆã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ãŒã€\nè¤‡é›‘ãªã‚¯ã‚¨ãƒªã ã¨ã‚¨ãƒ©ãƒ¼ã‚’åãã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¡ã‚‡ã£ã¨ä¸å¯©ã ã£ãŸã®ã§ã€ä»Šå›ã¯é•ã†æ–¹æ³•ã§å®Ÿç¾ã—ã¾ã™ï¼ˆå¾Œè¿°ï¼‰\n\n## æ€ã„ã¤ã„ãŸã“ã¨ã‚’ãƒ‘ãƒƒã¨è©¦ã›ã‚‹\n\nå‰é …ã§ã€åˆ†æã‚’ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ã«è©¦ã—ãŸã„ã¨ã„ã†è©±ãŒã‚ã‚Šã¾ã—ãŸãŒã€\nä»–ã®ãƒ„ãƒ¼ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã¿ã‚‹ã¨ã‹ã€æ©Ÿæ¢°å­¦ç¿’ã¯ã©ã†ã‹ã¨ã‹ã€åˆ†æã®æ‰‹æ³•ã¯ã„ãã‚‰ã§ã‚‚è€ƒãˆã‚‰ã‚Œãã†ã§ã™\nãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å‡¦ç†ã‚’è½ã¨ã—è¾¼ã‚€å‰ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´å½¢ãƒ»é›†è¨ˆå‡¦ç†ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¤œè¨ã™ã‚‹ãŸã‚ã«ã‚‚ã€å¯¾è©±å‹ã®ç’°å¢ƒãŒã‚ã‚‹ã¨ä¾¿åˆ©ã§ã—ã‚‡ã†\n\nãã†ã—ãŸè¦ä»¶ã«å–ã‚Šçµ„ã¿ã‚„ã™ããªã‚‹ã‚ˆã†ã€[JupyterLab](https://github.com/jupyterlab/jupyterlab)ã‚’å°å…¥ã—ã¦ãŠãã¾ã™\nã“ã£ã¡ã¯[thimi0412](https://qiita.com/thimi0412/items/6fb41dd00178753185c9)ã•ã‚“ã«æ•™ãˆã¦ã‚‚ã‚‰ã„ã¾ã—ãŸãŒã€å„ç¨®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è©¦ã—ã¤ã¤&çµæœã‚’æ®‹ã—ã¤ã¤ä½œæ¥­ã§ãã‚‹ã®ã§ã ã„ã¶ã‚ˆã•ã’ã§ã™\n\n### ãƒ‘ãƒƒã¨è©¦ã—ã¦ã€ãã‚Œã‹ã‚‰ã©ã†ã™ã‚‹ï¼Ÿ\n\næœ€çµ‚çš„ã«ã¯åˆ†æçµæœã‚’åº—èˆ—ã§åƒã„ã¦ã‚‹æ¥­å‹™éƒ¨é–€ã®æ–¹ã€…ã«è¦‹ã›ã‚‹ã“ã¨ã«ã‚‚ãªã‚Šãã†ã§ã™ãŒã€\nãã®éš›ã«è©±ãŒå¼¾ã‚“ã§ã€åˆ†æã®è»¸ã‚’å¤‰ãˆã¦ã»ã—ã„ã¨ã‹ã€å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¢—æ¸›ã•ã›ãŸã„...ã¨æ„è¦‹ãŒã‚‚ã‚‰ãˆãŸæ™‚ã«ã€æŸ”è»Ÿã«å¯¾å‡¦ã§ãã‚‹ã¨ã‚ˆã•ãã†ã§ã™\nå…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ãƒ­ãƒ¼ãŒã‚¹ãƒ ãƒ¼ã‚ºã«å®Ÿç¾ã§ãã‚‹ã‹ã€ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹\n\n1. ä½•ã‹ã—ã‚‰ã®æ–¹æ³•ã§å…ƒãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹\n    - Jupyterã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã\n    - Redashã§SQLæ›¸ã„ã¦ã€ç”Ÿæˆã—ãŸçµæœè¡¨ã‚’CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ï¼ˆæ¨™æº–æ©Ÿèƒ½ã§ä»˜ã„ã¦ã¾ã™ï¼‰\n    - S3ã‚„ãƒãƒƒãƒˆãªã©ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è½ã¨ã—ã¦ãã‚‹\n    - [ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã‚³ãƒãƒ³ãƒ‰](https://github.com/usp-engineers-community/Open-usp-Tukubai)ã‚’é§†ä½¿ã—ã¦æ‰‹ä½œæ¥­ã§ä½œã‚‹\n        - ä½™è«‡ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ã—ãŸãƒ‡ãƒ¼ã‚¿åŠ å·¥ã«ãŠã„ã¦ãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ã¯ã ã„ã¶æœ‰ç”¨ã§ã™ã€‚ç­†è€…ã¯ç‰¹ã«`yarr`ãŒå¥½ãã§ã™...\n2. å…ƒãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é›†è¨ˆç”¨DBã«å–ã‚Šè¾¼ã‚€ã€‚ã§ãã‚‹ã ã‘æ‰‹è»½ã«ğŸ¤—\n3. Redashã§å¯è¦–åŒ–ã™ã‚‹\n\nä¸Šè¨˜ã®ï¼’.ã«ã¤ã„ã¦ã€ä½•ã‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã„ã˜ã‚‹åº¦ã«ãƒãƒƒãƒã‚’å©ã„ãŸã‚Šã€cronãŒãƒãƒ¼ãƒªãƒ³ã‚°ã—ã¦ãã‚Œã‚‹ã®ã‚’å¾…ã£ãŸã‚Šãªã©ã¯ã—ãŸããªã„ã®ã§ã€\n[inotifywait](https://qiita.com/stc1988/items/464410382f8425681c20)ã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ†ãƒŠå†…ã®æ‰€å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç›£è¦–ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸã‚‰é›†è¨ˆç”¨DBã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™\n\nä»Šå›ã¯ã€ã“ã‚“ãªå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’yamlã§ãŸãã•ã‚“ç”¨æ„ã—ã¦ãŠãã€å‡¦ç†å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¨ãƒãƒƒãƒã—ãŸã‚‰é›†è¨ˆç”¨DBã«DDLã‚’ç™ºè¡Œ...ã¨ã„ã†[Luigiã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦](https://github.com/yktakaha4/analysis-docker/blob/master/volumes/analysis-batch/batch/analysis/load_files.py)ã€å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ\n\n```yaml:å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸ç”¨ï¼‰\npattern: \"/ITEMS$\"\nformat:\n  encoding: \"utf-8\"\n  newline: \"\\n\"\n  skip: 0\n  delimiter: \" \"\n  doublequote: false\n  escapechar: \"\"\n  skipinitialspace: false\n  replacers:\n    - pattern: \"^_$\"\n      newvalue: \"\"\ntable_name: \"items\"\nddl: |\n  drop table if exists {table_name};\n  create table {table_name} (\n    item_id varchar(3) not null,\n    name varchar(255) not null,\n    price int not null,\n    item_type varchar(1) not null,\n    primary key(item_id)\n  );\n```\n\n```yaml:ã‚ªãƒã‚±ï¼šCSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿å®šç¾©\nformat:\n  encoding: \"utf-8\"\n  newline: \"\\n\"\n  skip: 1\n  delimiter: \",\"\n  doublequote: true\n  escapechar: \"\\\"\"\n  skipinitialspace: false\n```\n\n# ä½œã£ãŸã‚‚ã®\n\nhttps://github.com/yktakaha4/analysis-docker\n\nç¤¾å†…ã§ä½¿ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ãã®ã¾ã¾å…¬é–‹ã¯ã‚¢ãƒ¬ã§ã—ãŸã®ã§ã€ä»Šå›èª¬æ˜ã—ãŸå†…å®¹ã«æ©Ÿèƒ½ã‚’çµã£ãŸã‚‚ã®ã‚’Githubã«å…¬é–‹ã—ã¾ã—ãŸ:octocat:\nä»¥ä¸‹ã€ç°¡å˜ã«è§£èª¬ã—ã¦ã„ãã¾ã™\n\n## åˆæœŸæ§‹ç¯‰ãƒ»èµ·å‹•ãƒ»åœæ­¢\n\nä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„\n\n```terminal\n~â¯ git clone https://github.com/yktakaha4/analysis-docker.git\n~â¯ cd analysis-docker\n\n# ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œå¾Œã€Redashç”¨ã€é›†è¨ˆçµæœä¿æŒç”¨ã®DBã‚’ãã‚Œãã‚Œä½œæˆ\nâ¯ docker-compose build\nâ¯ docker-compose run --rm server create_db\nâ¯ docker-compose run --rm luigi create_db\n\n# èµ·å‹•ãƒ»åœæ­¢ï¼ˆï¼’å›ç›®ä»¥é™ã¯ä»¥ä¸‹ã®ã¿ã§OKï¼‰\nâ¯ docker-compose up\nâ¯ docker-compose down\n```\n\n## Jupyterç¢ºèª\n\nlocalhost:25002ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€JupyterLabãŒèµ·å‹•ã—ã¾ã™\ndata/watché…ä¸‹ã‚’ç¢ºèªã™ã‚‹ã¨ã€ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒå…¥ã£ã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã¾ã™\n\n![JupyterLab](https://qiita-image-store.s3.amazonaws.com/0/106259/d19d25dc-9769-a12b-a86b-9b27d0356baa.png)\n\nä½¿ã„æ–¹ãªã©ã¯è©±ãŒãã‚Œã‚‹ã®ã§å‰²æ„›\n\n## Luigiã¨inotifywaitç¢ºèª\n\nåˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç«‹ã¡ä¸Šã’ã¦ã€ãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã¦ã¿ã¾ã™\ninotifywaitã«ã‚ˆã‚Šæ›´æ–°ãŒæ¤œçŸ¥ã•ã‚Œã€é›†è¨ˆDBã«ãƒ‡ãƒ¼ã‚¿ãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™\n\n```terminal\n# å…ˆã»ã©ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨\nâ¯ ll volumes/analysis-data/watch/ITEMS\n-rw-r--r--  1 tkhs  staff    61B Dec 16 13:00 volumes/analysis-data/watch/ITEMS\nâ¯ touch volumes/analysis-data/watch/ITEMS\n\n# docker-composeã‚’å®Ÿè¡Œã—ãŸæ–¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã€ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹\nï¼ˆç•¥ï¼‰\nluigi_1       | ===== Luigi Execution Summary =====\nluigi_1       |\nluigi_1       | Scheduled 1 tasks of which:\nluigi_1       | * 1 ran successfully:\nluigi_1       |     - 1 analysis.LoadFilesTask(source_files_path=/root/analysis/data/watch/ITEMS, definition_files_path=/root/analysis/batch/configs/load_files)\nluigi_1       |\nluigi_1       | This progress looks :) because there were no failed tasks or missing dependencies\nluigi_1       |\nluigi_1       | ===== Luigi Execution Summary =====\nï¼ˆç•¥ï¼‰\n```\n\nlocalhost:25001ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ã‚¿ã‚¹ã‚¯ã®å®Ÿè¡Œçµæœã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™\n\n![LuigiWebã‚³ãƒ³ã‚½ãƒ¼ãƒ«](https://qiita-image-store.s3.amazonaws.com/0/106259/9a7ca829-722e-94a9-e6d0-dbdcd18465f6.png)\n\n## Redashç¢ºèª\n\næœ€å¾Œã«ã€localhost:25000ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦Redashã‚’èµ·å‹•ã—ã€ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãç™»éŒ²ã•ã‚ŒãŸã‹ç¢ºèªã—ã¾ã™\n\nåˆæœŸè¨­å®šã‚’ã—ã¦...ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®šãªã®ã§ã€å¿˜ã‚Œãªã‘ã‚Œã°ä»»æ„ã®ã‚‚ã®ã§å¤šåˆ†ã‚ˆã„ã§ã™ï¼‰\n\n![RedashåˆæœŸè¨­å®š](https://qiita-image-store.s3.amazonaws.com/0/106259/13d7d15a-2248-d769-938e-cf83e2044ecf.png)\n\nConnect a Data Source > New Data Source > PostgreSQL ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦...\n\n| åå‰ | å€¤ |\n| --- | --- |\n| Name | summaryï¼ˆä»»æ„ï¼‰ |\n| Host | postgres |\n| User | postgres |\n| Database Name | summary |\n\n<img width=\"1072\" alt=\"Redashãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ä½œæˆ\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/851f0aec-a950-22b3-5558-cd90b39cf82f.png\">\n\nsummaryã®itemsãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¯ã‚¨ãƒªã‚’æ‰“ã£ã¦ã¿ã¾ã™\nãƒ¦ãƒ‹ã‚±ãƒ¼ã‚¸å½¢å¼ã ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãèª­ã¿è¾¼ã‚ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã­ï¼\n\n<img width=\"1072\" alt=\"Redashã‚¯ã‚¨ãƒª\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/b7049a68-5ff8-078b-a582-9e75166eb652.png\">\n\nå–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«æ£’ã‚°ãƒ©ãƒ•ã‚’ä½œã‚Šã€ã‚Šã‚“ã”ã®ä¾¡æ ¼ãŒä¸€ç•ªé«˜ã„ã“ã¨ã‚’è¦–è¦šçš„ã«æ˜ã‚‰ã‹ã«ã—ãŸç¬é–“ã§ã™ğŸ“ŠğŸ¤”\n\n<img width=\"1072\" alt=\"Redashã‚°ãƒ©ãƒ•\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/21dd661a-5ca7-8510-2e66-87ee7559c0bc.png\">\n\nãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°å¾Œã‚¯ã‚¨ãƒªã‚’å†å®Ÿè¡Œã™ã‚Œã°ã€ç›´ã¡ã«ã‚°ãƒ©ãƒ•ã‚’å†ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™\nã¡ã‚‡ã£ã¨ã—ãŸã“ã¨ã§ã¯ã‚ã‚Šã¾ã™ãŒã€åˆ†æä½œæ¥­ã‚’ç¹°ã‚Šè¿”ã™ã†ã¡ã«ãã£ã¨ã‚¸ãƒ£ãƒ–ã®ã‚ˆã†ã«åŠ¹ã„ã¦ãã‚‹ã‚‚ã®ã¨æ€ã„ã¾ã™\n\n<img width=\"990\" alt=\"Redashã‚°ãƒ©ãƒ•2\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/ae31f32e-a26d-50bf-e69c-9581e7900ea9.png\">\n\n## docker-compose.ymlã«ã¤ã„ã¦\n\nhttps://github.com/yktakaha4/analysis-docker/blob/master/docker-compose.yml\n\nã‚³ãƒ³ãƒ†ãƒŠã¨å½¹å‰²ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸ\nå®Ÿç‰©ã¨ã—ã¦ã¯ã€[ã“ã¡ã‚‰](https://github.com/getredash/redash/blob/master/docker-compose.production.yml)ã‚„[ã“ã¡ã‚‰](https://github.com/axiom-data-science/docker-luigi/blob/master/Dockerfile.alpine)ã‚„[ã“ã¡ã‚‰](https://qiita.com/tsnb/items/4893bc46bbdff4f97dfb)ã€[ã“ã¡ã‚‰](https://github.com/docker-library/postgres/blob/master/Dockerfile-alpine.template)ãªã©ã€æ—¢ã«ã‚ã‚‹å®Ÿè£…ã‚’ ~~ãƒ‘ã‚¯ãƒª~~ èª¿ã¹ãªãŒã‚‰èª­ã‚“ã§å†…å®¹ç†è§£ã«åŠªã‚ã¾ã—ãŸ\n\n| ã‚³ãƒ³ãƒ†ãƒŠå | å½¹å‰² | å‚™è€ƒ |\n| --- | --- | --- |\n| serverã€<br>workerã€<br> redis | RedashãŒä½¿ã†ã‚„ã¤ã§ã™ï¼ˆé©å½“ï¼‰ | http://localhost:25000/ |\n| postgres | Redashå†…éƒ¨ãƒ‡ãƒ¼ã‚¿ã¨é›†è¨ˆãƒ‡ãƒ¼ã‚¿ä¿æŒã‚’å…¼ã­ãŸDB |ã€€ |\n| luigi | Luigiã¨inotifywait | http://localhost:25001/<br>è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œã®ãŸã‚[supervisord](http://www.itmedia.co.jp/enterprise/articles/1602/17/news004.html)ã‚’ä½¿ç”¨ |\n| jupyterlab | JupyterLab | http://localhost:25002/ |\n\nå‹•ãã“ã¨å„ªå…ˆã§ä½œã£ãŸãŸã‚ã‚¤ã‚±ã¦ãªã„éƒ¨åˆ†ã‚‚è‰²ã€…ã‚ã‚Šãã†ãªã®ã§ã€ä½¿ã„ãªãŒã‚‰ã‚ˆãã—ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™\n\n# æ‰€æ„Ÿ\n\næ€ã£ãŸã“ã¨ã‚’ç®‡æ¡æ›¸ãã§...\n\n- å½“åˆã¯å¤§é‡ã®ã‚³ãƒãƒ³ãƒ‰ã¨å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸å¼ã€ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤§ããªæ¦‚è¦ã®èª¬æ˜ã«åœ§å€’ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ï¼‘ã‚³ãƒ³ãƒ†ãƒŠâ‰’1ãƒ—ãƒ­ã‚»ã‚¹ãªã©ã€åŸå‰‡ãŒé ­ã«å…¥ã£ã¦ãã‚‹ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ´ã¿ã‚„ã™ããªã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™\n    - ã¾ãšã¯ã€æ¦‚è¦ã®è©±ã‚’èª­ã‚“ã§ã‹ã‚‰å–ã‚Šçµ„ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™\n- æƒ…å ±ã‚’ä¸Šã‹ã‚‰èª­ã‚“ã§ã„ã£ã¦ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€å®Ÿç¾ã—ãŸã„æ©Ÿèƒ½ã‚’æ´—ã„å‡ºã—ã¦ã€ãã‚Œãã‚Œã«ã¤ã„ã¦ã©ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒŠãŒã‚ã‚Œã°å®Ÿç¾å¯èƒ½ã‹è€ƒãˆã‚‹ã®ãŒå¤§äº‹ã§ã™ã€‚[DockerHub](https://hub.docker.com/)ã«æ—¢å­˜ã®ã‚‚ã®ãŒãªã„ã‹èª¿ã¹ã‚‹ã®ã‚‚é‡è¦ã§ã™\n- ãã‚Œã«ã¤ã‘ã¦ã‚‚ã€ã“ã†ã‚„ã£ã¦ä¸€åº¦å®šç¾©ã‚’æ›¸ã„ã¦ã—ã¾ãˆã°èª°ã§ã‚‚/ã©ã“ã§ã‚‚ç’°å¢ƒæ§‹ç¯‰ãŒã§ãã¦ã€ãã‚ŒãŒç„¡æ–™ã§è‡ªåˆ†ã§ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã®ã¯ã€æœ¬å½“ã«ã™ã”ã„æ™‚ä»£ã«ãªã£ãŸãªã‚...ã¨æ€ã„ã¾ã™\n\n# ä»Šå¾Œã®å±•æœ›\n\nç¾æ™‚ç‚¹ã§ã¾ã ã§ãã¦ãªã„éƒ¨åˆ†ã‚’ã¾ã¨ã‚ã¾ã™\n\n- crontabã®å°å…¥\n    - ãƒ‡ãƒ¼ã‚¿åˆ†æä½œæ¥­ãŒã¾ã è©¦è¡ŒéŒ¯èª¤ã®æ®µéšã§å®šå‹ä½œæ¥­ã«ã—ãŸã„ã‚‚ã®ãŒãªã‹ã£ãŸãŸã‚ã€å¾Œå›ã—ã«ã—ã¦ãŸã‚‰å…¬é–‹ã«é–“ã«åˆã„ã¾ã›ã‚“ã§ã—ãŸ...\n    - [ã“ã¡ã‚‰](https://qiita.com/YuukiMiyoshi/items/bb7f14436d60d4bd8a8b)ãªã©ã‚’è¦‹ã¦ã‚‚ã„ãã¤ã‹é¸æŠè‚¢ãŒã‚ã‚Šãã†ãªã®ã§ã€èª¿ã¹ã¤ã¤è¿‘ãå®Ÿè£…ã—ãŸã„ã¨æ€ã„ã¾ã™\n- ç’°å¢ƒå¤‰æ•°/è³‡æ ¼æƒ…å ±ã®æ¸¡ã—æ–¹\n    - AWSã®å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã«ç¹‹ãã«è¡ŒããŸã‚ã«ä½•ã‹ã—ã‚‰æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€èµ·å‹•æ™‚ã«ã„ã„æ„Ÿã˜ã«æ³¨å…¥ã™ã‚‹æ–¹æ³•ãŒç¢ºç«‹ã§ãã¦ãŠã‚‰ãšã€ä»Šå›ã¯ãƒãƒƒã‚µãƒªã¯ã—ã‚‡ã‚Šã¾ã—ãŸ...\n- AWSä¸Šã§ã®é‹ç”¨\n    - ç‰¹ã«Redashã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€ã‚µãƒ¼ãƒã§é‹ç”¨ã§ãã‚‹ã¨ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã®é¢ã§ãƒ¡ãƒªãƒƒãƒˆãŒå¤§ãã„ã®ã§ã€[è‰²ã€…èª¿ã¹ã¤ã¤](https://dev.classmethod.jp/cloud/aws-docker-service-catalog/)æ˜¯éã¨ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã§ã™ï¼\n- ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’ã‚¬ãƒ³ã‚¬ãƒ³ã‚„ã‚‹\n    - æ­£ç›´ã‚„ã£ã¨ã‚¹ã‚¿ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã«ç«‹ã£ãŸã€ã¨ã„ã†è©±ãªã®ã§ã€ç’°å¢ƒã‚’ä½œã£ã¦æº€è¶³...ã¨ãªã‚‰ãªã„ã‚ˆã†ã€é ‘å¼µã‚ŠãŸã„ã¨æ€ã„ã¾ã™ğŸ˜‡\n\n---\n\n[ãƒãƒ³ã‚ºãƒ©ãƒœ Advent Calendar 2018](https://qiita.com/advent-calendar/2018/handslab) æ˜æ—¥ã¯ã€[å¼Šç¤¾ãƒ–ãƒ­ã‚°](https://www.hands-lab.com/contents/)ã§ã‚‚æ´»èºã•ã‚Œã¦ã„ã‚‹@yuka_jyoteiã•ã‚“ã§ã™ï¼\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2018-12-16T21:23:04+09:00",
      "group": null,
      "id": "ebc8aa6987de82f93fba",
      "likes_count": 21,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 16,
      "tags": [
        {
          "name": "Python",
          "versions": []
        },
        {
          "name": "Docker",
          "versions": []
        },
        {
          "name": "Jupyter",
          "versions": []
        },
        {
          "name": "redash",
          "versions": []
        },
        {
          "name": "Luigi",
          "versions": []
        }
      ],
      "title": "Docker + Python + Redashã§ãŠã²ã¨ã‚Šæ§˜ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ã‚’ä½œã‚‹",
      "updated_at": "2018-12-20T07:01:07+09:00",
      "url": "https://qiita.com/yktakaha4/items/ebc8aa6987de82f93fba",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>å‹‰å¼·ã§ä½œã£ãŸWebã‚¢ãƒ—ãƒªã®ã”ç´¹ä»‹å…¼å‚™å¿˜éŒ²ã¨ãªã‚Šã¾ã™<br>\nå‚è€ƒã«ã—ãŸè³‡æ–™ã‚’å¤šãè²¼ã‚‹ã‚ˆã†å¿ƒãŒã‘ãŸã®ã§ã€ä¼¼ãŸã‚ˆã†ãªæ§‹æˆã§ä½•ã‹ä½œã‚ã†ã¨ã•ã‚Œã¦ã‚‹æ–¹ã®ä¸€åŠ©ã«ãªã‚Œã°å¹¸ã„ã§ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/bdb3c11eb8bdf51c3f75697fa6171254ada3f06c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f63353665376561362d376433392d336435302d643236392d6562396534666337366432392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc56e7ea6-7d39-3d50-d269-eb9e4fc76d29.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bf047012a73efdac27cc302382b61fa7\" alt=\"Watson Music\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/c56e7ea6-7d39-3d50-d269-eb9e4fc76d29.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc56e7ea6-7d39-3d50-d269-eb9e4fc76d29.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3d5ade0fb98b8ce9ff453d41492a6eee 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"ã©ã‚“ãªã‚¢ãƒ—ãƒª\" class=\"fragment\"></span><a href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%A2%E3%83%97%E3%83%AA\"><i class=\"fa fa-link\"></i></a>ã©ã‚“ãªã‚¢ãƒ—ãƒªï¼Ÿ</h2>\n\n<p>ğŸ¤” ã‚ªãƒ•ã‚£ã‚¹ã«BGMã‚’æµã—ãŸã„ã‘ã©ã€éŸ³æ¥½ã®è¶£å‘³ã¯ã¿ã‚“ãªé•ã†...å…¬å¹³ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦ã‚‚è„ˆçµ¡ã®ãªã„é¸æ›²ã«ãªã‚‹ã—ã€ä½•ã‹ã„ã„æ–¹æ³•ã¯ãªã„ã‹ãª...</p>\n\n<p>ğŸ˜ƒ ãã†ã ! Watsonã«æ›²èª¿ã‚„ä»Šã®æ°—åˆ†ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã€æµã™æ›²ã‚’æ±ºã‚ã¦ã‚‚ã‚‰ãˆã°ã„ã„ã‚“ã !<br>\nğŸ¤— ä»•äº‹ãŒå¿™ã—ã™ãã¦æ‰‹ãŒé›¢ã›ãªã„äººã‚‚ã€éŸ³å£°ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚Œã°ä¸‡äº‹è§£æ±ºã§ã™ã­!!</p>\n\n<ul>\n<li>ä¸€å¿œèª¿ã¹ãŸã®ã§ã™ãŒã€<a href=\"http://www.jasrac.or.jp/info/bgm/\" rel=\"nofollow noopener\" target=\"_blank\">äº‹å‹™æ‰€ã€å·¥å ´ç­‰ã§ã®ä¸»ã¨ã—ã¦å¾“æ¥­å“¡ã®ã¿ã‚’å¯¾è±¡ã¨ã—ãŸBGMåˆ©ç”¨ã¯ç„¡æ–™</a>ã‚‰ã—ã„ã§ã™</li>\n<li>å„è‡ªã‚¤ãƒ¤ãƒ›ãƒ³ã§å¥½ããªã‚‚ã®è´ã‘ã°ã„ã„ã˜ã‚ƒã‚“...ã¨æ€ã£ãŸæ–¹ã¯é‹­ã„ã€ã‚ãªãŸã¯æ­£ã—ã„ã§ã™ğŸ˜­</li>\n</ul>\n\n<h2>\n<span id=\"çµŒç·¯\" class=\"fragment\"></span><a href=\"#%E7%B5%8C%E7%B7%AF\"><i class=\"fa fa-link\"></i></a>çµŒç·¯</h2>\n\n<ul>\n<li>\n<a href=\"https://qiita.com/yktakaha4/items/d14d643db28bc63c7b3f\" id=\"reference-7693289b70507d48250f\">å…ˆæ—¥ã„ã˜ã£ãŸ</a>Retrieve And RankãŒ<a href=\"https://www.ibm.com/watson/services/retrieve-and-rank/\" rel=\"nofollow noopener\" target=\"_blank\">Deprecatedã¨ãªã‚Š</a>ã€å¾Œç¶™ã¨ã—ã¦<a href=\"https://www.ibm.com/watson/jp-ja/developercloud/discovery.html\" rel=\"nofollow noopener\" target=\"_blank\">Discovery</a>ãŒå‡ºã¦ããŸã®ã§ã€ä½¿ã£ã¦ã¿ã‚ˆã†ã¨æ€ã£ãŸ\n\n<ul>\n<li>\n<a href=\"https://qiita.com/ishida330/items/b823d7c5b55806f04242\" id=\"reference-b6be757038e707c5a664\">ã“ã®æŠ•ç¨¿</a>ã‚’èª­ã‚“ã§ã€ä½¿ã†ã ã‘ãªã‚‰ãã“ã¾ã§é›£ã—ããªã•ãã†ã¨æ€ãˆãŸã®ãŒå¤§ãã‹ã£ãŸã§ã™</li>\n</ul>\n</li>\n<li>é•·ã‚‰ãjQueryã—ã‹ä½¿ãˆãªã‹ã£ãŸãŒã€<a href=\"https://qiita.com/mizchi/items/4d25bc26def1719d52e6\" id=\"reference-9158d178967026b076fb\">ã“ã¡ã‚‰ã®æŠ•ç¨¿</a>ã‚’èª­ã‚“ã§<del>é­‚ãŒéœ‡ãˆãŸ</del>React(ã¨ãã®å‘¨è¾ºæŠ€è¡“)ã‚’çŸ¥ã‚ŠãŸããªã£ãŸ\n\n<ul>\n<li>AngularJSã¨è¿·ã„ã¾ã—ãŸãŒã€ãªã‚“ã¨ãªãæ•·å±…ãŒä½ãã†ãªã“ã£ã¡ã‚’é¸ã³ã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¾ã§ã²ã¨ã‚Šã§è¨­è¨ˆ/å®Ÿè£…ã—ãŸã‚‰ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒä½œã‚Œã‚‹ã‹è©¦ã—ãŸã‹ã£ãŸ\n\n<ul>\n<li>æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã¨åˆ†ã‹ã‚Šã¾ã™ãŒã€Watsonã¯ãã“ã¾ã§ä½¿ã„è¾¼ã‚ã¦ã„ã¾ã›ã‚“...</li>\n<li>å½¹ã«ç«‹ã¤ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ &lt; æœªçµŒé¨“æŠ€è¡“ã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ— ã®å„ªå…ˆåº¦ã§å–ã‚Šçµ„ã¿ã¾ã—ãŸ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"é–‹ç™ºãƒãƒªã‚·ãƒ¼\" class=\"fragment\"></span><a href=\"#%E9%96%8B%E7%99%BA%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC\"><i class=\"fa fa-link\"></i></a>é–‹ç™ºãƒãƒªã‚·ãƒ¼</h2>\n\n<h3>\n<span id=\"å€‹ã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦æ·±æ˜ã‚Šã™ã‚‹ã‚ˆã‚Šã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã¡ã‚ƒã‚“ã¨ã¾ã¨ã¾ã‚‹ã‚ˆã†ã«ä½œã‚‹\" class=\"fragment\"></span><a href=\"#%E5%80%8B%E3%80%85%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E6%B7%B1%E6%8E%98%E3%82%8A%E3%81%99%E3%82%8B%E3%82%88%E3%82%8A%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%A8%E3%81%97%E3%81%A6%E3%81%A1%E3%82%83%E3%82%93%E3%81%A8%E3%81%BE%E3%81%A8%E3%81%BE%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>âœ¨å€‹ã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦æ·±æ˜ã‚ŠğŸ•³ã™ã‚‹ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã¡ã‚ƒã‚“ã¨ã¾ã¨ã¾ã‚‹ğŸ‘ªã‚ˆã†ã«ä½œã‚‹âœ¨</h3>\n\n<ul>\n<li>ä¾‹ãˆã°ã€<a href=\"https://qiita.com/yktakaha4/items/d14d643db28bc63c7b3f\">å‰å›</a>ã¯Watsonã¸ã®ãƒ‡ãƒ¼ã‚¿å–ã‚Šè¾¼ã¿ãªã©ã«æ‰‹æ“ä½œ(Curlã‚³ãƒãƒ³ãƒ‰æ‰“ã¤)ãŒä»‹åœ¨ã—ã¦ã—ã¾ã£ãŸã®ã§ã€å…¨éƒ¨ãƒãƒƒãƒåŒ–&amp;Webç”»é¢ã‹ã‚‰ã‚­ãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ</li>\n<li>æ§‹æˆã«ã¤ã„ã¦ã‚‚ã€<del>å‰å›ã®ã‚ˆã†ã«è¨³ã‚‚åˆ†ã‹ã‚‰ãšNode-REDã‚’ä½¿ã£ã¦æ¶ˆè€—ã—ãŸã‚Šã›ãšã€</del>ãƒ•ãƒ­ãƒ³ãƒˆï¼šJSã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼šJavaã§ã§ãã‚‹ã ã‘çµ±ä¸€ã—ã¾ã—ãŸ</li>\n<li>Discoveryã«å¯¾ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ è¾æ›¸é©ç”¨ã‚„ã€MP3æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŠã‚ˆã³ã‚¢ãƒ—ãƒªã‚µãƒ¼ãƒãƒ¼ã®ã‚¯ãƒ©ã‚¦ãƒ‰åŒ–ãªã©ã€æŠ¼ã•ãˆã¦ãŠããŸã‹ã£ãŸã¨ã“ã‚ã‚‚ã‚ã‚‹ã®ã§ã™ãŒã€å®Ÿè£…ã‚ˆã‚Šã‚‚ç’°å¢ƒæ§‹ç¯‰ã®å´é¢ãŒå¼·ãã†ã ã£ãŸã®ã§ã€ä¸Šè¨˜æ–¹é‡ã‚ˆã‚Šã‚¹ã‚³ãƒ¼ãƒ—ã‹ã‚‰å¤–ã—ã¾ã—ãŸ</li>\n</ul>\n\n<h1>\n<span id=\"ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹\" class=\"fragment\"></span><a href=\"#%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9\"><i class=\"fa fa-link\"></i></a>ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹</h1>\n\n<p>1. ãƒ¦ãƒ¼ã‚¶ãƒ¼(ã‚ªãƒ•ã‚£ã‚¹ã®äººã€…)ãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã«å„è‡ªMP3ã‚’æ ¼ç´ã™ã‚‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f82fcb7f2e1783d15a3f9d03cb1a542be74e07a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f33396266623433302d303939622d386665622d626335642d6362353766633465626534382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F39bfb430-099b-8feb-bc5d-cb57fc4ebe48.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c8bfba96439fcbb76fcbb4a5fb0f60da\" alt=\"MP3ãƒ•ã‚¡ã‚¤ãƒ«\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/39bfb430-099b-8feb-bc5d-cb57fc4ebe48.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F39bfb430-099b-8feb-bc5d-cb57fc4ebe48.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e4660535d173eccf11db31df4d196ef2 1x\" loading=\"lazy\"></a></p>\n\n<p>2. ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰Watson Musicã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€éŸ³æ¥½å–ã‚Šè¾¼ã¿ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®MP3ãŒWatsonã«å–ã‚Šè¾¼ã¾ã‚Œã€æ¤œç´¢å¯èƒ½ã¨ãªã‚‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/1589dbd0cf463c16daa92d30c6245670c6afe920/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f61373366626633392d313435622d613936652d363036342d3039343263636535393832382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fa73fbf39-145b-a96e-6064-0942cce59828.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2dae8788ae464366dc867e577510216a\" alt=\"ãƒãƒƒãƒå®Ÿè¡Œ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/a73fbf39-145b-a96e-6064-0942cce59828.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fa73fbf39-145b-a96e-6064-0942cce59828.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bdd2b68d3dccf2f72736c535b043c430 1x\" loading=\"lazy\"></a></p>\n\n<p>3. Watson Musicã«é¸æ›²ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹ã¨ã€WatsonãŒæµã™æ›²ã‚’æ±ºã‚ã¦å†ç”Ÿã™ã‚‹ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æŠ•ç¨¿ã‚„æ›²ã®å†ç”ŸçŠ¶æ³ã¯ã€Watson Musicã‚’é–‹ã„ã¦ã„ã‚‹å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«å³åº§ã«åæ˜ ã•ã‚Œã‚‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/2273a6af4406ea7e9657db0d5896a91fdcb80a64/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f39613833663134392d366664652d386238362d613465662d3737373563363562623163652e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9a83f149-6fde-8b86-a4ef-7775c65bb1ce.gif\" alt=\"å³æ™‚åæ˜ \" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/9a83f149-6fde-8b86-a4ef-7775c65bb1ce.gif\" loading=\"lazy\"></a></p>\n\n<p>4. å†ç”Ÿä¸­ã®æ›²ãŒæ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸå ´åˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã€‚å­¦ç¿’ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå–ã‚Šè¾¼ã¾ã‚Œã€æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã‚‹</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/c426ed9b3f262bb23de7c41f26f7931f195db254/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f61636337653666322d373837312d663436342d643933652d3965343035353964653334382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Facc7e6f2-7871-f464-d93e-9e40559de348.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ecd77511b0e4fe2ea5280101111b3132\" alt=\"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/acc7e6f2-7871-f464-d93e-9e40559de348.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Facc7e6f2-7871-f464-d93e-9e40559de348.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8e794ac3828e273c2b61a687d6eb93ce 1x\" loading=\"lazy\"></a></p>\n\n<p>5. é¸æ›²ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŠã‚ˆã³ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯Google Homeã‹ã‚‰ã‚‚è¡Œã†ã“ã¨ãŒã§ãã‚‹</p>\n\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left\">å‘¼ã³ã‹ã‘æ–¹</th>\n<th style=\"text-align: left\">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left\">Watsonã«æŠ•ç¨¿ XXXXX</td>\n<td style=\"text-align: left\">XXXXXã§é¸æ›²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ç¨¿</td>\n</tr>\n<tr>\n<td style=\"text-align: left\">Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ æ°—ã«å…¥ã£ãŸ</td>\n<td style=\"text-align: left\">æµã‚Œã¦ã„ã‚‹æ›²ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯(æ°—ã«å…¥ã£ãŸ)</td>\n</tr>\n<tr>\n<td style=\"text-align: left\">Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ æ°—ã«å…¥ã‚‰ãªã„</td>\n<td style=\"text-align: left\">æµã‚Œã¦ã„ã‚‹æ›²ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯(æ°—ã«å…¥ã‚‰ãªã„)</td>\n</tr>\n</tbody>\n</table>\n\n<h1>\n<span id=\"ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ</h1>\n\n<p>Javaã¨ä»–ãƒ¬ã‚¤ãƒ¤ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹ã‚‚ã®ã¾ã§æ›¸ã„ãŸã‚‰ã ã„ã¶ã‚´ãƒãƒ£ãƒƒã¨ã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€<br>\nåŸºæœ¬çš„ã«MySQLã¨Eclipseã‚’ç”¨æ„ã—ã¦ã€IBM Cloudä¸Šã«Watsonã®ç’°å¢ƒã‚’ç”¨æ„ã™ã‚Œã°å‹•ã‹ã›ã¾ã™</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/3919578262e9b63a787fb0999f580da4acc6ea16/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f30363836633032622d653235312d316530312d663537622d6364626435643862666464332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0686c02b-e251-1e01-f57b-cdbd5d8bfdd3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a77750ca78ffe6a6c85c703faf900c90\" alt=\"æ§‹æˆå›³.jpeg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/0686c02b-e251-1e01-f57b-cdbd5d8bfdd3.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0686c02b-e251-1e01-f57b-cdbd5d8bfdd3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=05db0c5b8c0c317edb9c2cbc89765fb4 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰\" class=\"fragment\"></span><a href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%82%B5%E3%82%A4%E3%83%89\"><i class=\"fa fa-link\"></i></a>ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰</h2>\n\n<p>Spring Bootã‚’ä¸­å¿ƒã«æ§‹ç¯‰ã—ã¾ã—ãŸã€‚DBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯<a href=\"http://www.mybatis.org/mybatis-3/ja/\" rel=\"nofollow noopener\" target=\"_blank\">MyBatis</a>ã‚’ä½¿ã„ã¾ã—ãŸãŒã€Connectionã®ã“ã¨ãªã©è€ƒãˆãšã«ã‚ˆãã€æ¥½ã§ã—ãŸ(æ­£ã—ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ¶å¾¡ã§ãã¦ã„ã‚‹ã®ã‹è‹¥å¹²ä¸å®‰ã§ã¯ã‚ã‚Šã¾ã™ãŒ...)</p>\n\n<h3>\n<span id=\"ãƒãƒƒãƒ\" class=\"fragment\"></span><a href=\"#%E3%83%90%E3%83%83%E3%83%81\"><i class=\"fa fa-link\"></i></a>ãƒãƒƒãƒ</h3>\n\n<ul>\n<li>\n<a href=\"https://projects.spring.io/spring-batch/\" rel=\"nofollow noopener\" target=\"_blank\">Spring Batch</a>ã§å»¶ã€…ã¨ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¾ã—ãŸ...è‰²ã€…è©¦è¡ŒéŒ¯èª¤ã—ãŸã›ã„ã‚‚ã‚ã‚Šã€å·¥æ•°ã®2/3ãã‚‰ã„ã“ã¡ã‚‰ã«æ›ã‹ã‚Šã¾ã—ãŸ\n\n<ul>\n<li>æ¦‚å¿µã«ã¤ã„ã¦ã¯<a href=\"https://sites.google.com/site/soracane/home/springnitsuite/spring-batch\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰ã®ãƒšãƒ¼ã‚¸</a>ãŒã‚ˆãã¾ã¨ã¾ã£ã¦ãŠã‚ŠãŠã™ã™ã‚ã§ã™</li>\n</ul>\n</li>\n<li>\n<a href=\"http://www.jthink.net/jaudiotagger/\" rel=\"nofollow noopener\" target=\"_blank\">Jaudiotagger</a>ã§æŠ½å‡ºã—ãŸMP3ã‚¿ã‚°æƒ…å ±ã‚’ä½¿ã£ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ–‡ç« ã‚’ç”Ÿæˆã—ã¾ã—ãŸ\n\n<ol>\n<li>ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåã€ã‚¢ãƒ«ãƒãƒ åã€ã‚¸ãƒ£ãƒ³ãƒ«ç­‰ã«ã¦Wikipediaã‚’æ¤œç´¢ã—ã€è¨˜äº‹ã‚’å–å¾—\n\n<ul>\n<li>MediaWiki APIçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã—ãŸã€‚<a href=\"https://qiita.com/yubessy/items/16d2a074be84ee67c01f\" id=\"reference-8c80ad1448587d8806d9\">ã“ã¡ã‚‰ã®æŠ•ç¨¿</a>ãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™</li>\n<li>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯<a href=\"http://www.akirakoyasu.net/2012/02/05/jerey-client-useful-http-client/\" rel=\"nofollow noopener\" target=\"_blank\">Jersey Clientã‚’ä½¿ã£ã¦</a>HTMLã§å—ã‘å–ã‚Šã€<a href=\"https://jsoup.org/\" rel=\"nofollow noopener\" target=\"_blank\">jsoup</a>ã§ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¾ã—ãŸ</li>\n<li>\n<a href=\"https://qiita.com/yktakaha4/items/8cf9bc4b1910f0b5ca45\" id=\"reference-879c6431bc377b69e34a\">å…ˆæ—¥ã®æŠ•ç¨¿</a>ã§ã‚‚å°‘ã—æ›¸ãã¾ã—ãŸãŒã€ã©ã†ã—ã¦ã‚‚åŒ–ã‘ã¦ã—ã¾ã†ã‚¿ã‚°ãŒå°‘ã—ã°ã‹ã‚Šã‚ã‚Šã€è«¦ã‚ã¾ã—ãŸ...</li>\n</ul>\n</li>\n<li>MP3ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ«ãƒãƒ ã‚¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¦ã€<a href=\"https://www.ibm.com/watson/jp-ja/developercloud/visual-recognition.html\" rel=\"nofollow noopener\" target=\"_blank\">Watson Visual Recognition</a>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ç”»åƒåˆ†æçµæœã‚’å–å¾—ã—ã€ã‚¯ãƒ©ã‚¹åˆ†é¡ã§Wikipediaã®è¨˜äº‹ã‚’å–å¾—\n\n<ul>\n<li>\n<a href=\"https://www.ibm.com/watson/developercloud/visual-recognition/api/v3/java.html?java\" rel=\"nofollow noopener\" target=\"_blank\">Java SDK</a>ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æ€ã£ã¦ãŸã‚ˆã‚Šç°¡å˜ã«ã§ãã¾ã—ãŸã€‚(ã‚¯ãƒ©ã‚¹ç­‰ã®èª¬æ˜ãŒã»ã¼ç„¡ã„ã®ã¯ãªã‚“ã§ã™ãŒ...)</li>\n</ul>\n</li>\n<li>æ›²åã«ã¦æ­Œè©æ¤œç´¢ã‚µã‚¤ãƒˆã®<a href=\"http://j-lyric.net/\" rel=\"nofollow noopener\" target=\"_blank\">J-Lyric.net</a>ã‹ã‚‰æ­Œè©ã‚’å–å¾—\n\n<ul>\n<li>\n<a href=\"http://j-lyric.net/info/e374.html\" rel=\"nofollow noopener\" target=\"_blank\">åˆ©ç”¨è¦ç´„</a>ã‚’èª­ã‚“ã æ„Ÿã˜ãƒ€ãƒ¡ã¨ã„ã†æ„Ÿã˜ã§ã‚‚ãªã•ãã†ã ã£ãŸã®ã§ã€jsoupã§ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚<a href=\"https://qiita.com/nezuq/items/c5e827e1827e7cb29011\" id=\"reference-d51042e8d71e816376a6\">ã“ã®æŠ•ç¨¿</a>ã‚‚èª­ã‚€ã¨è‰¯ã„ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n<li>1.ã§å–å¾—ã—ãŸWikipediaã®è¨˜äº‹ã«ã¤ã„ã¦ã€MP3ã‚¿ã‚°ã¨é¡ä¼¼åº¦ã®é«˜ã„è¨˜äº‹ã‚’ç´ä»˜ã‘\n\n<ul>\n<li>1.ã ã‘ã ã¨ã€Wikipediaã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ä¾å­˜ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€<a href=\"https://qiita.com/ssaito/items/aae5522618d4296c5178\" id=\"reference-ba41ad11047b865bba21\">ã“ã¡ã‚‰ã®æŠ•ç¨¿ã®ã‚ˆã†ã«</a>ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã‚’ä½¿ã£ã¦ã€è¡¨è¨˜ã¶ã‚ŒãŒã‚ã£ã¦ã‚‚è¨˜äº‹ã‚’ç´ä»˜ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>1.ã§å–å¾—ã—ãŸWikipediaã®è¨˜äº‹å†…ã®å„ãƒªãƒ³ã‚¯(=åˆ¥ã®Wikipediaè¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«)ã«å¯¾ã—ã¦ã€<a href=\"http://sonickun.hatenablog.com/entry/2014/11/12/122806\" rel=\"nofollow noopener\" target=\"_blank\">BM25</a>ã‚’ç”¨ã„ã¦é‡ã¿ä»˜ã‘ã‚’è¡Œã„ã€è¨˜äº‹ã”ã¨ã«æ•°å€¤ã®é«˜ã„ã‚‚ã®ã‚‚é–¢é€£è¨˜äº‹ã¨ã—ã¦ç´ä»˜ã‘\n\n<ul>\n<li>ç”³ã—è¨³ç¨‹åº¦ã®æ©Ÿæ¢°å­¦ç¿’è¦ç´ ã«ãªã‚Šã¾ã™...<a href=\"https://github.com/yktakaha4/watson-music/blob/master/src/main/java/com/github/yktakaha4/watsonmusic/service/TextSimilarityService.java\" rel=\"nofollow noopener\" target=\"_blank\">TextSimilarityServiceã‚¯ãƒ©ã‚¹</a>ãŒãã‚Œã«ã‚ãŸã‚Šã¾ã™</li>\n</ul>\n</li>\n<li>MP3ã‚¿ã‚°æƒ…å ±ã‚’ãã®ã¾ã¾æ–‡ç« ã¨ã—ã¦ç™»éŒ²\n\n<ul>\n<li>æœ¬å½“ã¯<a href=\"https://developer.gracenote.com/ja/web-api\" rel=\"nofollow noopener\" target=\"_blank\">Gracenote Web API</a>ã‚’ä½¿ã„ãŸã‹ã£ãŸã®ã§ã™ãŒã€ã„ã¤è©¦ã—ã¦ã‚‚<a href=\"https://developer.gracenote.com/user/register\" rel=\"nofollow noopener\" target=\"_blank\">API Keyã‚’ç™ºè¡Œã—ã¦ã‚‚ã‚‰ãˆãš</a>æ–­å¿µã—ã¾ã—ãŸ...</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>ç”Ÿæˆã•ã‚ŒãŸå„æ–‡ç« ã‚’çµåˆã—ã€Watson Discoveryã«ç™»éŒ²\n\n<ul>\n<li>ã“ã¡ã‚‰ã‚‚<a href=\"https://www.ibm.com/watson/developercloud/discovery/api/v1/java.html?java\" rel=\"nofollow noopener\" target=\"_blank\">Java SDK</a>ãŒã‚ã‚‹ã®ã§ã€Visual RecognitionåŒæ§˜ã«æ‰‹è»½ã«ä½¿ãˆã¾ã™</li>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå½¢å¼ã¯å¹¾ã¤ã‹ã‹ã‚‰é¸ã¹ã¾ã™ãŒã€æ‰±ã„ã‚„ã™ãã†ãªJSONã«ã—ã¾ã—ãŸ</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">Discoveryã«æŠ•å…¥ã™ã‚‹JSON</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"path\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"I LOVE U</span><span class=\"se\">\\/</span><span class=\"s2\">03 03. æœªæ¥.mp3\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"trackLength\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">322</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"encoding\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"mp3\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"musicTags\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"ALBUM_ARTIST_SORT\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"TITLE\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Â–æœªæ¥\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"YEAR\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2005\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"TRACK\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"3\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"ARTIST\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Mr.Children\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"ALBUM_ARTIST\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Mr.Children\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"ENCODER\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"iTunes v6.0.0.18\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"ARTIST_SORT\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"GENRE\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Pop\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"ALBUM\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"I LOVE U\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"COVER_ART\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"image</span><span class=\"se\">\\/</span><span class=\"s2\">png::474078\"</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n  </span><span class=\"nl\">\"musicId\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">821</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"text\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2005 3  I LOVE U Mr.Children Pop iTunes v6.0.0.18 image</span><span class=\"se\">\\/</span><span class=\"s2\">png::474078 ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³ Mr.Children &gt; I â™¥ U æœ¬æ¥ã®è¡¨è¨˜ã¯ã€ŒI â™¥ Uã€ã§ã™ã€‚ã“ã®è¨˜äº‹ã«ä»˜ã‘ã‚‰ã‚ŒãŸé¡Œåã¯ã€æŠ€è¡“çš„ãªåˆ¶é™ã«ã‚ˆã‚Šã€è¨˜äº‹åã®åˆ¶ç´„ã‹ã‚‰ä¸æ­£ç¢ºãªã‚‚ã®ã¨ãªã£ã¦ã„ã¾ã™ã€‚ ã€I â™¥ Uã€ Mr.Children ã® ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ  ãƒªãƒªãƒ¼ã‚¹ 2005å¹´9æœˆ21æ—¥ ã‚¸ãƒ£ãƒ³ãƒ« ãƒ­ãƒƒã‚¯ æ™‚é–“ 63åˆ†58ç§’ ãƒ¬ãƒ¼ãƒ™ãƒ« ãƒˆã‚¤ã‚ºãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ å°æ—æ­¦å² ãƒãƒ£ãƒ¼ãƒˆæœ€é«˜é †ä½ é€±é–“1ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ 2005å¹´10æœˆåº¦æœˆé–“2ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ 2005å¹´åº¦å¹´é–“8ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ ã‚ªãƒªã‚³ãƒ³æ­´ä»£ã‚¢ãƒ«ãƒãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°226ä½ ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ ãƒŸãƒªã‚ªãƒ³ï¼ˆæ—¥æœ¬ãƒ¬ã‚³ãƒ¼ãƒ‰å”ä¼šï¼‰ Mr.Children å¹´è¡¨ ã‚·ãƒ•ã‚¯ãƒã‚ªãƒˆ ï¼ˆ2004å¹´ï¼‰ ...\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">BM25ã§é–¢é€£ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡º</span></div>\n<div class=\"highlight\"><pre><code>2018-05-15 21:41:18.209  INFO SimpleStepHandler     : Executing step: [enrichTextsByWikipedia]\n2018-05-15 21:41:21.288  INFO TextSimilarityService    : text similarity service initialized: k1 = 2.0, b = 0.75, avgdl = 507.0\n2018-05-15 21:41:21.288  INFO RelatedWikiPageProcessor  : similarity threshold: relevance &gt; 0.05 and top 5 pages\n2018-05-15 21:41:21.555  INFO RelatedWikiPageProcessor  : related wikipages: /05 -&gt; (å‚æœ¬é¾ä¸€,0.060225320883512914), (ã‚¢ã‚¦ãƒˆãƒ»ã‚ªãƒ–ãƒ»ãƒã‚¤ã‚º,0.05005133843882276)\n2018-05-15 21:41:23.769  INFO RelatedWikiPageProcessor  : related wikipages: B.A.N.D. -&gt; (YOUR SONG IS GOOD,0.12316413842154202), (THE ACTION,0.07945721944782655), (NAYUTAWAVE RECORDS,0.06290821951833057), (3æœˆ3æ—¥,0.06056176459670045), (ã‚«ã‚¯ãƒãƒªã‚ºãƒ ,0.06056176459670045)\n2018-05-15 21:41:23.943  INFO RelatedWikiPageProcessor  : related wikipages: CAR SONGS OF THE YEARS -&gt; (å¥¥ç”°æ°‘ç”Ÿ,0.0633027466742595)\n2018-05-15 21:41:24.129  INFO RelatedWikiPageProcessor  : related wikipages: BETTER SONGS OF THE YEARS -&gt; (å¥¥ç”°æ°‘ç”Ÿ,0.064631488592711), (2008å¹´,0.05039573681355406), (Fantastic OT9,0.05024107009270254), (åƒ•ã‚‰ã®ãƒ¯ãƒ³ãƒ€ãƒ•ãƒ«ãƒ‡ã‚¤ã‚º ã‚µã‚¦ãƒ³ãƒ‰ãƒˆãƒ©ãƒƒã‚¯,0.05024107009270254), (10æœˆ29æ—¥,0.05011415549211778)\n2018-05-15 21:41:24.321  INFO RelatedWikiPageProcessor  : related wikipages: äº•ä¸Šé™½æ°´å¥¥ç”°æ°‘ç”Ÿ -&gt; (äº•ä¸Šé™½æ°´,0.05551309994270471), (å¥¥ç”°æ°‘ç”Ÿ,0.05410484019209229)\n2018-05-15 21:41:27.536  INFO RelatedWikiPageProcessor  : related wikipages: COBALT HOUR -&gt; (1975å¹´,0.05014774776777056)\n2018-05-15 21:41:28.770  INFO RelatedWikiPageProcessor  : related wikipages: Cymbals -&gt; (æ²–äº•ç¤¼äºŒ,0.09956893392254533), (çŸ¢é‡åšåº·,0.05183281021348527), (åœŸå²éº»å­,0.05076091736900876)\n2018-05-15 21:41:28.922  INFO RelatedWikiPageProcessor  : related wikipages: The band apart -&gt; (1,0.05656246896271063)\n2018-05-15 21:41:29.520  INFO RelatedWikiPageProcessor  : related wikipages: æ±äº¬äº‹å¤‰ -&gt; (æ¤åæ—æª,0.05006418542278235)\n2018-05-15 21:41:29.643  INFO RelatedWikiPageProcessor  : related wikipages: Cornelius -&gt; (ã‚³ãƒ¼ãƒãƒªã‚¢ã‚¹ãƒ»ãƒ´ã‚¡ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ«ãƒˆ,0.11629418762801481), (çŒ¿ã®æƒ‘æ˜Ÿ,0.07515443060345392)\n2018-05-15 21:41:30.052  INFO RelatedWikiPageProcessor  : related wikipages: FOR YOU -&gt; (ãƒ•ã‚©ãƒ¼ãƒ»ãƒ¦ãƒ¼,0.09920778243902893)\n2018-05-15 21:41:30.305  INFO RelatedWikiPageProcessor  : related wikipages: The Fantastic Plastic Machine -&gt; (Fantastic Plastic Machine,0.14436623255578224), (1997å¹´,0.05321008399144652), (10æœˆ10æ—¥,0.0515236509976896), (æ—¥æœ¬ã‚³ãƒ­ãƒ ãƒ“ã‚¢,0.05103357778415948), (ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ ,0.050605023893409457)\n2018-05-15 21:41:30.607  INFO RelatedWikiPageProcessor  : related wikipages: FantÃ´me -&gt; (å®‡å¤šç”°ãƒ’ã‚«ãƒ«,0.05042149540012731), (2016å¹´,0.050066569362434594)\n2018-05-15 21:41:31.399  INFO RelatedWikiPageProcessor  : related wikipages: å°è¢‹æˆå½¬ -&gt; (å®‡å¤šç”°ãƒ’ã‚«ãƒ«,0.050095502755357096)\n2018-05-15 21:41:31.884  INFO RelatedWikiPageProcessor  : related wikipages: Fishmans -&gt; (ãƒœãƒ¼ã‚«ãƒ«,0.05003627945421543)\n2018-05-15 21:41:31.936  INFO RelatedWikiPageProcessor  : related wikipages: å®‡å®™ æ—¥æœ¬ ä¸–ç”°è°· -&gt; (ä½è—¤ä¼¸æ²»,0.342280868725777), (ãƒ•ã‚£ãƒƒã‚·ãƒ¥ãƒãƒ³ã‚º,0.07414079951506487), (LONG SEASON,0.05398063786198843), (ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ ,0.05126803822945513), (ã‚ªãƒªã‚³ãƒ³ãƒãƒ£ãƒ¼ãƒˆ,0.050995225603264395)\n2018-05-15 21:41:32.087  INFO RelatedWikiPageProcessor  : related wikipages: FreeTEMPO -&gt; (DJ,0.0502637876950748)\n2018-05-15 21:41:32.153  INFO RelatedWikiPageProcessor  : related wikipages: ç©ºæ°—å…¬å›£ -&gt; (ãƒˆã‚¤ã‚ºãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼,0.05230039242246507), (SPACE SHOWER NETWORK,0.050821297098439105), (ãƒãƒƒãƒ—ãƒ»ãƒ­ãƒƒã‚¯,0.05036436461861145), (ãƒ”ã‚¢ãƒ,0.050052459677419246)\n2018-05-15 21:41:50.949  INFO RelatedWikiPageProcessor  : related wikipages: ã‚¹ãƒ”ãƒƒãƒ„ -&gt; (çŠ¬,0.14141142226123585), (ãƒ—ãƒ©ãƒã‚¿ãƒªã‚¦ãƒ ,0.06426989664685567)\n2018-05-15 21:41:51.107  INFO RelatedWikiPageProcessor  : related wikipages: ãƒã‚¤ãƒ•ã‚¡ã‚¤æ–°æ›¸ -&gt; (ãƒã‚¤ãƒ•ã‚¡ã‚¤,0.14901153285452806), (ã‚ªãƒªã‚³ãƒ³,0.09449390740803565), (2009å¹´,0.0702335178109741), (ã‚·ãƒ³ã‚¯ãƒ­ãƒ‹ã‚·ãƒ†ã‚£ãƒ¼ãƒ³,0.06670556020884505), (ã‚·ãƒ•ã‚©ãƒ³ä¸»ç¾©,0.05874506473049359)\n2018-05-15 21:41:51.149  INFO RelatedWikiPageProcessor  : related wikipages: ãƒ¡ã‚° -&gt; (MEG,0.2621526213897821), (Meg,0.09827216190077466), (MEGU,0.05723108345597966), (ã‚ãã¿,0.05723108345597966)\n2018-05-15 21:41:51.220  INFO RelatedWikiPageProcessor  : related wikipages: å¤¢ã¿ã‚‹æƒ‘æ˜Ÿ -&gt; (ä½è—¤å²ç”Ÿ,0.09846793349530256), (å°å­¦é¤¨,0.08587651861800526), (ãƒ—ãƒãƒ•ãƒ©ãƒ¯ãƒ¼,0.08097989398268286), (å°å­¦é¤¨æ–‡åº«,0.05744113400613156), (å°‘å¥³æ¼«ç”»,0.05149429975735787)\n2018-05-15 21:41:51.310  INFO RelatedWikiPageProcessor  : related wikipages: å®‰å…¨åœ°å¸¯ -&gt; (ã‚²ãƒ¼ãƒ¡ã‚¹ãƒˆ,0.3562589491573924), (å‰é‡äºŒéƒ,0.3562589491573924), (ç·©è¡åœ°å¸¯,0.3562589491573924), (è·¯é¢é›»è»Š,0.3066400828610433), (æ—¥æœ¬æ˜ ç”»,0.2776149067493823)\n2018-05-15 21:41:51.399  INFO RelatedWikiPageProcessor  : related wikipages: å²¸ç”°ãƒ¡ãƒ« -&gt; (ã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼,0.05039222495893547)\n2018-05-15 21:41:51.651  INFO RelatedWikiPageProcessor  : related wikipages: æ¯”å±‹å®šç¯¤å­ -&gt; (1997å¹´,0.05454346478565931), (ç¬¹å­é‡æ²»,0.054119433283179794), (é‚£è¦‡å¸‚,0.05110278474996579), (æ²–ç¸„çœŒ,0.050697418856247733), (12æœˆ24æ—¥,0.050466135833929004)\n2018-05-15 21:41:51.674  INFO RelatedWikiPageProcessor  : related wikipages: æµç·šå½¢ -&gt; (æµã‚Œ,0.11173271371226531)\n2018-05-15 21:42:06.699  INFO RelatedWikiPageProcessor  : related wikipages: ç›¸å¯¾æ€§ç†è«– -&gt; (æ™‚é–“,0.050505449840522756)\n2018-05-15 21:42:07.772  INFO RelatedWikiPageProcessor  : related wikipages: é’ç©ºç™¾æ™¯ -&gt; (ãƒ ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ€ãƒ¼ã‚º,0.1363140503236836), (éˆ´æœ¨åšæ–‡,0.054001764173099404), (1982å¹´,0.05217094703759643), (MANIA MANIERA,0.05209252299043802), (éˆ´æœ¨æ…¶ä¸€,0.050752580964901504)\n2018-05-15 21:42:07.874  INFO RelatedWikiPageProcessor  : related wikipages: é¢¨è¡—ã‚ã¾ã‚“ -&gt; (ã¯ã£ã´ã„ãˆã‚“ã©,0.05395896768196796)\n</code></pre></div>\n</div>\n\n<p>Cymbalsãªã‚“ã‹ã†ã¾ãã„ã£ã¦ã¾ã™ãŒã€ã‚¹ãƒ”ãƒƒãƒ„ã‚„å®‰å…¨åœ°å¸¯ã¯Wikipediaã®å…ƒè¨˜äº‹ã®é¸æŠã‚’å¤±æ•—ã—ã¦ã‚‹ã£ã½ã„ã§ã™ã­...</p>\n\n<h3>\n<span id=\"ã‚ªãƒ³ãƒ©ã‚¤ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%AA%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</h3>\n\n<ul>\n<li>ä¸€ç”»é¢æ§‹æˆã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç­‰ã‚‚ä¸è¦ã®ãŸã‚ã€<a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noopener\" target=\"_blank\">REST APIã‚’ä½œæˆ</a>ã—React + Reduxã‹ã‚‰fetchã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆ\n\n<ul>\n<li>\n<a href=\"https://qiita.com/TEBASAKI/items/267c261db17f178e33eb\" id=\"reference-5dd27541ef7c100e7325\">ã“ã¡ã‚‰ã®è¨˜äº‹</a>ã®ã‚ˆã†ã«ã€<a href=\"/RestController\" class=\"user-mention js-hovercard\" title=\"RestController\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"RestController\">@RestController</a>ã‚’ä»˜ã‘ã‚‹ã ã‘ã§POJOã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¾ã§ã‚„ã£ã¦ã‚‚ã‚‰ãˆã‚‹ã®ã§å¤§å¤‰çˆ½å¿«ã§ã—ãŸ</li>\n<li>ãƒ‘ã‚¹ã‚„I/Fã®å®šç¾©ã¯<a href=\"http://wp.tech-style.info/archives/683\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãŒå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚ï¼ˆäºˆå®šã¯ç„¡ã„ã§ã™ãŒï¼‰ä¾‹ãˆã°ãƒ•ãƒ­ãƒ³ãƒˆã«ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªãŒå¢—ãˆã¦ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ãªè¨­è¨ˆãŒã§ããŸã¨æ€ã„ã¾ã™</li>\n<li>APIã®å‹•ä½œç¢ºèªã«ã¯<a href=\"https://insomnia.rest/\" rel=\"nofollow noopener\" target=\"_blank\">Insomnia</a>ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ä½¿ã„ã‚„ã™ãã¦ã„ã„æ„Ÿã˜ã§ã™</li>\n</ul>\n</li>\n<li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®é¸æ›²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å…ƒã«Watson Discoveryã‚’æ¤œç´¢ã—ã€è¿”å´ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç´ã¥ããƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰å–å¾—ã—ã¦<a href=\"http://www.javazoom.net/javalayer/javalayer.html\" rel=\"nofollow noopener\" target=\"_blank\">JLayer</a>ã§å†ç”Ÿ\n\n<ul>\n<li>å…¨ã¦æ‰‹ã§ä½œã‚‹ã¨å¤§å¤‰ãªã‚ˆã†ã§ã™ãŒã€<a href=\"http://akameco.hatenablog.com/entry/2014/12/26/070721\" rel=\"nofollow noopener\" target=\"_blank\">BasicPlayerã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†</a>ã¨ã€ä½•ã‚‚è€ƒãˆãªãã¦ã‚‚å‹æ‰‹ã«å‹•ãã¾ã™ã€‚æ›²ã®é †æ¬¡å†ç”Ÿã‚‚ã€å†ç”Ÿçµ‚äº†æ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä»•æ›ã‘ã¦ãŠãã ã‘ã§ç°¡å˜ã«å®Ÿç¾ã§ãã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>æ–°ã—ããƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™»éŒ²ã•ã‚ŒãŸã‚Šã€æ¬¡ã®æ›²ãŒå†ç”Ÿã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç”»é¢ã‚’æ›´æ–°ã—ãŸã‹ã£ãŸã®ã§ã€<a href=\"http://jmesnil.net/stomp-websocket/doc/\" rel=\"nofollow noopener\" target=\"_blank\">STOMP Over WebSocket</a>ã«ã¦é©å®œã‚½ã‚±ãƒƒãƒˆé€šä¿¡ã‚’å®Ÿæ–½\n\n<ul>\n<li>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¯<a href=\"http://spring-boot-camp.readthedocs.io/ja/latest/06-STOMP.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ãŠã‚ˆã³<a href=\"http://spring-boot-camp.readthedocs.io/ja/latest/07-STOMPOverWebSocket.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã§ã§ãã¾ã—ãŸã€‚ä¾‹ãˆã°ã€æ–°ã—ã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæŠ•ç¨¿ã•ã‚ŒãŸéš›ã«ã¯ã€ŒGET_REQUESTSã€ã¨ã„ã†æ–‡å­—åˆ—ã‚’é€ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å¯¾å¿œã™ã‚‹REST APIã‚’å©ã‹ã›ã‚‹...ã¨ã„ã†å½¢ã«ã—ã¦ã„ã¾ã™</li>\n</ul>\n</li>\n<li>ãƒãƒƒãƒæ©Ÿèƒ½(éŸ³æ¥½å–ã‚Šè¾¼ã¿/ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å­¦ç¿’)ã‚’èµ·å‹•ã™ã‚‹REST APIã‚’æä¾›\n\n<ul>\n<li>ãƒãƒƒãƒã‚’ãã®ã¾ã¾Controllerã‹ã‚‰å‘¼ã³å‡ºã™ã¨åŒæœŸçš„ã«å‹•ã„ã¦ã—ã¾ã†ã®ã§ã€<a href=\"https://github.com/yktakaha4/watson-music/blob/master/src/main/resources/applicationContext.xml\" rel=\"nofollow noopener\" target=\"_blank\">applicationContext.xml</a>ã§SimpleAsyncTaskExecutorã‚’ç®¡ç†Beanã«åŠ ãˆã¦ãŠãã¾ã™</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"db\" class=\"fragment\"></span><a href=\"#db\"><i class=\"fa fa-link\"></i></a>DB</h3>\n\n<p><a href=\"http://ondras.zarovi.cz/sql/demo/\" rel=\"nofollow noopener\" target=\"_blank\">WWW SQL Designer</a>ã§ERå›³ã½ã„ã‚‚ã®ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚ã»ã‚“ã¨ã«ä½•ã§ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ã§ãã¾ã™ã­...</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/c1404bb64c6e5250601a3581f5ad2111e69eaeca/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f36666135383833332d643131342d323365632d333961362d6334396432343537313765612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F6fa58833-d114-23ec-39a6-c49d245717ea.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=86fcb5dd39a24ea0c64b18df3cfca59a\" alt=\"ERå›³\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/6fa58833-d114-23ec-39a6-c49d245717ea.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F6fa58833-d114-23ec-39a6-c49d245717ea.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=be9fbe9c98871b2c2162b33d1d78dd6d 1x\" loading=\"lazy\"></a><br>\nâ€»é‡è¦ãªåˆ—ã®ã¿æŠœç²‹</p>\n\n<ul>\n<li>Discoveryã¯ã€æ—¢å­˜ã®æ–‡æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾å–ã‚Šè¾¼ã‚“ã§æ¤œç´¢ã™ã‚‹ã¨ã„ã†ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚é¸æŠå¯èƒ½ã§ã™ãŒã€ä»Šå›ã¯Mp3ã‹ã‚‰æ–‡æ›¸ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã€æ™®é€šã«RDBã‚’ä½¿ç”¨</li>\n<li>musicã€music_tagã€artworkã«å¯¾ã—ã¦ã€Wikipediaç­‰ã‹ã‚‰textã¨ã—ã¦å–å¾—ã—ãŸæ–‡å­—æƒ…å ±ã‚’text_tagã«ã¦ç´ä»˜ã‘ã€musicæ¯ã«discoveryå…¬é–‹ç”¨ã®documentã‚’ç”Ÿæˆ\n\n<ul>\n<li>ãƒãƒƒãƒèµ·å‹•æ™‚ã«missing_atã«æ—¥ä»˜ã‚’å…¥ã‚Œã€èµ°æŸ»ä¸­ã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ã®ã¿null -&gt; è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚‚ã®ã¯discoveryã‚ˆã‚Šå‰Šé™¤ãªã©ã€ãã‚Œãªã‚Šã«å®Ÿé‹ç”¨ã‚’è€ƒãˆã¦è¨­è¨ˆã—ã¾ã—ãŸ</li>\n<li>cacheã¯ã€Wikipediaã‚„Visual Recognitionã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ãã£ã¦è¿·æƒ‘ãŒæ›ã‹ã£ãŸã‚Šèª²é‡‘ã•ã‚Œãªã„ã‚ˆã†ã€HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãŠããƒ†ãƒ¼ãƒ–ãƒ«ã«ãªã‚Šã¾ã™ã€‚å®Ÿé‹ç”¨æ™‚ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¾Œä¸€å®šæœŸé–“éããŸã‚‚ã®ã¯æ¶ˆã™...ãªã©ã—ã¦ã‚‚ã„ã„ã‹ã‚‚</li>\n</ul>\n</li>\n<li>requestã¯æ¤œç´¢æ–‡ã‚’ä¿æŒã€trackã¯æ¤œç´¢æ–‡ã«ã‚ˆã‚Šå†ç”Ÿã•ã‚ŒãŸæ›²ã‚’ä¿æŒã€feedbackã¯æ›²ã«å¯¾ã—ã¦æ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸãŒæŠ¼ã•ã‚ŒãŸæ•°ã‚’ä¿æŒ\n\n<ul>\n<li>å­¦ç¿’å‡¦ç†æ™‚ã«ã€Œæ¤œç´¢æ–‡ã«å¯¾ã—ã¦ã€ã‚ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ(ä»Šå›ã¯æ›²)ãŒã©ã‚Œã ã‘ã®é–¢é€£åº¦(Discoveryã§ã¯æ•´æ•°å€¤)ã‚’æŒã¤ã‹ã€ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚é–¢é€£åº¦ã¯ãƒãƒƒãƒå†…ã§æ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸã®å‰²åˆã§è¨ˆç®—ã—ã¾ã™</li>\n</ul>\n</li>\n<li>DDLå®Ÿè¡Œã¯ã€Spring Bootã®èµ·å‹•æ™‚ã«<a href=\"https://github.com/yktakaha4/watson-music/blob/master/src/main/resources/applicationContext.xml\" rel=\"nofollow noopener\" target=\"_blank\">sqlãƒ•ã‚¡ã‚¤ãƒ«ãŒå‘¼ã°ã‚Œã‚‹ã‚ˆã†ã«</a>ã—ã¦å¯¾å¿œã—ã¾ã—ãŸã€‚ä»Šå›ã®ã‚ˆã†ã«PoCçš„ã«é–‹ç™ºã™ã‚‹ã«ã¯ã ã„ã¶ä¾¿åˆ©ã«æ€ãˆã¾ã—ãŸ</li>\n</ul>\n\n<h2>\n<span id=\"ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%82%B5%E3%82%A4%E3%83%89\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰</h2>\n\n<ul>\n<li>\n<a href=\"https://pingendo.com/\" rel=\"nofollow noopener\" target=\"_blank\">Pingendo</a>ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ çµ„ã¿ã‚’ä½œæˆ\n\n<ul>\n<li>ä»Šã¾ã§HTMLã¨CSSã¯åŸºæœ¬çš„ã«æ‰‹ã§æ›¸ã„ã¦ãŸã®ã§ã™ãŒã€éƒ¨å“ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã ã‘ã§ãƒ¡ã‚­ãƒ¡ã‚­ç”»é¢ãŒå‡ºæ¥ä¸ŠãŒã£ã¦ã„ãå¤§å¤‰æ¥½ã§ã—ãŸ\n\n<ul>\n<li>ãŸã ã€æ‰‹ã§æ›¸ã„ãŸçµŒé¨“ãŒãªã‹ã£ãŸã‚‰å¾®ä¿®æ­£ãªã©ã¯é›£ã—ã„ã‚ˆã†ã«ã‚‚æ€ã„ã¾ã—ãŸ...</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>æ çµ„ã¿ãŒã§ããŸã‚‰ã€<a href=\"https://atom.io/\" rel=\"nofollow noopener\" target=\"_blank\">Atom</a>ã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã¦ç”»é¢ã®éƒ¨å“ã”ã¨ã«Reactã«(å‹‰å¼·ã—ãªãŒã‚‰)ç§»æ¤\n\n<ul>\n<li>åˆã‚ã¦è§¦ã‚Œã‚‹ã‚‚ã®ãªã®ã§èª­ã¿ç‰©ã‹ã‚‰å…¥ã‚ŠãŸã„ã¨æ€ã„ã€<a href=\"https://www.amazon.co.jp/dp/B07BBGSHJS/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">Reacté–‹ç™º ç¾å ´ã®æ•™ç§‘æ›¸</a>ã‚’è²·ã„ã¾ã—ãŸã€‚æ¦‚è¦ã‚„å‘¨è¾ºçŸ¥è­˜ã‚’åºƒãçŸ¥ã‚‹ã«ã¯ã¨ã¦ã‚‚ã‚ˆã„æœ¬ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n<li>Reactã«ç”»é¢ã‚’ç§»æ¤ã—ãŸã‚‰ã€Reduxã§å‹•ãã‚’ä»˜ã‘ã‚‹\n\n<ul>\n<li>Redux-Sagaã‚‚å°å…¥ã—ãŸã®ã§ã™ãŒã€ç†è§£ã«ã‚ãŸã‚Š<a href=\"https://qiita.com/kuy/items/716affc808ebb3e1e8ac\" id=\"reference-218c723a84d2231fc8d2\">ã“ã®æŠ•ç¨¿</a>ã«å¤§å¤‰åŠ©ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚ã“ã‚ŒãŒãªã‹ã£ãŸã‚‰è«¦ã‚ã¦ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“...</li>\n<li>Node.jsã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯localhost:3000ã€tomcatã¯localhost:8080ã§ç«‹ã¡ä¸ŠãŒã‚‹ã®ã§ã€<a href=\"https://www.charlesproxy.com/\" rel=\"nofollow noopener\" target=\"_blank\">Charles</a>ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‘ã‚¹ç­‰ã‚’é©å®œå¤‰æ›ã—ã¾ã—ãŸ\n\n<ul>\n<li>\n<a href=\"https://qiita.com/orzngo/items/76c95a4e3ff4c30b4d38\" id=\"reference-7d14abea7e0d5d325c8b\">ã“ã¡ã‚‰ã®æŠ•ç¨¿</a>ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚ä»•äº‹ã§ä½¿ã£ã¦ã„ã‚‹<a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noopener\" target=\"_blank\">Fiddler</a>ã¨æ¯”ã¹ã¦ã‚‚ä½¿ã„ã‚ˆãã€<a href=\"https://www.charlesproxy.com/buy/purchase-charles-licenses/\" rel=\"nofollow noopener\" target=\"_blank\">ã¤ã„è³¼å…¥</a>ã—ã¦ã—ã¾ã„ã¾ã—ãŸğŸ’°</li>\n</ul>\n</li>\n<li>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯<a href=\"https://reactcommunity.org/react-transition-group/\" rel=\"nofollow noopener\" target=\"_blank\">React Transition Group</a>ã€ã‚½ã‚±ãƒƒãƒˆé€šä¿¡ã«ã¯<a href=\"https://github.com/sockjs/sockjs-client\" rel=\"nofollow noopener\" target=\"_blank\">SockJS-client</a>ã¨<a href=\"https://github.com/jmesnil/stomp-websocket\" rel=\"nofollow noopener\" target=\"_blank\">STOMP.js</a>ã€æ™‚åˆ»å‡¦ç†ã«<a href=\"https://github.com/moment/moment-timezone\" rel=\"nofollow noopener\" target=\"_blank\">Moment.js</a>ã€fetchã®ãƒãƒªãƒ•ã‚£ãƒ«ã«<a href=\"https://github.com/github/fetch\" rel=\"nofollow noopener\" target=\"_blank\">github/fetch</a>ãªã©ã€è‰²ã€…ã¨è§¦ã‚Œã¦å¤§å¤‰æ¥½ã—ã‹ã£ãŸã§ã™</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹\" class=\"fragment\"></span><a href=\"#%E5%A4%96%E9%83%A8%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9\"><i class=\"fa fa-link\"></i></a>å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹</h2>\n\n<h3>\n<span id=\"watson-discovery\" class=\"fragment\"></span><a href=\"#watson-discovery\"><i class=\"fa fa-link\"></i></a>Watson Discovery</h3>\n\n<ul>\n<li>ç’°å¢ƒæ§‹ç¯‰ã«ã¤ã„ã¦ã¯ã€<a href=\"https://qiita.com/ishida330/items/bb1bd4cf61da9b9c6da2\" id=\"reference-0d4bae2b5aaed86cfb84\">ã“ã¡ã‚‰ã®æŠ•ç¨¿</a>ã‚’å‚è€ƒã«ã€ç’°å¢ƒä½œæˆ -&gt; ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ -&gt; æ—¥æœ¬èªåŒ– &amp; ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆå‰Šé™¤ã¾ã§ã¯Webã®ãƒ„ãƒ¼ãƒ«ã‹ã‚‰è¡Œã„ã¾ã—ãŸ</li>\n<li>Retrieve and Rankã¨æ¯”ã¹ã¦æ–™é‡‘ä½“ç³»ãŒå¤‰ã‚ã£ã¦ãŠã‚Šã€<a href=\"https://console.bluemix.net/docs/services/discovery/pricing-details.html#discovery-\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³</a>ã‚’ä½¿ãˆã°ãŠé‡‘ã¯ã‹ã‹ã‚Šã¾ã›ã‚“</li>\n<li>\n<a href=\"https://console.bluemix.net/docs/services/discovery/getting-started.html#api-\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚‚æ—¥æœ¬èªã®ã¡ã‚ƒã‚“ã¨ã—ãŸã‚‚ã®ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã”ä¸€èª­ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚<a href=\"https://console.bluemix.net/docs/services/discovery/query-reference.html#parameter-descriptions\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã¨ã‹ã€çµæ§‹å½¹ç«‹ã¤ã¨æ€ã„ã¾ã™\n\n<ul>\n<li>\n<a href=\"http://lucene.apache.org/solr/\" rel=\"nofollow noopener\" target=\"_blank\">Apache Solr</a>ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸç¨‹åº¦ã®ã‚‚ã®ã ã£ãŸR&amp;Rã¨æ¯”ã¹ã¦ã€æ©Ÿèƒ½ã¯çµã‚‰ã‚ŒãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å…¨ä½“çš„ãªè¦ªåˆ‡ã•ã¯ã ã„ã¶å‘ä¸Šã—ãŸã‚ˆã†ã«æ„Ÿã˜ã¾ã™</li>\n</ul>\n</li>\n<li>ä¸€æ™‚æœŸã€å…¨ç„¶ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¥ã‚Œã¦ãªã„ã®ã«ä»¥ä¸‹ã®ä½¿ç”¨æ–™ã®è¡¨ç¤ºãŒã¶ã£å£Šã‚Œã¦å®¹é‡ã‚ªãƒ¼ãƒãƒ¼ã¿ãŸã„ãªè­¦å‘ŠãŒå‡ºã¦ã¦ã€æ€–ããªã£ã¦ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã—ãŸã®ã§ã™ãŒã€ä»Šè¦‹ãŸã‚‰ç›´ã£ã¦ã¦ãªã‚“ãªã‚“ã ...ã¨æ€ã„ã¾ã—ãŸ</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/91df2ed4c7606869f8e38b62c568efe17388350d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f37306239323430612d353435312d313262662d366636642d3261643936366566323564632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F70b9240a-5451-12bf-6f6d-2ad966ef25dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f0f2d7ec51adfbd87c10f24f0133c359\" alt=\"ä½¿ç”¨æ–™\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/70b9240a-5451-12bf-6f6d-2ad966ef25dc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F70b9240a-5451-12bf-6f6d-2ad966ef25dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e6218a7cb9b6cbe83b9a59a6c70e6ade 1x\" loading=\"lazy\"></a></p>\n\n<h3>\n<span id=\"watson-visual-recognition\" class=\"fragment\"></span><a href=\"#watson-visual-recognition\"><i class=\"fa fa-link\"></i></a>Watson Visual Recognition</h3>\n\n<ul>\n<li>DiscoveryåŒæ§˜ã€<a href=\"https://www.ibm.com/watson/services/visual-recognition/pricing/index.html#pricing\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³</a>ã§ååˆ†ãªãŸã‚ç„¡æ–™ã§ä½¿ãˆã¾ã™</li>\n<li>Custom Classifierã‚’ä½œã‚‹è¦ä»¶ã§ã‚‚ãªã‹ã£ãŸã®ã§ã€IBM Cloudã«ã¦ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ² -&gt; è³‡æ ¼æƒ…å ±ã®ç”Ÿæˆã ã‘ã§ã™ãã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</li>\n<li>è‚å¿ƒã®æˆ»ã‚Šå€¤ã¯ãªã‚“ã¨ã‚‚è¨€ãˆãªã„ã‚‚ã®ã§ã™...è‡ªåˆ†ã®ä½¿ã„æ–¹ãŒã‚ˆããªã„ã®ã‚‚åˆ†ã‹ã‚Šã¾ã™ãŒã€ã©ã†ã„ã†ä½¿ã„æ–¹ã‚’ã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ã‹...</li>\n</ul>\n\n<p>ä¾‹ï¼š<br>\n<a href=\"https://camo.qiitausercontent.com/39e6a2f0a067dcafd8ea8dda135eed339ed75716/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38346135316334312d383838312d656362622d303833612d3236313961316138626661382e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F84a51c41-8881-ecbb-083a-2619a1a8bfa8.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=21e5c7c9799b09c896410d48515a6a6a\" alt=\"c9f73f67.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/84a51c41-8881-ecbb-083a-2619a1a8bfa8.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F84a51c41-8881-ecbb-083a-2619a1a8bfa8.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8becea57b337e7e4ed889d12f1d4c5a4 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">VisualRecognitionã®æˆ»ã‚Šå€¤</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"images\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"image\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"90C031B45C058E5F56A002ADEC186787\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"classifiers\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n        </span><span class=\"p\">{</span><span class=\"w\">\n          </span><span class=\"nl\">\"classes\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.61599999999999999</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"type_hierarchy\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\/</span><span class=\"s2\">äºº</span><span class=\"se\">\\/</span><span class=\"s2\">äºº</span><span class=\"se\">\\/</span><span class=\"s2\">å¤§äºº\"</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"å¤§äºº\"</span><span class=\"w\">\n            </span><span class=\"p\">},</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.85499999999999998</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"äºº\"</span><span class=\"w\">\n            </span><span class=\"p\">},</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.51500000000000001</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"type_hierarchy\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\/</span><span class=\"s2\">äºº</span><span class=\"se\">\\/</span><span class=\"s2\">å¤–äº¤å®˜\"</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"å¤–äº¤å®˜\"</span><span class=\"w\">\n            </span><span class=\"p\">},</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.5</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"type_hierarchy\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\/</span><span class=\"s2\">äºº</span><span class=\"se\">\\/</span><span class=\"s2\">å®˜å…¬å\"</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"å®˜å…¬å\"</span><span class=\"w\">\n            </span><span class=\"p\">},</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.81599999999999995</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"æ©™èµ¤è‰²\"</span><span class=\"w\">\n            </span><span class=\"p\">},</span><span class=\"w\">\n            </span><span class=\"p\">{</span><span class=\"w\">\n              </span><span class=\"nl\">\"score\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.39900000000000002</span><span class=\"p\">,</span><span class=\"w\">\n              </span><span class=\"nl\">\"class\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ç¾¤é’è‰²\"</span><span class=\"w\">\n            </span><span class=\"p\">}</span><span class=\"w\">\n          </span><span class=\"p\">],</span><span class=\"w\">\n          </span><span class=\"nl\">\"classifier_id\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"default\"</span><span class=\"p\">,</span><span class=\"w\">\n          </span><span class=\"nl\">\"name\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"default\"</span><span class=\"w\">\n        </span><span class=\"p\">}</span><span class=\"w\">\n      </span><span class=\"p\">]</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">],</span><span class=\"w\">\n  </span><span class=\"nl\">\"custom_classes\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"images_processed\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<h3>\n<span id=\"google-homeé–¢é€£\" class=\"fragment\"></span><a href=\"#google-home%E9%96%A2%E9%80%A3\"><i class=\"fa fa-link\"></i></a>Google Homeé–¢é€£</h3>\n\n<p>ä¸€é€šã‚Šã§ããŸã¨ã“ã‚ã§ã€æœ€å¾Œã«åŠæ—¥ã»ã©ã„ã˜ã£ãŸã‚‰æ™®é€šã«å‹•ã„ã¦ã³ã£ãã‚Šã—ã¾ã—ãŸğŸ˜²<br>\nMP3ã‚’å†ç”Ÿã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ãŒã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«ä¹—ã£ã¦ã„ãŸã‚‰ã€IFTTTã‹ã‚‰ç›´æ¥REST APIã‚’å©ã...ã§ã‚‚ã‚ˆã‹ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€<br>\nä»Šå›ã¯LAN(localhost)ä¸Šã«ã‚ã‚‹ã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å›ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚‹(ã‘ã©ã€å›ºå®šIPãªã‚“ã¦æŒã£ã¦ãªã„ã—ã¾ã—ã¦ã‚„ãƒãƒ¼ãƒˆãªã‚“ã¦é–‹ã‘ãŸããªã„)ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§ã€IoTã®ä¸–ç•Œã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‰ã—ã„<a href=\"http://devcenter.magellanic-clouds.com/learning/mqtt-spec.html\" rel=\"nofollow noopener\" target=\"_blank\">MQTT</a>ã®ä»•çµ„ã¿ã‚’ä½¿ã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ<br>\n(ä»Šæ›¸ããªãŒã‚‰èª¿ã¹ã¦ãŸã‚‰ã€<a href=\"https://pusher.com/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã†ã„ã†ã‚‚ã®</a>ã‚‚ã‚ã‚‹ã‚“ã§ã™ã­...æ©Ÿä¼šãŒã‚ã‚Œã°è§¦ã£ã¦ã¿ãŸã„ã§ã™)</p>\n\n<ul>\n<li>1. Google Homeã‚’<a href=\"https://itunes.apple.com/jp/app/google-home/id680819774?mt=8\" rel=\"nofollow noopener\" target=\"_blank\">iOSã‚¢ãƒ—ãƒª</a>ã‹ã‚‰Gmailã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ç´ä»˜ã‘</li>\n<li>2. <a href=\"https://beebotte.com/\" rel=\"nofollow noopener\" target=\"_blank\">BeeBotte</a>ã«ã¦XSãƒ—ãƒ©ãƒ³ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã€‚watson_musicã®channelã‚’ä½œæˆ</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/bcc5e2ba4be4c6594c8b15841ac86826f6d44bd2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f64646266336237622d646631322d376365392d643136662d6161396131646133643632322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fddbf3b7b-df12-7ce9-d16f-aa9a1da3d622.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=25eafea8b5ad0a9185d2e5c54042b36b\" alt=\"Beebotte\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/ddbf3b7b-df12-7ce9-d16f-aa9a1da3d622.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fddbf3b7b-df12-7ce9-d16f-aa9a1da3d622.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ba8209304b75d8edbe58c9a0464ece22 1x\" loading=\"lazy\"></a></p>\n\n<ul>\n<li>3. 1.ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§<a href=\"https://ifttt.com/discover\" rel=\"nofollow noopener\" target=\"_blank\">IFTTT</a>ã«ç™»éŒ²ã—ã€Googleã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ -&gt; Webhooksã§2.ã§ä½œã£ãŸchannelã«publishã™ã‚‹ãƒ¬ã‚·ãƒ”ã‚’ä½œæˆ\n\n<ul>\n<li>2.ã¨3.ã¯<a href=\"https://qiita.com/msquare33/items/9f0312585bb4707c686b\" id=\"reference-fd4cd7e78a11e813bb2e\">ã“ã¡ã‚‰</a>ã®é€šã‚Šã«ã‚„ã£ãŸã‚‰ã™ãã§ãã¾ã—ãŸ</li>\n<li>ã€Œãƒ¯ãƒˆã‚½ãƒ³ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã«æŠ•ç¨¿ XXXã€ã ã¨ã€é•·ã„ã›ã„ã‹èªè­˜ã—ã¦ãã‚Œãªã‹ã£ãŸã®ã§ã€ã€Œãƒ¯ãƒˆã‚½ãƒ³ã«XXXã€ã«ã—ã¾ã—ãŸ</li>\n</ul>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/be76737e4bd4bbfacceecfd57cfadedd56acca6d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f63373234333132622d656232352d623232302d666161332d3737313265633461366263362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc724312b-eb25-b220-faa3-7712ec4a6bc6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d6d965ca532fd2cb85deaaa96edcf60d\" alt=\"IFTTT\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/c724312b-eb25-b220-faa3-7712ec4a6bc6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fc724312b-eb25-b220-faa3-7712ec4a6bc6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d535cafd1146a7641b07d12dda42d98b 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">æŠ•ç¨¿JSON</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"nl\">\"data\"</span><span class=\"p\">:[{</span><span class=\"w\"> </span><span class=\"nl\">\"text\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"{{TextField}}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nl\">\"type\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"google_assistant\"</span><span class=\"w\"> </span><span class=\"p\">}]}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">æ°—ã«å…¥ã£ãŸJSON</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"nl\">\"data\"</span><span class=\"p\">:[{</span><span class=\"w\"> </span><span class=\"nl\">\"feedback\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"LIKE\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nl\">\"type\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"google_assistant\"</span><span class=\"w\"> </span><span class=\"p\">}]}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸJSON</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"nl\">\"data\"</span><span class=\"p\">:[{</span><span class=\"w\"> </span><span class=\"nl\">\"feedback\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"DISLIKE\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nl\">\"type\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"google_assistant\"</span><span class=\"w\"> </span><span class=\"p\">}]}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<ul>\n<li>4. Webã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«3.ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚’subscribeã™ã‚‹<a href=\"https://github.com/yktakaha4/watson-music/blob/master/src/main/java/com/github/yktakaha4/watsonmusic/api/util/Mqtt.java\" rel=\"nofollow noopener\" target=\"_blank\">Mqttã‚¯ãƒ©ã‚¹</a>ã‚’ä½œæˆ\n\n<ul>\n<li>å®Ÿè£…ã¯<a href=\"https://www.eclipse.org/paho/\" rel=\"nofollow noopener\" target=\"_blank\">paho</a>ã§è¡Œã„ã¾ã—ãŸã€‚<a href=\"https://qiita.com/shohei1913/items/b355ad7d1bb27141176b\" id=\"reference-cd2f0bf1685c675cf5e3\">ã“ã®æŠ•ç¨¿</a>ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™</li>\n<li>\n<a href=\"https://beebotte.com/docs/mqtt\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã“</a>ã«ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ãŒã€URLã«ã€Œssl://mqtt.beebotte.com:8883ã€ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ã€Œtoken:{2.ã®Channel Tokenã®å€¤}ã€ã‚’æŒ‡å®šã™ã‚‹ã¨æ¥ç¶šå¯èƒ½ã§ã™</li>\n</ul>\n</li>\n<li>5. Google Homeã«ã€Œãƒ¯ãƒˆã‚½ãƒ³ã«æŠ•ç¨¿ XXXã€ã¨è©±ã—ã‹ã‘ã‚‹ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã¾ã™</li>\n</ul>\n\n<h1>\n<span id=\"æ‰€æ„Ÿ\" class=\"fragment\"></span><a href=\"#%E6%89%80%E6%84%9F\"><i class=\"fa fa-link\"></i></a>æ‰€æ„Ÿ</h1>\n\n<ul>\n<li>1æœˆã€œ3æœˆã«ãƒãƒƒãƒã€ï¼”æœˆã«Webã€ï¼•æœˆã«çµåˆ&amp;ä»•ä¸Šã’ã€ã¨ã„ã†æ„Ÿã˜ã§ã§ãã¾ã—ãŸ\n\n<ul>\n<li>æ™‚é–“ã¯æ¸¬ã£ã¦ã¾ã›ã‚“ãŒã€ä½“æ„Ÿ15äººæ—¥ã€œ20äººæ—¥ãã‚‰ã„ã‹ã‹ã£ãŸã‚ˆã†ãªæ°—ãŒã—ã¾ã™...ç–²ã‚Œã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>å‰è¿°ã®é€šã‚Šã€ã‚ˆã»ã©ä½¿ã‚ãªã‘ã‚Œã°è²»ç”¨ã¯ã¾ãšã‹ã‹ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã€‚Watsonã®ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³ã¯ä¸€æœˆæ”¾ç½®ã™ã‚‹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå‰Šé™¤ã•ã‚Œã¦ã—ã¾ã†ã‚ˆã†ã§ã™ãŒ...</li>\n<li>ã€Œãªã‚“ã§ã“ã®æ¤œç´¢æ–‡ã§ã“ã®æ›²ãªã‚“ã ã‚ã†...ã€ã¨ã„ã†ã‚‚ã®ã‚‚ã¾ã¾ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšã¡ã‚ƒã‚“ã¨å‹•ãã‚‚ã®ãŒã§ããŸã®ã§æº€è¶³ã§ã™ğŸœ\n\n<ul>\n<li>Wikipediaã‚’<del>ã§ãŸã‚‰ã‚ã«</del>ç´ä»˜ã‘ã¦ã‚‹ã ã‘ã ã‹ã‚‰ã€å½“ç„¶ã®å¸°ç€ã¨ã‚‚è¨€ãˆã¾ã™ğŸ˜\n\n<ul>\n<li>æ¬¡ã«éŸ³æ¥½ã‚’æ‰±ã†ãªã‚‰ã€æ¥½æ›²ã‹ã‚‰è¨€èªæƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹...ãã‚‰ã„ã®ã“ã¨ã‚’é ‘å¼µã‚‰ãªã„ã¨ã„ã‘ãªã„ãªã¨æ€ã„ã¾ã—ãŸ</li>\n</ul>\n</li>\n<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã—ãªã„ã¨ãƒ©ãƒ³ãƒ€ãƒ é¸æ›²ã—ã¾ã™ã®ã§ã€ã¨ã‚Šã‚ãˆãšã—ã°ã‚‰ãä½¿ã„ç¶šã‘ã‚ˆã†ã¨æ€ã„ã¾ã™ï¼ˆæœ¬æœ«è»¢å€’ï¼‰</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"ã‚½ãƒ¼ã‚¹\" class=\"fragment\"></span><a href=\"#%E3%82%BD%E3%83%BC%E3%82%B9\"><i class=\"fa fa-link\"></i></a>ã‚½ãƒ¼ã‚¹</h1>\n\n<p>githubã«å…¬é–‹ã—ã¾ã—ãŸ<img alt=\":octocat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/octocat.png\" title=\":octocat:\" width=\"20\" loading=\"lazy\"></p>\n\n<p><a href=\"https://github.com/yktakaha4/watson-music\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/yktakaha4/watson-music</a><br>\n<a href=\"https://github.com/yktakaha4/watson-music-web\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://github.com/yktakaha4/watson-music-web</a></p>\n",
      "body": "#ã¯ã˜ã‚ã«\nå‹‰å¼·ã§ä½œã£ãŸWebã‚¢ãƒ—ãƒªã®ã”ç´¹ä»‹å…¼å‚™å¿˜éŒ²ã¨ãªã‚Šã¾ã™\nå‚è€ƒã«ã—ãŸè³‡æ–™ã‚’å¤šãè²¼ã‚‹ã‚ˆã†å¿ƒãŒã‘ãŸã®ã§ã€ä¼¼ãŸã‚ˆã†ãªæ§‹æˆã§ä½•ã‹ä½œã‚ã†ã¨ã•ã‚Œã¦ã‚‹æ–¹ã®ä¸€åŠ©ã«ãªã‚Œã°å¹¸ã„ã§ã™\n\n![Watson Music](https://qiita-image-store.s3.amazonaws.com/0/106259/c56e7ea6-7d39-3d50-d269-eb9e4fc76d29.png)\n\n##ã©ã‚“ãªã‚¢ãƒ—ãƒªï¼Ÿ\nğŸ¤” ã‚ªãƒ•ã‚£ã‚¹ã«BGMã‚’æµã—ãŸã„ã‘ã©ã€éŸ³æ¥½ã®è¶£å‘³ã¯ã¿ã‚“ãªé•ã†...å…¬å¹³ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦ã‚‚è„ˆçµ¡ã®ãªã„é¸æ›²ã«ãªã‚‹ã—ã€ä½•ã‹ã„ã„æ–¹æ³•ã¯ãªã„ã‹ãª...\n\nğŸ˜ƒ ãã†ã ! Watsonã«æ›²èª¿ã‚„ä»Šã®æ°—åˆ†ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã€æµã™æ›²ã‚’æ±ºã‚ã¦ã‚‚ã‚‰ãˆã°ã„ã„ã‚“ã !\nğŸ¤— ä»•äº‹ãŒå¿™ã—ã™ãã¦æ‰‹ãŒé›¢ã›ãªã„äººã‚‚ã€éŸ³å£°ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚Œã°ä¸‡äº‹è§£æ±ºã§ã™ã­!!\n\n- ä¸€å¿œèª¿ã¹ãŸã®ã§ã™ãŒã€[äº‹å‹™æ‰€ã€å·¥å ´ç­‰ã§ã®ä¸»ã¨ã—ã¦å¾“æ¥­å“¡ã®ã¿ã‚’å¯¾è±¡ã¨ã—ãŸBGMåˆ©ç”¨ã¯ç„¡æ–™](http://www.jasrac.or.jp/info/bgm/)ã‚‰ã—ã„ã§ã™\n- å„è‡ªã‚¤ãƒ¤ãƒ›ãƒ³ã§å¥½ããªã‚‚ã®è´ã‘ã°ã„ã„ã˜ã‚ƒã‚“...ã¨æ€ã£ãŸæ–¹ã¯é‹­ã„ã€ã‚ãªãŸã¯æ­£ã—ã„ã§ã™ğŸ˜­\n\n##çµŒç·¯\n- [å…ˆæ—¥ã„ã˜ã£ãŸ](https://qiita.com/yktakaha4/items/d14d643db28bc63c7b3f)Retrieve And RankãŒ[Deprecatedã¨ãªã‚Š](https://www.ibm.com/watson/services/retrieve-and-rank/)ã€å¾Œç¶™ã¨ã—ã¦[Discovery](https://www.ibm.com/watson/jp-ja/developercloud/discovery.html)ãŒå‡ºã¦ããŸã®ã§ã€ä½¿ã£ã¦ã¿ã‚ˆã†ã¨æ€ã£ãŸ\n    - [ã“ã®æŠ•ç¨¿](https://qiita.com/ishida330/items/b823d7c5b55806f04242)ã‚’èª­ã‚“ã§ã€ä½¿ã†ã ã‘ãªã‚‰ãã“ã¾ã§é›£ã—ããªã•ãã†ã¨æ€ãˆãŸã®ãŒå¤§ãã‹ã£ãŸã§ã™\n- é•·ã‚‰ãjQueryã—ã‹ä½¿ãˆãªã‹ã£ãŸãŒã€[ã“ã¡ã‚‰ã®æŠ•ç¨¿](https://qiita.com/mizchi/items/4d25bc26def1719d52e6)ã‚’èª­ã‚“ã§~~é­‚ãŒéœ‡ãˆãŸ~~React(ã¨ãã®å‘¨è¾ºæŠ€è¡“)ã‚’çŸ¥ã‚ŠãŸããªã£ãŸ\n    - AngularJSã¨è¿·ã„ã¾ã—ãŸãŒã€ãªã‚“ã¨ãªãæ•·å±…ãŒä½ãã†ãªã“ã£ã¡ã‚’é¸ã³ã¾ã—ãŸ\n- ãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¾ã§ã²ã¨ã‚Šã§è¨­è¨ˆ/å®Ÿè£…ã—ãŸã‚‰ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒä½œã‚Œã‚‹ã‹è©¦ã—ãŸã‹ã£ãŸ\n    - æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã¨åˆ†ã‹ã‚Šã¾ã™ãŒã€Watsonã¯ãã“ã¾ã§ä½¿ã„è¾¼ã‚ã¦ã„ã¾ã›ã‚“...\n    - å½¹ã«ç«‹ã¤ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ < æœªçµŒé¨“æŠ€è¡“ã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ— ã®å„ªå…ˆåº¦ã§å–ã‚Šçµ„ã¿ã¾ã—ãŸ\n\n##é–‹ç™ºãƒãƒªã‚·ãƒ¼\n###âœ¨å€‹ã€…ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦æ·±æ˜ã‚ŠğŸ•³ã™ã‚‹ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã¡ã‚ƒã‚“ã¨ã¾ã¨ã¾ã‚‹ğŸ‘ªã‚ˆã†ã«ä½œã‚‹âœ¨\n- ä¾‹ãˆã°ã€[å‰å›](https://qiita.com/yktakaha4/items/d14d643db28bc63c7b3f)ã¯Watsonã¸ã®ãƒ‡ãƒ¼ã‚¿å–ã‚Šè¾¼ã¿ãªã©ã«æ‰‹æ“ä½œ(Curlã‚³ãƒãƒ³ãƒ‰æ‰“ã¤)ãŒä»‹åœ¨ã—ã¦ã—ã¾ã£ãŸã®ã§ã€å…¨éƒ¨ãƒãƒƒãƒåŒ–&Webç”»é¢ã‹ã‚‰ã‚­ãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ\n- æ§‹æˆã«ã¤ã„ã¦ã‚‚ã€~~å‰å›ã®ã‚ˆã†ã«è¨³ã‚‚åˆ†ã‹ã‚‰ãšNode-REDã‚’ä½¿ã£ã¦æ¶ˆè€—ã—ãŸã‚Šã›ãšã€~~ãƒ•ãƒ­ãƒ³ãƒˆï¼šJSã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼šJavaã§ã§ãã‚‹ã ã‘çµ±ä¸€ã—ã¾ã—ãŸ\n- Discoveryã«å¯¾ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ è¾æ›¸é©ç”¨ã‚„ã€MP3æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŠã‚ˆã³ã‚¢ãƒ—ãƒªã‚µãƒ¼ãƒãƒ¼ã®ã‚¯ãƒ©ã‚¦ãƒ‰åŒ–ãªã©ã€æŠ¼ã•ãˆã¦ãŠããŸã‹ã£ãŸã¨ã“ã‚ã‚‚ã‚ã‚‹ã®ã§ã™ãŒã€å®Ÿè£…ã‚ˆã‚Šã‚‚ç’°å¢ƒæ§‹ç¯‰ã®å´é¢ãŒå¼·ãã†ã ã£ãŸã®ã§ã€ä¸Šè¨˜æ–¹é‡ã‚ˆã‚Šã‚¹ã‚³ãƒ¼ãƒ—ã‹ã‚‰å¤–ã—ã¾ã—ãŸ\n\n#ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹\n1\\. ãƒ¦ãƒ¼ã‚¶ãƒ¼(ã‚ªãƒ•ã‚£ã‚¹ã®äººã€…)ãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã«å„è‡ªMP3ã‚’æ ¼ç´ã™ã‚‹\n\n![MP3ãƒ•ã‚¡ã‚¤ãƒ«](https://qiita-image-store.s3.amazonaws.com/0/106259/39bfb430-099b-8feb-bc5d-cb57fc4ebe48.png)\n\n2\\. ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰Watson Musicã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€éŸ³æ¥½å–ã‚Šè¾¼ã¿ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã®MP3ãŒWatsonã«å–ã‚Šè¾¼ã¾ã‚Œã€æ¤œç´¢å¯èƒ½ã¨ãªã‚‹\n\n![ãƒãƒƒãƒå®Ÿè¡Œ](https://qiita-image-store.s3.amazonaws.com/0/106259/a73fbf39-145b-a96e-6064-0942cce59828.png)\n\n3\\. Watson Musicã«é¸æ›²ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ç¨¿ã™ã‚‹ã¨ã€WatsonãŒæµã™æ›²ã‚’æ±ºã‚ã¦å†ç”Ÿã™ã‚‹ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æŠ•ç¨¿ã‚„æ›²ã®å†ç”ŸçŠ¶æ³ã¯ã€Watson Musicã‚’é–‹ã„ã¦ã„ã‚‹å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«å³åº§ã«åæ˜ ã•ã‚Œã‚‹\n\n![å³æ™‚åæ˜ ](https://qiita-image-store.s3.amazonaws.com/0/106259/9a83f149-6fde-8b86-a4ef-7775c65bb1ce.gif)\n\n4\\. å†ç”Ÿä¸­ã®æ›²ãŒæ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸå ´åˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã€‚å­¦ç¿’ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå–ã‚Šè¾¼ã¾ã‚Œã€æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã‚‹\n\n![ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯](https://qiita-image-store.s3.amazonaws.com/0/106259/acc7e6f2-7871-f464-d93e-9e40559de348.png)\n\n5\\. é¸æ›²ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŠã‚ˆã³ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯Google Homeã‹ã‚‰ã‚‚è¡Œã†ã“ã¨ãŒã§ãã‚‹\n\n| å‘¼ã³ã‹ã‘æ–¹ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |\n|:--------------------------|:----------------------|\n| Watsonã«æŠ•ç¨¿ XXXXX | XXXXXã§é¸æ›²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ç¨¿ |\n| Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ æ°—ã«å…¥ã£ãŸ | æµã‚Œã¦ã„ã‚‹æ›²ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯(æ°—ã«å…¥ã£ãŸ) |\n| Watsonã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ æ°—ã«å…¥ã‚‰ãªã„ | æµã‚Œã¦ã„ã‚‹æ›²ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯(æ°—ã«å…¥ã‚‰ãªã„) |\n\n#ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ\n\nJavaã¨ä»–ãƒ¬ã‚¤ãƒ¤ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹ã‚‚ã®ã¾ã§æ›¸ã„ãŸã‚‰ã ã„ã¶ã‚´ãƒãƒ£ãƒƒã¨ã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€\nåŸºæœ¬çš„ã«MySQLã¨Eclipseã‚’ç”¨æ„ã—ã¦ã€IBM Cloudä¸Šã«Watsonã®ç’°å¢ƒã‚’ç”¨æ„ã™ã‚Œã°å‹•ã‹ã›ã¾ã™\n\n![æ§‹æˆå›³.jpeg](https://qiita-image-store.s3.amazonaws.com/0/106259/0686c02b-e251-1e01-f57b-cdbd5d8bfdd3.jpeg)\n\n##ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰\nSpring Bootã‚’ä¸­å¿ƒã«æ§‹ç¯‰ã—ã¾ã—ãŸã€‚DBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯[MyBatis](http://www.mybatis.org/mybatis-3/ja/)ã‚’ä½¿ã„ã¾ã—ãŸãŒã€Connectionã®ã“ã¨ãªã©è€ƒãˆãšã«ã‚ˆãã€æ¥½ã§ã—ãŸ(æ­£ã—ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ¶å¾¡ã§ãã¦ã„ã‚‹ã®ã‹è‹¥å¹²ä¸å®‰ã§ã¯ã‚ã‚Šã¾ã™ãŒ...)\n\n###ãƒãƒƒãƒ\n- [Spring Batch](https://projects.spring.io/spring-batch/)ã§å»¶ã€…ã¨ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¾ã—ãŸ...è‰²ã€…è©¦è¡ŒéŒ¯èª¤ã—ãŸã›ã„ã‚‚ã‚ã‚Šã€å·¥æ•°ã®2/3ãã‚‰ã„ã“ã¡ã‚‰ã«æ›ã‹ã‚Šã¾ã—ãŸ\n    - æ¦‚å¿µã«ã¤ã„ã¦ã¯[ã“ã¡ã‚‰ã®ãƒšãƒ¼ã‚¸](https://sites.google.com/site/soracane/home/springnitsuite/spring-batch)ãŒã‚ˆãã¾ã¨ã¾ã£ã¦ãŠã‚ŠãŠã™ã™ã‚ã§ã™\n- [Jaudiotagger](http://www.jthink.net/jaudiotagger/)ã§æŠ½å‡ºã—ãŸMP3ã‚¿ã‚°æƒ…å ±ã‚’ä½¿ã£ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ–‡ç« ã‚’ç”Ÿæˆã—ã¾ã—ãŸ\n    1. ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåã€ã‚¢ãƒ«ãƒãƒ åã€ã‚¸ãƒ£ãƒ³ãƒ«ç­‰ã«ã¦Wikipediaã‚’æ¤œç´¢ã—ã€è¨˜äº‹ã‚’å–å¾—\n        - MediaWiki APIçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã—ãŸã€‚[ã“ã¡ã‚‰ã®æŠ•ç¨¿](https://qiita.com/yubessy/items/16d2a074be84ee67c01f)ãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™\n        - ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯[Jersey Clientã‚’ä½¿ã£ã¦](http://www.akirakoyasu.net/2012/02/05/jerey-client-useful-http-client/)HTMLã§å—ã‘å–ã‚Šã€[jsoup](https://jsoup.org/)ã§ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¾ã—ãŸ\n        - [å…ˆæ—¥ã®æŠ•ç¨¿](https://qiita.com/yktakaha4/items/8cf9bc4b1910f0b5ca45)ã§ã‚‚å°‘ã—æ›¸ãã¾ã—ãŸãŒã€ã©ã†ã—ã¦ã‚‚åŒ–ã‘ã¦ã—ã¾ã†ã‚¿ã‚°ãŒå°‘ã—ã°ã‹ã‚Šã‚ã‚Šã€è«¦ã‚ã¾ã—ãŸ...\n    2. MP3ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ«ãƒãƒ ã‚¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¦ã€[Watson Visual Recognition](https://www.ibm.com/watson/jp-ja/developercloud/visual-recognition.html)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ç”»åƒåˆ†æçµæœã‚’å–å¾—ã—ã€ã‚¯ãƒ©ã‚¹åˆ†é¡ã§Wikipediaã®è¨˜äº‹ã‚’å–å¾—\n        - [Java SDK](https://www.ibm.com/watson/developercloud/visual-recognition/api/v3/java.html?java)ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æ€ã£ã¦ãŸã‚ˆã‚Šç°¡å˜ã«ã§ãã¾ã—ãŸã€‚(ã‚¯ãƒ©ã‚¹ç­‰ã®èª¬æ˜ãŒã»ã¼ç„¡ã„ã®ã¯ãªã‚“ã§ã™ãŒ...)\n    3. æ›²åã«ã¦æ­Œè©æ¤œç´¢ã‚µã‚¤ãƒˆã®[J-Lyric.net](http://j-lyric.net/)ã‹ã‚‰æ­Œè©ã‚’å–å¾—\n        - [åˆ©ç”¨è¦ç´„](http://j-lyric.net/info/e374.html)ã‚’èª­ã‚“ã æ„Ÿã˜ãƒ€ãƒ¡ã¨ã„ã†æ„Ÿã˜ã§ã‚‚ãªã•ãã†ã ã£ãŸã®ã§ã€jsoupã§ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚[ã“ã®æŠ•ç¨¿](https://qiita.com/nezuq/items/c5e827e1827e7cb29011)ã‚‚èª­ã‚€ã¨è‰¯ã„ã¨æ€ã„ã¾ã™\n    4. 1.ã§å–å¾—ã—ãŸWikipediaã®è¨˜äº‹ã«ã¤ã„ã¦ã€MP3ã‚¿ã‚°ã¨é¡ä¼¼åº¦ã®é«˜ã„è¨˜äº‹ã‚’ç´ä»˜ã‘\n        - 1.ã ã‘ã ã¨ã€Wikipediaã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ä¾å­˜ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€[ã“ã¡ã‚‰ã®æŠ•ç¨¿ã®ã‚ˆã†ã«](https://qiita.com/ssaito/items/aae5522618d4296c5178)ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã‚’ä½¿ã£ã¦ã€è¡¨è¨˜ã¶ã‚ŒãŒã‚ã£ã¦ã‚‚è¨˜äº‹ã‚’ç´ä»˜ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ\n    5. 1.ã§å–å¾—ã—ãŸWikipediaã®è¨˜äº‹å†…ã®å„ãƒªãƒ³ã‚¯(=åˆ¥ã®Wikipediaè¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«)ã«å¯¾ã—ã¦ã€[BM25](http://sonickun.hatenablog.com/entry/2014/11/12/122806)ã‚’ç”¨ã„ã¦é‡ã¿ä»˜ã‘ã‚’è¡Œã„ã€è¨˜äº‹ã”ã¨ã«æ•°å€¤ã®é«˜ã„ã‚‚ã®ã‚‚é–¢é€£è¨˜äº‹ã¨ã—ã¦ç´ä»˜ã‘\n        - ç”³ã—è¨³ç¨‹åº¦ã®æ©Ÿæ¢°å­¦ç¿’è¦ç´ ã«ãªã‚Šã¾ã™...[TextSimilarityServiceã‚¯ãƒ©ã‚¹](https://github.com/yktakaha4/watson-music/blob/master/src/main/java/com/github/yktakaha4/watsonmusic/service/TextSimilarityService.java)ãŒãã‚Œã«ã‚ãŸã‚Šã¾ã™\n    6. MP3ã‚¿ã‚°æƒ…å ±ã‚’ãã®ã¾ã¾æ–‡ç« ã¨ã—ã¦ç™»éŒ²\n        - æœ¬å½“ã¯[Gracenote Web API](https://developer.gracenote.com/ja/web-api)ã‚’ä½¿ã„ãŸã‹ã£ãŸã®ã§ã™ãŒã€ã„ã¤è©¦ã—ã¦ã‚‚[API Keyã‚’ç™ºè¡Œã—ã¦ã‚‚ã‚‰ãˆãš](https://developer.gracenote.com/user/register)æ–­å¿µã—ã¾ã—ãŸ...\n- ç”Ÿæˆã•ã‚ŒãŸå„æ–‡ç« ã‚’çµåˆã—ã€Watson Discoveryã«ç™»éŒ²\n    - ã“ã¡ã‚‰ã‚‚[Java SDK](https://www.ibm.com/watson/developercloud/discovery/api/v1/java.html?java)ãŒã‚ã‚‹ã®ã§ã€Visual RecognitionåŒæ§˜ã«æ‰‹è»½ã«ä½¿ãˆã¾ã™\n    - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå½¢å¼ã¯å¹¾ã¤ã‹ã‹ã‚‰é¸ã¹ã¾ã™ãŒã€æ‰±ã„ã‚„ã™ãã†ãªJSONã«ã—ã¾ã—ãŸ\n\n```json:Discoveryã«æŠ•å…¥ã™ã‚‹JSON\n{\n  \"path\" : \"I LOVE U\\/03 03. æœªæ¥.mp3\",\n  \"trackLength\" : 322,\n  \"encoding\" : \"mp3\",\n  \"musicTags\" : {\n    \"ALBUM_ARTIST_SORT\" : \"ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³\",\n    \"TITLE\" : \"Â–æœªæ¥\",\n    \"YEAR\" : \"2005\",\n    \"TRACK\" : \"3\",\n    \"ARTIST\" : \"Mr.Children\",\n    \"ALBUM_ARTIST\" : \"Mr.Children\",\n    \"ENCODER\" : \"iTunes v6.0.0.18\",\n    \"ARTIST_SORT\" : \"ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³\",\n    \"GENRE\" : \"Pop\",\n    \"ALBUM\" : \"I LOVE U\",\n    \"COVER_ART\" : \"image\\/png::474078\"\n  },\n  \"musicId\" : 821,\n  \"text\" : \"2005 3  I LOVE U Mr.Children Pop iTunes v6.0.0.18 image\\/png::474078 ãƒŸã‚¹ã‚¿ãƒ¼ãƒãƒ«ãƒ‰ãƒ¬ãƒ³ Mr.Children > I â™¥ U æœ¬æ¥ã®è¡¨è¨˜ã¯ã€ŒI â™¥ Uã€ã§ã™ã€‚ã“ã®è¨˜äº‹ã«ä»˜ã‘ã‚‰ã‚ŒãŸé¡Œåã¯ã€æŠ€è¡“çš„ãªåˆ¶é™ã«ã‚ˆã‚Šã€è¨˜äº‹åã®åˆ¶ç´„ã‹ã‚‰ä¸æ­£ç¢ºãªã‚‚ã®ã¨ãªã£ã¦ã„ã¾ã™ã€‚ ã€I â™¥ Uã€ Mr.Children ã® ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ  ãƒªãƒªãƒ¼ã‚¹ 2005å¹´9æœˆ21æ—¥ ã‚¸ãƒ£ãƒ³ãƒ« ãƒ­ãƒƒã‚¯ æ™‚é–“ 63åˆ†58ç§’ ãƒ¬ãƒ¼ãƒ™ãƒ« ãƒˆã‚¤ã‚ºãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ å°æ—æ­¦å² ãƒãƒ£ãƒ¼ãƒˆæœ€é«˜é †ä½ é€±é–“1ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ 2005å¹´10æœˆåº¦æœˆé–“2ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ 2005å¹´åº¦å¹´é–“8ä½ï¼ˆã‚ªãƒªã‚³ãƒ³ï¼‰ ã‚ªãƒªã‚³ãƒ³æ­´ä»£ã‚¢ãƒ«ãƒãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°226ä½ ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯ ãƒŸãƒªã‚ªãƒ³ï¼ˆæ—¥æœ¬ãƒ¬ã‚³ãƒ¼ãƒ‰å”ä¼šï¼‰ Mr.Children å¹´è¡¨ ã‚·ãƒ•ã‚¯ãƒã‚ªãƒˆ ï¼ˆ2004å¹´ï¼‰ ...\"\n}\n```\n\n```text:BM25ã§é–¢é€£ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡º\n2018-05-15 21:41:18.209  INFO SimpleStepHandler     : Executing step: [enrichTextsByWikipedia]\n2018-05-15 21:41:21.288  INFO TextSimilarityService    : text similarity service initialized: k1 = 2.0, b = 0.75, avgdl = 507.0\n2018-05-15 21:41:21.288  INFO RelatedWikiPageProcessor  : similarity threshold: relevance > 0.05 and top 5 pages\n2018-05-15 21:41:21.555  INFO RelatedWikiPageProcessor  : related wikipages: /05 -> (å‚æœ¬é¾ä¸€,0.060225320883512914), (ã‚¢ã‚¦ãƒˆãƒ»ã‚ªãƒ–ãƒ»ãƒã‚¤ã‚º,0.05005133843882276)\n2018-05-15 21:41:23.769  INFO RelatedWikiPageProcessor  : related wikipages: B.A.N.D. -> (YOUR SONG IS GOOD,0.12316413842154202), (THE ACTION,0.07945721944782655), (NAYUTAWAVE RECORDS,0.06290821951833057), (3æœˆ3æ—¥,0.06056176459670045), (ã‚«ã‚¯ãƒãƒªã‚ºãƒ ,0.06056176459670045)\n2018-05-15 21:41:23.943  INFO RelatedWikiPageProcessor  : related wikipages: CAR SONGS OF THE YEARS -> (å¥¥ç”°æ°‘ç”Ÿ,0.0633027466742595)\n2018-05-15 21:41:24.129  INFO RelatedWikiPageProcessor  : related wikipages: BETTER SONGS OF THE YEARS -> (å¥¥ç”°æ°‘ç”Ÿ,0.064631488592711), (2008å¹´,0.05039573681355406), (Fantastic OT9,0.05024107009270254), (åƒ•ã‚‰ã®ãƒ¯ãƒ³ãƒ€ãƒ•ãƒ«ãƒ‡ã‚¤ã‚º ã‚µã‚¦ãƒ³ãƒ‰ãƒˆãƒ©ãƒƒã‚¯,0.05024107009270254), (10æœˆ29æ—¥,0.05011415549211778)\n2018-05-15 21:41:24.321  INFO RelatedWikiPageProcessor  : related wikipages: äº•ä¸Šé™½æ°´å¥¥ç”°æ°‘ç”Ÿ -> (äº•ä¸Šé™½æ°´,0.05551309994270471), (å¥¥ç”°æ°‘ç”Ÿ,0.05410484019209229)\n2018-05-15 21:41:27.536  INFO RelatedWikiPageProcessor  : related wikipages: COBALT HOUR -> (1975å¹´,0.05014774776777056)\n2018-05-15 21:41:28.770  INFO RelatedWikiPageProcessor  : related wikipages: Cymbals -> (æ²–äº•ç¤¼äºŒ,0.09956893392254533), (çŸ¢é‡åšåº·,0.05183281021348527), (åœŸå²éº»å­,0.05076091736900876)\n2018-05-15 21:41:28.922  INFO RelatedWikiPageProcessor  : related wikipages: The band apart -> (1,0.05656246896271063)\n2018-05-15 21:41:29.520  INFO RelatedWikiPageProcessor  : related wikipages: æ±äº¬äº‹å¤‰ -> (æ¤åæ—æª,0.05006418542278235)\n2018-05-15 21:41:29.643  INFO RelatedWikiPageProcessor  : related wikipages: Cornelius -> (ã‚³ãƒ¼ãƒãƒªã‚¢ã‚¹ãƒ»ãƒ´ã‚¡ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ«ãƒˆ,0.11629418762801481), (çŒ¿ã®æƒ‘æ˜Ÿ,0.07515443060345392)\n2018-05-15 21:41:30.052  INFO RelatedWikiPageProcessor  : related wikipages: FOR YOU -> (ãƒ•ã‚©ãƒ¼ãƒ»ãƒ¦ãƒ¼,0.09920778243902893)\n2018-05-15 21:41:30.305  INFO RelatedWikiPageProcessor  : related wikipages: The Fantastic Plastic Machine -> (Fantastic Plastic Machine,0.14436623255578224), (1997å¹´,0.05321008399144652), (10æœˆ10æ—¥,0.0515236509976896), (æ—¥æœ¬ã‚³ãƒ­ãƒ ãƒ“ã‚¢,0.05103357778415948), (ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ ,0.050605023893409457)\n2018-05-15 21:41:30.607  INFO RelatedWikiPageProcessor  : related wikipages: FantÃ´me -> (å®‡å¤šç”°ãƒ’ã‚«ãƒ«,0.05042149540012731), (2016å¹´,0.050066569362434594)\n2018-05-15 21:41:31.399  INFO RelatedWikiPageProcessor  : related wikipages: å°è¢‹æˆå½¬ -> (å®‡å¤šç”°ãƒ’ã‚«ãƒ«,0.050095502755357096)\n2018-05-15 21:41:31.884  INFO RelatedWikiPageProcessor  : related wikipages: Fishmans -> (ãƒœãƒ¼ã‚«ãƒ«,0.05003627945421543)\n2018-05-15 21:41:31.936  INFO RelatedWikiPageProcessor  : related wikipages: å®‡å®™ æ—¥æœ¬ ä¸–ç”°è°· -> (ä½è—¤ä¼¸æ²»,0.342280868725777), (ãƒ•ã‚£ãƒƒã‚·ãƒ¥ãƒãƒ³ã‚º,0.07414079951506487), (LONG SEASON,0.05398063786198843), (ã‚¹ã‚¿ã‚¸ã‚ªãƒ»ã‚¢ãƒ«ãƒãƒ ,0.05126803822945513), (ã‚ªãƒªã‚³ãƒ³ãƒãƒ£ãƒ¼ãƒˆ,0.050995225603264395)\n2018-05-15 21:41:32.087  INFO RelatedWikiPageProcessor  : related wikipages: FreeTEMPO -> (DJ,0.0502637876950748)\n2018-05-15 21:41:32.153  INFO RelatedWikiPageProcessor  : related wikipages: ç©ºæ°—å…¬å›£ -> (ãƒˆã‚¤ã‚ºãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼,0.05230039242246507), (SPACE SHOWER NETWORK,0.050821297098439105), (ãƒãƒƒãƒ—ãƒ»ãƒ­ãƒƒã‚¯,0.05036436461861145), (ãƒ”ã‚¢ãƒ,0.050052459677419246)\n2018-05-15 21:41:50.949  INFO RelatedWikiPageProcessor  : related wikipages: ã‚¹ãƒ”ãƒƒãƒ„ -> (çŠ¬,0.14141142226123585), (ãƒ—ãƒ©ãƒã‚¿ãƒªã‚¦ãƒ ,0.06426989664685567)\n2018-05-15 21:41:51.107  INFO RelatedWikiPageProcessor  : related wikipages: ãƒã‚¤ãƒ•ã‚¡ã‚¤æ–°æ›¸ -> (ãƒã‚¤ãƒ•ã‚¡ã‚¤,0.14901153285452806), (ã‚ªãƒªã‚³ãƒ³,0.09449390740803565), (2009å¹´,0.0702335178109741), (ã‚·ãƒ³ã‚¯ãƒ­ãƒ‹ã‚·ãƒ†ã‚£ãƒ¼ãƒ³,0.06670556020884505), (ã‚·ãƒ•ã‚©ãƒ³ä¸»ç¾©,0.05874506473049359)\n2018-05-15 21:41:51.149  INFO RelatedWikiPageProcessor  : related wikipages: ãƒ¡ã‚° -> (MEG,0.2621526213897821), (Meg,0.09827216190077466), (MEGU,0.05723108345597966), (ã‚ãã¿,0.05723108345597966)\n2018-05-15 21:41:51.220  INFO RelatedWikiPageProcessor  : related wikipages: å¤¢ã¿ã‚‹æƒ‘æ˜Ÿ -> (ä½è—¤å²ç”Ÿ,0.09846793349530256), (å°å­¦é¤¨,0.08587651861800526), (ãƒ—ãƒãƒ•ãƒ©ãƒ¯ãƒ¼,0.08097989398268286), (å°å­¦é¤¨æ–‡åº«,0.05744113400613156), (å°‘å¥³æ¼«ç”»,0.05149429975735787)\n2018-05-15 21:41:51.310  INFO RelatedWikiPageProcessor  : related wikipages: å®‰å…¨åœ°å¸¯ -> (ã‚²ãƒ¼ãƒ¡ã‚¹ãƒˆ,0.3562589491573924), (å‰é‡äºŒéƒ,0.3562589491573924), (ç·©è¡åœ°å¸¯,0.3562589491573924), (è·¯é¢é›»è»Š,0.3066400828610433), (æ—¥æœ¬æ˜ ç”»,0.2776149067493823)\n2018-05-15 21:41:51.399  INFO RelatedWikiPageProcessor  : related wikipages: å²¸ç”°ãƒ¡ãƒ« -> (ã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼,0.05039222495893547)\n2018-05-15 21:41:51.651  INFO RelatedWikiPageProcessor  : related wikipages: æ¯”å±‹å®šç¯¤å­ -> (1997å¹´,0.05454346478565931), (ç¬¹å­é‡æ²»,0.054119433283179794), (é‚£è¦‡å¸‚,0.05110278474996579), (æ²–ç¸„çœŒ,0.050697418856247733), (12æœˆ24æ—¥,0.050466135833929004)\n2018-05-15 21:41:51.674  INFO RelatedWikiPageProcessor  : related wikipages: æµç·šå½¢ -> (æµã‚Œ,0.11173271371226531)\n2018-05-15 21:42:06.699  INFO RelatedWikiPageProcessor  : related wikipages: ç›¸å¯¾æ€§ç†è«– -> (æ™‚é–“,0.050505449840522756)\n2018-05-15 21:42:07.772  INFO RelatedWikiPageProcessor  : related wikipages: é’ç©ºç™¾æ™¯ -> (ãƒ ãƒ¼ãƒ³ãƒ©ã‚¤ãƒ€ãƒ¼ã‚º,0.1363140503236836), (éˆ´æœ¨åšæ–‡,0.054001764173099404), (1982å¹´,0.05217094703759643), (MANIA MANIERA,0.05209252299043802), (éˆ´æœ¨æ…¶ä¸€,0.050752580964901504)\n2018-05-15 21:42:07.874  INFO RelatedWikiPageProcessor  : related wikipages: é¢¨è¡—ã‚ã¾ã‚“ -> (ã¯ã£ã´ã„ãˆã‚“ã©,0.05395896768196796)\n```\nCymbalsãªã‚“ã‹ã†ã¾ãã„ã£ã¦ã¾ã™ãŒã€ã‚¹ãƒ”ãƒƒãƒ„ã‚„å®‰å…¨åœ°å¸¯ã¯Wikipediaã®å…ƒè¨˜äº‹ã®é¸æŠã‚’å¤±æ•—ã—ã¦ã‚‹ã£ã½ã„ã§ã™ã­...\n\n###ã‚ªãƒ³ãƒ©ã‚¤ãƒ³\n- ä¸€ç”»é¢æ§‹æˆã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç­‰ã‚‚ä¸è¦ã®ãŸã‚ã€[REST APIã‚’ä½œæˆ](https://spring.io/guides/gs/rest-service/)ã—React + Reduxã‹ã‚‰fetchã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆ\n    - [ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/TEBASAKI/items/267c261db17f178e33eb)ã®ã‚ˆã†ã«ã€@RestControllerã‚’ä»˜ã‘ã‚‹ã ã‘ã§POJOã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¾ã§ã‚„ã£ã¦ã‚‚ã‚‰ãˆã‚‹ã®ã§å¤§å¤‰çˆ½å¿«ã§ã—ãŸ\n    - ãƒ‘ã‚¹ã‚„I/Fã®å®šç¾©ã¯[ã“ã¡ã‚‰](http://wp.tech-style.info/archives/683)ãŒå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚ï¼ˆäºˆå®šã¯ç„¡ã„ã§ã™ãŒï¼‰ä¾‹ãˆã°ãƒ•ãƒ­ãƒ³ãƒˆã«ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªãŒå¢—ãˆã¦ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ãªè¨­è¨ˆãŒã§ããŸã¨æ€ã„ã¾ã™\n    - APIã®å‹•ä½œç¢ºèªã«ã¯[Insomnia](https://insomnia.rest/)ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ä½¿ã„ã‚„ã™ãã¦ã„ã„æ„Ÿã˜ã§ã™\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®é¸æ›²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å…ƒã«Watson Discoveryã‚’æ¤œç´¢ã—ã€è¿”å´ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç´ã¥ããƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰å–å¾—ã—ã¦[JLayer](http://www.javazoom.net/javalayer/javalayer.html)ã§å†ç”Ÿ\n    - å…¨ã¦æ‰‹ã§ä½œã‚‹ã¨å¤§å¤‰ãªã‚ˆã†ã§ã™ãŒã€[BasicPlayerã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†](http://akameco.hatenablog.com/entry/2014/12/26/070721)ã¨ã€ä½•ã‚‚è€ƒãˆãªãã¦ã‚‚å‹æ‰‹ã«å‹•ãã¾ã™ã€‚æ›²ã®é †æ¬¡å†ç”Ÿã‚‚ã€å†ç”Ÿçµ‚äº†æ™‚ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä»•æ›ã‘ã¦ãŠãã ã‘ã§ç°¡å˜ã«å®Ÿç¾ã§ãã¾ã—ãŸ\n- æ–°ã—ããƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™»éŒ²ã•ã‚ŒãŸã‚Šã€æ¬¡ã®æ›²ãŒå†ç”Ÿã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç”»é¢ã‚’æ›´æ–°ã—ãŸã‹ã£ãŸã®ã§ã€[STOMP Over WebSocket](http://jmesnil.net/stomp-websocket/doc/)ã«ã¦é©å®œã‚½ã‚±ãƒƒãƒˆé€šä¿¡ã‚’å®Ÿæ–½\n    - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¯[ã“ã¡ã‚‰](http://spring-boot-camp.readthedocs.io/ja/latest/06-STOMP.html)ãŠã‚ˆã³[ã“ã¡ã‚‰](http://spring-boot-camp.readthedocs.io/ja/latest/07-STOMPOverWebSocket.html)ã§ã§ãã¾ã—ãŸã€‚ä¾‹ãˆã°ã€æ–°ã—ã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæŠ•ç¨¿ã•ã‚ŒãŸéš›ã«ã¯ã€ŒGET_REQUESTSã€ã¨ã„ã†æ–‡å­—åˆ—ã‚’é€ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å¯¾å¿œã™ã‚‹REST APIã‚’å©ã‹ã›ã‚‹...ã¨ã„ã†å½¢ã«ã—ã¦ã„ã¾ã™\n- ãƒãƒƒãƒæ©Ÿèƒ½(éŸ³æ¥½å–ã‚Šè¾¼ã¿/ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å­¦ç¿’)ã‚’èµ·å‹•ã™ã‚‹REST APIã‚’æä¾›\n    - ãƒãƒƒãƒã‚’ãã®ã¾ã¾Controllerã‹ã‚‰å‘¼ã³å‡ºã™ã¨åŒæœŸçš„ã«å‹•ã„ã¦ã—ã¾ã†ã®ã§ã€[applicationContext.xml](https://github.com/yktakaha4/watson-music/blob/master/src/main/resources/applicationContext.xml)ã§SimpleAsyncTaskExecutorã‚’ç®¡ç†Beanã«åŠ ãˆã¦ãŠãã¾ã™\n\n###DB\n[WWW SQL Designer](http://ondras.zarovi.cz/sql/demo/)ã§ERå›³ã½ã„ã‚‚ã®ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚ã»ã‚“ã¨ã«ä½•ã§ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ã§ãã¾ã™ã­...\n\n![ERå›³](https://qiita-image-store.s3.amazonaws.com/0/106259/6fa58833-d114-23ec-39a6-c49d245717ea.png)\nâ€»é‡è¦ãªåˆ—ã®ã¿æŠœç²‹\n\n- Discoveryã¯ã€æ—¢å­˜ã®æ–‡æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾å–ã‚Šè¾¼ã‚“ã§æ¤œç´¢ã™ã‚‹ã¨ã„ã†ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚é¸æŠå¯èƒ½ã§ã™ãŒã€ä»Šå›ã¯Mp3ã‹ã‚‰æ–‡æ›¸ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã€æ™®é€šã«RDBã‚’ä½¿ç”¨\n- musicã€music_tagã€artworkã«å¯¾ã—ã¦ã€Wikipediaç­‰ã‹ã‚‰textã¨ã—ã¦å–å¾—ã—ãŸæ–‡å­—æƒ…å ±ã‚’text_tagã«ã¦ç´ä»˜ã‘ã€musicæ¯ã«discoveryå…¬é–‹ç”¨ã®documentã‚’ç”Ÿæˆ\n    - ãƒãƒƒãƒèµ·å‹•æ™‚ã«missing_atã«æ—¥ä»˜ã‚’å…¥ã‚Œã€èµ°æŸ»ä¸­ã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ã®ã¿null -> è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚‚ã®ã¯discoveryã‚ˆã‚Šå‰Šé™¤ãªã©ã€ãã‚Œãªã‚Šã«å®Ÿé‹ç”¨ã‚’è€ƒãˆã¦è¨­è¨ˆã—ã¾ã—ãŸ\n    - cacheã¯ã€Wikipediaã‚„Visual Recognitionã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ãã£ã¦è¿·æƒ‘ãŒæ›ã‹ã£ãŸã‚Šèª²é‡‘ã•ã‚Œãªã„ã‚ˆã†ã€HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãŠããƒ†ãƒ¼ãƒ–ãƒ«ã«ãªã‚Šã¾ã™ã€‚å®Ÿé‹ç”¨æ™‚ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¾Œä¸€å®šæœŸé–“éããŸã‚‚ã®ã¯æ¶ˆã™...ãªã©ã—ã¦ã‚‚ã„ã„ã‹ã‚‚\n- requestã¯æ¤œç´¢æ–‡ã‚’ä¿æŒã€trackã¯æ¤œç´¢æ–‡ã«ã‚ˆã‚Šå†ç”Ÿã•ã‚ŒãŸæ›²ã‚’ä¿æŒã€feedbackã¯æ›²ã«å¯¾ã—ã¦æ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸãŒæŠ¼ã•ã‚ŒãŸæ•°ã‚’ä¿æŒ\n    - å­¦ç¿’å‡¦ç†æ™‚ã«ã€Œæ¤œç´¢æ–‡ã«å¯¾ã—ã¦ã€ã‚ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ(ä»Šå›ã¯æ›²)ãŒã©ã‚Œã ã‘ã®é–¢é€£åº¦(Discoveryã§ã¯æ•´æ•°å€¤)ã‚’æŒã¤ã‹ã€ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€‚é–¢é€£åº¦ã¯ãƒãƒƒãƒå†…ã§æ°—ã«å…¥ã£ãŸ/æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸã®å‰²åˆã§è¨ˆç®—ã—ã¾ã™\n- DDLå®Ÿè¡Œã¯ã€Spring Bootã®èµ·å‹•æ™‚ã«[sqlãƒ•ã‚¡ã‚¤ãƒ«ãŒå‘¼ã°ã‚Œã‚‹ã‚ˆã†ã«](https://github.com/yktakaha4/watson-music/blob/master/src/main/resources/applicationContext.xml)ã—ã¦å¯¾å¿œã—ã¾ã—ãŸã€‚ä»Šå›ã®ã‚ˆã†ã«PoCçš„ã«é–‹ç™ºã™ã‚‹ã«ã¯ã ã„ã¶ä¾¿åˆ©ã«æ€ãˆã¾ã—ãŸ\n\n##ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰\n\n- [Pingendo](https://pingendo.com/)ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ çµ„ã¿ã‚’ä½œæˆ\n    - ä»Šã¾ã§HTMLã¨CSSã¯åŸºæœ¬çš„ã«æ‰‹ã§æ›¸ã„ã¦ãŸã®ã§ã™ãŒã€éƒ¨å“ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã ã‘ã§ãƒ¡ã‚­ãƒ¡ã‚­ç”»é¢ãŒå‡ºæ¥ä¸ŠãŒã£ã¦ã„ãå¤§å¤‰æ¥½ã§ã—ãŸ\n        - ãŸã ã€æ‰‹ã§æ›¸ã„ãŸçµŒé¨“ãŒãªã‹ã£ãŸã‚‰å¾®ä¿®æ­£ãªã©ã¯é›£ã—ã„ã‚ˆã†ã«ã‚‚æ€ã„ã¾ã—ãŸ...\n- æ çµ„ã¿ãŒã§ããŸã‚‰ã€[Atom](https://atom.io/)ã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã¦ç”»é¢ã®éƒ¨å“ã”ã¨ã«Reactã«(å‹‰å¼·ã—ãªãŒã‚‰)ç§»æ¤\n    - åˆã‚ã¦è§¦ã‚Œã‚‹ã‚‚ã®ãªã®ã§èª­ã¿ç‰©ã‹ã‚‰å…¥ã‚ŠãŸã„ã¨æ€ã„ã€[Reacté–‹ç™º ç¾å ´ã®æ•™ç§‘æ›¸](https://www.amazon.co.jp/dp/B07BBGSHJS/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ã‚’è²·ã„ã¾ã—ãŸã€‚æ¦‚è¦ã‚„å‘¨è¾ºçŸ¥è­˜ã‚’åºƒãçŸ¥ã‚‹ã«ã¯ã¨ã¦ã‚‚ã‚ˆã„æœ¬ã¨æ€ã„ã¾ã™\n- Reactã«ç”»é¢ã‚’ç§»æ¤ã—ãŸã‚‰ã€Reduxã§å‹•ãã‚’ä»˜ã‘ã‚‹\n    - Redux-Sagaã‚‚å°å…¥ã—ãŸã®ã§ã™ãŒã€ç†è§£ã«ã‚ãŸã‚Š[ã“ã®æŠ•ç¨¿](https://qiita.com/kuy/items/716affc808ebb3e1e8ac)ã«å¤§å¤‰åŠ©ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚ã“ã‚ŒãŒãªã‹ã£ãŸã‚‰è«¦ã‚ã¦ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“...\n    - Node.jsã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯localhost:3000ã€tomcatã¯localhost:8080ã§ç«‹ã¡ä¸ŠãŒã‚‹ã®ã§ã€[Charles](https://www.charlesproxy.com/)ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‘ã‚¹ç­‰ã‚’é©å®œå¤‰æ›ã—ã¾ã—ãŸ\n        - [ã“ã¡ã‚‰ã®æŠ•ç¨¿](https://qiita.com/orzngo/items/76c95a4e3ff4c30b4d38)ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚ä»•äº‹ã§ä½¿ã£ã¦ã„ã‚‹[Fiddler](https://www.telerik.com/fiddler)ã¨æ¯”ã¹ã¦ã‚‚ä½¿ã„ã‚ˆãã€[ã¤ã„è³¼å…¥](https://www.charlesproxy.com/buy/purchase-charles-licenses/)ã—ã¦ã—ã¾ã„ã¾ã—ãŸğŸ’°\n    - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯[React Transition Group](https://reactcommunity.org/react-transition-group/)ã€ã‚½ã‚±ãƒƒãƒˆé€šä¿¡ã«ã¯[SockJS-client](https://github.com/sockjs/sockjs-client)ã¨[STOMP.js](https://github.com/jmesnil/stomp-websocket)ã€æ™‚åˆ»å‡¦ç†ã«[Moment.js](https://github.com/moment/moment-timezone)ã€fetchã®ãƒãƒªãƒ•ã‚£ãƒ«ã«[github/fetch](https://github.com/github/fetch)ãªã©ã€è‰²ã€…ã¨è§¦ã‚Œã¦å¤§å¤‰æ¥½ã—ã‹ã£ãŸã§ã™\n\n##å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹\n###Watson Discovery\n- ç’°å¢ƒæ§‹ç¯‰ã«ã¤ã„ã¦ã¯ã€[ã“ã¡ã‚‰ã®æŠ•ç¨¿](https://qiita.com/ishida330/items/bb1bd4cf61da9b9c6da2)ã‚’å‚è€ƒã«ã€ç’°å¢ƒä½œæˆ -> ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ -> æ—¥æœ¬èªåŒ– & ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆå‰Šé™¤ã¾ã§ã¯Webã®ãƒ„ãƒ¼ãƒ«ã‹ã‚‰è¡Œã„ã¾ã—ãŸ\n- Retrieve and Rankã¨æ¯”ã¹ã¦æ–™é‡‘ä½“ç³»ãŒå¤‰ã‚ã£ã¦ãŠã‚Šã€[ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³](https://console.bluemix.net/docs/services/discovery/pricing-details.html#discovery-)ã‚’ä½¿ãˆã°ãŠé‡‘ã¯ã‹ã‹ã‚Šã¾ã›ã‚“\n- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://console.bluemix.net/docs/services/discovery/getting-started.html#api-)ã‚‚æ—¥æœ¬èªã®ã¡ã‚ƒã‚“ã¨ã—ãŸã‚‚ã®ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã”ä¸€èª­ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚[ã“ã¡ã‚‰](https://console.bluemix.net/docs/services/discovery/query-reference.html#parameter-descriptions)ã¨ã‹ã€çµæ§‹å½¹ç«‹ã¤ã¨æ€ã„ã¾ã™\n    - [Apache Solr](http://lucene.apache.org/solr/)ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸç¨‹åº¦ã®ã‚‚ã®ã ã£ãŸR&Rã¨æ¯”ã¹ã¦ã€æ©Ÿèƒ½ã¯çµã‚‰ã‚ŒãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å…¨ä½“çš„ãªè¦ªåˆ‡ã•ã¯ã ã„ã¶å‘ä¸Šã—ãŸã‚ˆã†ã«æ„Ÿã˜ã¾ã™\n- ä¸€æ™‚æœŸã€å…¨ç„¶ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¥ã‚Œã¦ãªã„ã®ã«ä»¥ä¸‹ã®ä½¿ç”¨æ–™ã®è¡¨ç¤ºãŒã¶ã£å£Šã‚Œã¦å®¹é‡ã‚ªãƒ¼ãƒãƒ¼ã¿ãŸã„ãªè­¦å‘ŠãŒå‡ºã¦ã¦ã€æ€–ããªã£ã¦ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ã—ãŸã®ã§ã™ãŒã€ä»Šè¦‹ãŸã‚‰ç›´ã£ã¦ã¦ãªã‚“ãªã‚“ã ...ã¨æ€ã„ã¾ã—ãŸ\n\n![ä½¿ç”¨æ–™](https://qiita-image-store.s3.amazonaws.com/0/106259/70b9240a-5451-12bf-6f6d-2ad966ef25dc.png)\n\n###Watson Visual Recognition\n- DiscoveryåŒæ§˜ã€[ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³](https://www.ibm.com/watson/services/visual-recognition/pricing/index.html#pricing)ã§ååˆ†ãªãŸã‚ç„¡æ–™ã§ä½¿ãˆã¾ã™\n- Custom Classifierã‚’ä½œã‚‹è¦ä»¶ã§ã‚‚ãªã‹ã£ãŸã®ã§ã€IBM Cloudã«ã¦ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ² -> è³‡æ ¼æƒ…å ±ã®ç”Ÿæˆã ã‘ã§ã™ãã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ\n- è‚å¿ƒã®æˆ»ã‚Šå€¤ã¯ãªã‚“ã¨ã‚‚è¨€ãˆãªã„ã‚‚ã®ã§ã™...è‡ªåˆ†ã®ä½¿ã„æ–¹ãŒã‚ˆããªã„ã®ã‚‚åˆ†ã‹ã‚Šã¾ã™ãŒã€ã©ã†ã„ã†ä½¿ã„æ–¹ã‚’ã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ã‹...\n\nä¾‹ï¼š\n![c9f73f67.jpg](https://qiita-image-store.s3.amazonaws.com/0/106259/84a51c41-8881-ecbb-083a-2619a1a8bfa8.jpeg)\n\n```json:VisualRecognitionã®æˆ»ã‚Šå€¤\n{\n  \"images\" : [\n    {\n      \"image\" : \"90C031B45C058E5F56A002ADEC186787\",\n      \"classifiers\" : [\n        {\n          \"classes\" : [\n            {\n              \"score\" : 0.61599999999999999,\n              \"type_hierarchy\" : \"\\/äºº\\/äºº\\/å¤§äºº\",\n              \"class\" : \"å¤§äºº\"\n            },\n            {\n              \"score\" : 0.85499999999999998,\n              \"class\" : \"äºº\"\n            },\n            {\n              \"score\" : 0.51500000000000001,\n              \"type_hierarchy\" : \"\\/äºº\\/å¤–äº¤å®˜\",\n              \"class\" : \"å¤–äº¤å®˜\"\n            },\n            {\n              \"score\" : 0.5,\n              \"type_hierarchy\" : \"\\/äºº\\/å®˜å…¬å\",\n              \"class\" : \"å®˜å…¬å\"\n            },\n            {\n              \"score\" : 0.81599999999999995,\n              \"class\" : \"æ©™èµ¤è‰²\"\n            },\n            {\n              \"score\" : 0.39900000000000002,\n              \"class\" : \"ç¾¤é’è‰²\"\n            }\n          ],\n          \"classifier_id\" : \"default\",\n          \"name\" : \"default\"\n        }\n      ]\n    }\n  ],\n  \"custom_classes\" : 0,\n  \"images_processed\" : 1\n}\n```\n\n###Google Homeé–¢é€£\nä¸€é€šã‚Šã§ããŸã¨ã“ã‚ã§ã€æœ€å¾Œã«åŠæ—¥ã»ã©ã„ã˜ã£ãŸã‚‰æ™®é€šã«å‹•ã„ã¦ã³ã£ãã‚Šã—ã¾ã—ãŸğŸ˜²\nMP3ã‚’å†ç”Ÿã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ãŒã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«ä¹—ã£ã¦ã„ãŸã‚‰ã€IFTTTã‹ã‚‰ç›´æ¥REST APIã‚’å©ã...ã§ã‚‚ã‚ˆã‹ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€\nä»Šå›ã¯LAN(localhost)ä¸Šã«ã‚ã‚‹ã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å›ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚‹(ã‘ã©ã€å›ºå®šIPãªã‚“ã¦æŒã£ã¦ãªã„ã—ã¾ã—ã¦ã‚„ãƒãƒ¼ãƒˆãªã‚“ã¦é–‹ã‘ãŸããªã„)ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§ã€IoTã®ä¸–ç•Œã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‰ã—ã„[MQTT](http://devcenter.magellanic-clouds.com/learning/mqtt-spec.html)ã®ä»•çµ„ã¿ã‚’ä½¿ã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ\n(ä»Šæ›¸ããªãŒã‚‰èª¿ã¹ã¦ãŸã‚‰ã€[ã“ã†ã„ã†ã‚‚ã®](https://pusher.com/)ã‚‚ã‚ã‚‹ã‚“ã§ã™ã­...æ©Ÿä¼šãŒã‚ã‚Œã°è§¦ã£ã¦ã¿ãŸã„ã§ã™)\n\n- 1. Google Homeã‚’[iOSã‚¢ãƒ—ãƒª](https://itunes.apple.com/jp/app/google-home/id680819774?mt=8)ã‹ã‚‰Gmailã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ç´ä»˜ã‘\n- 2. [BeeBotte](https://beebotte.com/)ã«ã¦XSãƒ—ãƒ©ãƒ³ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã€‚watson_musicã®channelã‚’ä½œæˆ\n\n![Beebotte](https://qiita-image-store.s3.amazonaws.com/0/106259/ddbf3b7b-df12-7ce9-d16f-aa9a1da3d622.png)\n\n- 3. 1.ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§[IFTTT](https://ifttt.com/discover)ã«ç™»éŒ²ã—ã€Googleã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ -> Webhooksã§2.ã§ä½œã£ãŸchannelã«publishã™ã‚‹ãƒ¬ã‚·ãƒ”ã‚’ä½œæˆ\n    - 2.ã¨3.ã¯[ã“ã¡ã‚‰](https://qiita.com/msquare33/items/9f0312585bb4707c686b)ã®é€šã‚Šã«ã‚„ã£ãŸã‚‰ã™ãã§ãã¾ã—ãŸ\n    - ã€Œãƒ¯ãƒˆã‚½ãƒ³ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã«æŠ•ç¨¿ XXXã€ã ã¨ã€é•·ã„ã›ã„ã‹èªè­˜ã—ã¦ãã‚Œãªã‹ã£ãŸã®ã§ã€ã€Œãƒ¯ãƒˆã‚½ãƒ³ã«XXXã€ã«ã—ã¾ã—ãŸ\n\n![IFTTT](https://qiita-image-store.s3.amazonaws.com/0/106259/c724312b-eb25-b220-faa3-7712ec4a6bc6.png)\n\n```json:æŠ•ç¨¿JSON\n{\"data\":[{ \"text\" : \"{{TextField}}\", \"type\" : \"google_assistant\" }]}\n```\n```json:æ°—ã«å…¥ã£ãŸJSON\n{\"data\":[{ \"feedback\" : \"LIKE\", \"type\" : \"google_assistant\" }]}\n```\n```json:æ°—ã«å…¥ã‚‰ãªã‹ã£ãŸJSON\n{\"data\":[{ \"feedback\" : \"DISLIKE\", \"type\" : \"google_assistant\" }]}\n```\n\n- 4. Webã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«3.ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚’subscribeã™ã‚‹[Mqttã‚¯ãƒ©ã‚¹](https://github.com/yktakaha4/watson-music/blob/master/src/main/java/com/github/yktakaha4/watsonmusic/api/util/Mqtt.java)ã‚’ä½œæˆ\n    - å®Ÿè£…ã¯[paho](https://www.eclipse.org/paho/)ã§è¡Œã„ã¾ã—ãŸã€‚[ã“ã®æŠ•ç¨¿](https://qiita.com/shohei1913/items/b355ad7d1bb27141176b)ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™\n    - [ã“ã“](https://beebotte.com/docs/mqtt)ã«ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ãŒã€URLã«ã€Œssl://mqtt.beebotte.com:8883ã€ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ã€Œtoken:{2.ã®Channel Tokenã®å€¤}ã€ã‚’æŒ‡å®šã™ã‚‹ã¨æ¥ç¶šå¯èƒ½ã§ã™\n- 5. Google Homeã«ã€Œãƒ¯ãƒˆã‚½ãƒ³ã«æŠ•ç¨¿ XXXã€ã¨è©±ã—ã‹ã‘ã‚‹ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã¾ã™\n\n#æ‰€æ„Ÿ\n- 1æœˆã€œ3æœˆã«ãƒãƒƒãƒã€ï¼”æœˆã«Webã€ï¼•æœˆã«çµåˆ&ä»•ä¸Šã’ã€ã¨ã„ã†æ„Ÿã˜ã§ã§ãã¾ã—ãŸ\n    - æ™‚é–“ã¯æ¸¬ã£ã¦ã¾ã›ã‚“ãŒã€ä½“æ„Ÿ15äººæ—¥ã€œ20äººæ—¥ãã‚‰ã„ã‹ã‹ã£ãŸã‚ˆã†ãªæ°—ãŒã—ã¾ã™...ç–²ã‚Œã¾ã—ãŸ\n- å‰è¿°ã®é€šã‚Šã€ã‚ˆã»ã©ä½¿ã‚ãªã‘ã‚Œã°è²»ç”¨ã¯ã¾ãšã‹ã‹ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã€‚Watsonã®ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³ã¯ä¸€æœˆæ”¾ç½®ã™ã‚‹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå‰Šé™¤ã•ã‚Œã¦ã—ã¾ã†ã‚ˆã†ã§ã™ãŒ...\n- ã€Œãªã‚“ã§ã“ã®æ¤œç´¢æ–‡ã§ã“ã®æ›²ãªã‚“ã ã‚ã†...ã€ã¨ã„ã†ã‚‚ã®ã‚‚ã¾ã¾ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšã¡ã‚ƒã‚“ã¨å‹•ãã‚‚ã®ãŒã§ããŸã®ã§æº€è¶³ã§ã™ğŸœ\n    - Wikipediaã‚’~~ã§ãŸã‚‰ã‚ã«~~ç´ä»˜ã‘ã¦ã‚‹ã ã‘ã ã‹ã‚‰ã€å½“ç„¶ã®å¸°ç€ã¨ã‚‚è¨€ãˆã¾ã™ğŸ˜\n        - æ¬¡ã«éŸ³æ¥½ã‚’æ‰±ã†ãªã‚‰ã€æ¥½æ›²ã‹ã‚‰è¨€èªæƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹...ãã‚‰ã„ã®ã“ã¨ã‚’é ‘å¼µã‚‰ãªã„ã¨ã„ã‘ãªã„ãªã¨æ€ã„ã¾ã—ãŸ\n    - ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã—ãªã„ã¨ãƒ©ãƒ³ãƒ€ãƒ é¸æ›²ã—ã¾ã™ã®ã§ã€ã¨ã‚Šã‚ãˆãšã—ã°ã‚‰ãä½¿ã„ç¶šã‘ã‚ˆã†ã¨æ€ã„ã¾ã™ï¼ˆæœ¬æœ«è»¢å€’ï¼‰\n\n#ã‚½ãƒ¼ã‚¹\ngithubã«å…¬é–‹ã—ã¾ã—ãŸ:octocat:\n\nhttps://github.com/yktakaha4/watson-music\nhttps://github.com/yktakaha4/watson-music-web\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2018-05-16T00:06:30+09:00",
      "group": null,
      "id": "e535c310f0532798e721",
      "likes_count": 23,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 19,
      "tags": [
        {
          "name": "Java",
          "versions": []
        },
        {
          "name": "Watson",
          "versions": []
        },
        {
          "name": "React",
          "versions": []
        },
        {
          "name": "SpringBoot",
          "versions": []
        },
        {
          "name": "GoogleHome",
          "versions": []
        }
      ],
      "title": "Watson Discovery + Google Home + Spring Boot + Reactã§ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ï¼ˆã‚½ãƒ¼ã‚¹ä»˜ãï¼‰",
      "updated_at": "2018-05-16T21:25:05+09:00",
      "url": "https://qiita.com/yktakaha4/items/e535c310f0532798e721",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"çµŒç·¯\" class=\"fragment\"></span><a href=\"#%E7%B5%8C%E7%B7%AF\"><i class=\"fa fa-link\"></i></a>çµŒç·¯</h1>\n\n<p><a href=\"http://www.jthink.net/jaudiotagger/\" rel=\"nofollow noopener\" target=\"_blank\">jaudiotagger</a>ã‚’ä½¿ã£ã¦MP3ã‚¿ã‚°ã‚’èª­ã¿è¾¼ã‚“ã§DBã«ç™»éŒ²ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€æ–‡å­—åŒ–ã‘ã—ã¦ã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã€å¾©å…ƒå‡¦ç†ã‚’æ›¸ãã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"è€ƒãˆæ–¹\" class=\"fragment\"></span><a href=\"#%E8%80%83%E3%81%88%E6%96%B9\"><i class=\"fa fa-link\"></i></a>è€ƒãˆæ–¹</h1>\n\n<p><a href=\"http://ltside.com/enc/\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã®ã‚µã‚¤ãƒˆ</a>ã§è©¦ã—ã¦ã€ã“ã†ã„ã†äº‹ã ã¨ç†è§£ã—ãŸã‚“ã§ã™ãŒã€é•ã£ãŸã‚‰ã™ã„ã¾ã›ã‚“...</p>\n\n<ul>\n<li>\n<p>UTF-8ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿(MP3ã‚¿ã‚°) â†’ UTF-8ã§ãƒ‡ã‚³ãƒ¼ãƒ‰(jaudiotagger) â†’ æ–‡å­—åˆ—(Javaã®ä¸–ç•Œã€‚UTF-8)</p>\n\n<ul>\n<li>OK æ­£ã—ãèª­ã¿è¾¼ã‚ã‚‹</li>\n</ul>\n</li>\n<li>\n<p>MS932ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ–‡å­—åˆ— â†’ ISO-8859-1ã§ãƒ‡ã‚³ãƒ¼ãƒ‰(ãƒã‚°ï¼Ÿ) â†’ æ–‡å­—åˆ—</p>\n\n<ul>\n<li>NG æ–‡å­—åŒ–ã‘ã™ã‚‹ï¼ˆUTF-8ã§è¡¨ç¾ã—ãŸå ´åˆã®è¦‹ãŸç›®ã«åŒ–ã‘ã‚‹ï¼‰</li>\n<li>åŒ–ã‘ãŸæ–‡å­—åˆ—ã‚’ISO-8859-1ã§ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã€MS932ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚Œã°ã‚ˆã„</li>\n</ul>\n</li>\n</ul>\n\n<p>å…ƒã€…Windowsã‚’ä½¿ã£ã¦ãŠã‚Šã€MP3ã‚¿ã‚°ã‚¨ãƒ‡ã‚£ã‚¿ã‚‚è‰²ã€…è©¦ã—ãŸã‚ˆã†ã«æ€ã†ã®ã§ã€å¤ã„ã‚¿ã‚°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚‚ã®ãŒç´›ã‚Œã¦ã„ã¦èµ·ã“ã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™ã€‚iTunesã ã¨æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã™ãŒ...</p>\n\n<h1>\n<span id=\"å®Ÿè£…\" class=\"fragment\"></span><a href=\"#%E5%AE%9F%E8%A3%85\"><i class=\"fa fa-link\"></i></a>å®Ÿè£…</h1>\n\n<ul>\n<li>\n<p>ãƒ‡ã‚³ãƒ¼ãƒ‰/ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ç„¡æ•°ã«è€ƒãˆã‚‰ã‚Œã‚‹ãŒã€æ—¥æœ¬èªã‚’æ–‡å­—ç¯„å›²ã«å«ã‚€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã«çµã‚Œã°é«˜ã€…æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ ^ 2</p>\n\n<ul>\n<li>ä»Šå›ã¯UTF-8ã€MS932(Windows-31J)ã€ISO-8859-1ã‚’è©¦ã›ã°ååˆ†ã§ã—ãŸ</li>\n</ul>\n</li>\n<li>\n<p>ãƒ‡ã‚³ãƒ¼ãƒ‰/ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã§ããŸæ–‡å­—åˆ—ã®ã†ã¡ã€ã©ã‚ŒãŒä¸€ç•ªæ­£ã—ãå¤‰æ›ã§ãã¦ã„ã‚‹ã‹åˆ¤å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹</p>\n\n<ul>\n<li>ä»Šå›ã¯MP3ã‚¿ã‚°ã®è§£æã®ãŸã‚ã€MP3ã®ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆã ã„ãŸã„æ›²åï¼‰ãŠã‚ˆã³æ ¼ç´ãƒ‘ã‚¹ï¼ˆã ã„ãŸã„ã‚¢ãƒ«ãƒãƒ åã‚„ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåï¼‰ã«å«ã¾ã‚Œã‚‹æ–‡å­—ã¨ã®é¡ä¼¼åº¦ã‚’è¨ˆæ¸¬ã—ã€ã‚‚ã£ã¨ã‚‚é«˜ã„ã‚‚ã®ã‚’æ¡ç”¨\n\n<ul>\n<li>å¼•æ•°ã§æ¸¡ã—ã¦ã‚‹hintsã«ãªã‚Šã¾ã™</li>\n</ul>\n</li>\n<li>é¡ä¼¼åº¦åˆ¤å®šã«ã¤ã„ã¦ã¯ã€<a href=\"https://qiita.com/ssaito/items/aae5522618d4296c5178\" id=\"reference-66021a86dba71284eba6\">ã‚„ã¯ã‚Šãƒ©ã‚¤ãƒ–ãƒ©ãƒª</a>ã‚’ä½¿ç”¨\n\n<ul>\n<li>ä»Šå›ã¯åˆ¤å®šå…ƒã®æ–‡å­—ãŒç°¡å˜ã«ç”¨æ„ã§ããŸã‹ã‚‰ã‚ˆã‹ã£ãŸã§ã™ãŒã€ç„¡ã„å ´åˆã¯ã©ã†ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã‹ã­...</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"java\">\n<div class=\"code-lang\"><span class=\"bold\">CharacterEncoder.java</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kn\">package</span> <span class=\"nn\">com.github.yktakaha4.watsonmusic.util</span><span class=\"o\">;</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">java.nio.charset.Charset</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.Arrays</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.Collection</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.Comparator</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.List</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">java.util.stream.Collectors</span><span class=\"o\">;</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">org.apache.commons.lang3.tuple.Pair</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">org.apache.lucene.search.spell.LevensteinDistance</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">org.apache.lucene.search.spell.StringDistance</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">org.mozilla.universalchardet.UniversalDetector</span><span class=\"o\">;</span>\n<span class=\"kn\">import</span> <span class=\"nn\">org.springframework.stereotype.Component</span><span class=\"o\">;</span>\n\n<span class=\"nd\">@Component</span>\n<span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">CharacterEncoder</span> <span class=\"o\">{</span>\n  <span class=\"kd\">private</span> <span class=\"kd\">final</span> <span class=\"nc\">List</span><span class=\"o\">&lt;</span><span class=\"nc\">Charset</span><span class=\"o\">&gt;</span> <span class=\"n\">charsets</span> <span class=\"o\">=</span> <span class=\"nc\">Arrays</span><span class=\"o\">.</span><span class=\"na\">asList</span><span class=\"o\">(</span><span class=\"s\">\"utf-8\"</span><span class=\"o\">,</span> <span class=\"s\">\"windows-31j\"</span><span class=\"o\">,</span> <span class=\"s\">\"iso-8859-1\"</span><span class=\"o\">).</span><span class=\"na\">stream</span><span class=\"o\">()</span>\n      <span class=\"o\">.</span><span class=\"na\">map</span><span class=\"o\">(</span><span class=\"nl\">Charset:</span><span class=\"o\">:</span><span class=\"n\">forName</span><span class=\"o\">)</span>\n      <span class=\"o\">.</span><span class=\"na\">collect</span><span class=\"o\">(</span><span class=\"nc\">Collectors</span><span class=\"o\">.</span><span class=\"na\">toList</span><span class=\"o\">());</span>\n\n  <span class=\"kd\">public</span> <span class=\"nc\">String</span> <span class=\"nf\">encodeWithHints</span><span class=\"o\">(</span><span class=\"nc\">String</span> <span class=\"n\">string</span><span class=\"o\">,</span> <span class=\"nc\">Collection</span><span class=\"o\">&lt;</span><span class=\"nc\">String</span><span class=\"o\">&gt;</span> <span class=\"n\">hints</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"nc\">StringDistance</span> <span class=\"n\">dist</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nc\">LevensteinDistance</span><span class=\"o\">();</span>\n\n    <span class=\"nc\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"s\">\"original: \"</span> <span class=\"o\">+</span> <span class=\"n\">string</span><span class=\"o\">);</span>\n    <span class=\"k\">return</span> <span class=\"n\">charsets</span><span class=\"o\">.</span><span class=\"na\">stream</span><span class=\"o\">().</span><span class=\"na\">flatMap</span><span class=\"o\">((</span><span class=\"n\">decode</span><span class=\"o\">)</span> <span class=\"o\">-&gt;</span> <span class=\"o\">{</span>\n      <span class=\"k\">return</span> <span class=\"n\">charsets</span><span class=\"o\">.</span><span class=\"na\">stream</span><span class=\"o\">().</span><span class=\"na\">map</span><span class=\"o\">((</span><span class=\"n\">encode</span><span class=\"o\">)</span> <span class=\"o\">-&gt;</span> <span class=\"o\">{</span>\n        <span class=\"nc\">String</span> <span class=\"n\">encoded</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nc\">String</span><span class=\"o\">(</span><span class=\"n\">string</span><span class=\"o\">.</span><span class=\"na\">getBytes</span><span class=\"o\">(</span><span class=\"n\">decode</span><span class=\"o\">),</span> <span class=\"n\">encode</span><span class=\"o\">);</span>\n        <span class=\"nc\">Float</span> <span class=\"n\">distance</span> <span class=\"o\">=</span> <span class=\"n\">hints</span><span class=\"o\">.</span><span class=\"na\">stream</span><span class=\"o\">().</span><span class=\"na\">map</span><span class=\"o\">((</span><span class=\"n\">hint</span><span class=\"o\">)</span> <span class=\"o\">-&gt;</span> <span class=\"o\">{</span>\n          <span class=\"k\">return</span> <span class=\"n\">dist</span><span class=\"o\">.</span><span class=\"na\">getDistance</span><span class=\"o\">(</span><span class=\"n\">encoded</span><span class=\"o\">,</span> <span class=\"n\">hint</span><span class=\"o\">);</span>\n\n        <span class=\"o\">}).</span><span class=\"na\">max</span><span class=\"o\">(</span><span class=\"nc\">Comparator</span><span class=\"o\">.</span><span class=\"na\">naturalOrder</span><span class=\"o\">()).</span><span class=\"na\">orElse</span><span class=\"o\">(</span><span class=\"mf\">0.0f</span><span class=\"o\">);</span>\n        <span class=\"nc\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"s\">\"decode: \"</span> <span class=\"o\">+</span> <span class=\"n\">decode</span> <span class=\"o\">+</span> <span class=\"s\">\",encode: \"</span> <span class=\"o\">+</span> <span class=\"n\">encode</span> <span class=\"o\">+</span> <span class=\"s\">\", encoded: \"</span> <span class=\"o\">+</span> <span class=\"n\">encoded</span> <span class=\"o\">+</span> <span class=\"s\">\",distance: \"</span> <span class=\"o\">+</span> <span class=\"n\">distance</span><span class=\"o\">);</span>\n\n        <span class=\"k\">return</span> <span class=\"nc\">Pair</span><span class=\"o\">.</span><span class=\"na\">of</span><span class=\"o\">(</span><span class=\"n\">encoded</span><span class=\"o\">,</span> <span class=\"n\">distance</span><span class=\"o\">);</span>\n      <span class=\"o\">});</span>\n    <span class=\"o\">}).</span><span class=\"na\">max</span><span class=\"o\">((</span><span class=\"n\">l</span><span class=\"o\">,</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">-&gt;</span> <span class=\"o\">{</span>\n      <span class=\"k\">return</span> <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"na\">getRight</span><span class=\"o\">().</span><span class=\"na\">compareTo</span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"o\">.</span><span class=\"na\">getRight</span><span class=\"o\">());</span>\n\n    <span class=\"o\">}).</span><span class=\"na\">get</span><span class=\"o\">().</span><span class=\"na\">getLeft</span><span class=\"o\">();</span>\n  <span class=\"o\">}</span>\n\n  <span class=\"kd\">public</span> <span class=\"nc\">String</span> <span class=\"nf\">encode</span><span class=\"o\">(</span><span class=\"nc\">String</span> <span class=\"n\">string</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"kt\">byte</span><span class=\"o\">[]</span> <span class=\"n\">source</span> <span class=\"o\">=</span> <span class=\"n\">string</span><span class=\"o\">.</span><span class=\"na\">getBytes</span><span class=\"o\">();</span>\n    <span class=\"nc\">UniversalDetector</span> <span class=\"n\">universalDetector</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nc\">UniversalDetector</span><span class=\"o\">(</span><span class=\"kc\">null</span><span class=\"o\">);</span>\n    <span class=\"n\">universalDetector</span><span class=\"o\">.</span><span class=\"na\">handleData</span><span class=\"o\">(</span><span class=\"n\">source</span><span class=\"o\">,</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">source</span><span class=\"o\">.</span><span class=\"na\">length</span><span class=\"o\">);</span>\n\n    <span class=\"nc\">String</span> <span class=\"n\">charsetName</span> <span class=\"o\">=</span> <span class=\"n\">universalDetector</span><span class=\"o\">.</span><span class=\"na\">getDetectedCharset</span><span class=\"o\">();</span>\n    <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">charsetName</span> <span class=\"o\">!=</span> <span class=\"kc\">null</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n      <span class=\"k\">return</span> <span class=\"k\">new</span> <span class=\"nf\">String</span><span class=\"o\">(</span><span class=\"n\">source</span><span class=\"o\">,</span> <span class=\"nc\">Charset</span><span class=\"o\">.</span><span class=\"na\">forName</span><span class=\"o\">(</span><span class=\"n\">charsetName</span><span class=\"o\">));</span>\n\n    <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n      <span class=\"k\">return</span> <span class=\"n\">string</span><span class=\"o\">;</span>\n\n    <span class=\"o\">}</span>\n\n  <span class=\"o\">}</span>\n\n<span class=\"o\">}</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">å‡¦ç†çµæœ</span></div>\n<div class=\"highlight\"><pre><code>original: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~\ndecode: UTF-8,encode: UTF-8, encoded: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~,distance: 0.64102566\ndecode: UTF-8,encode: windows-31j, encoded: ï¾‚ã¤ï½³ï¾‚ã¤ï½©ï¾‚ã¤ï¿½ï¾‚ã¤ï½ªï¾‚ã¥ï½¨~Toothache and Chocolate~,distance: 0.525\ndecode: UTF-8,encode: ISO-8859-1, encoded: Ã‚Â‚Ã‚Â³Ã‚Â‚Ã‚Â©Ã‚Â‚Ã‚Â Ã‚Â‚Ã‚ÂªÃ‚Â‚ÃƒÂ¨~Toothache and Chocolate~,distance: 0.46666664\ndecode: windows-31j,encode: UTF-8, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: windows-31j,encode: windows-31j, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: windows-31j,encode: ISO-8859-1, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: ISO-8859-1,encode: UTF-8, encoded: ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½~Toothache and Chocolate~,distance: 0.64102566\ndecode: ISO-8859-1,encode: windows-31j, encoded: ã•ã‹ã‚ãŒã‚Š~Toothache and Chocolate~,distance: 0.7692308\ndecode: ISO-8859-1,encode: ISO-8859-1, encoded: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~,distance: 0.64102566\n</code></pre></div>\n</div>\n\n<p>encodeé–¢æ•°ã®æ–¹ã¯é–¢ä¿‚ãªã„ã®ã§ç„¡è¦–ã—ã¦ãã ã•ã„ã€‚</p>\n\n<h1>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h1>\n\n<p>StreamAPIãŒä½¿ãˆãŸã¨ã“ã‚ãŒæ°—æŒã¡ã‚ˆã‹ã£ãŸï¼ˆå°ä¸¦ï¼‰</p>\n",
      "body": "# çµŒç·¯\n[jaudiotagger](http://www.jthink.net/jaudiotagger/)ã‚’ä½¿ã£ã¦MP3ã‚¿ã‚°ã‚’èª­ã¿è¾¼ã‚“ã§DBã«ç™»éŒ²ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€æ–‡å­—åŒ–ã‘ã—ã¦ã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã€å¾©å…ƒå‡¦ç†ã‚’æ›¸ãã¾ã—ãŸã€‚\n\n# è€ƒãˆæ–¹\n[ã“ã®ã‚µã‚¤ãƒˆ](http://ltside.com/enc/)ã§è©¦ã—ã¦ã€ã“ã†ã„ã†äº‹ã ã¨ç†è§£ã—ãŸã‚“ã§ã™ãŒã€é•ã£ãŸã‚‰ã™ã„ã¾ã›ã‚“...\n\n- UTF-8ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿(MP3ã‚¿ã‚°) â†’ UTF-8ã§ãƒ‡ã‚³ãƒ¼ãƒ‰(jaudiotagger) â†’ æ–‡å­—åˆ—(Javaã®ä¸–ç•Œã€‚UTF-8)\n    - OK æ­£ã—ãèª­ã¿è¾¼ã‚ã‚‹\n\n- MS932ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ–‡å­—åˆ— â†’ ISO-8859-1ã§ãƒ‡ã‚³ãƒ¼ãƒ‰(ãƒã‚°ï¼Ÿ) â†’ æ–‡å­—åˆ—\n    - NG æ–‡å­—åŒ–ã‘ã™ã‚‹ï¼ˆUTF-8ã§è¡¨ç¾ã—ãŸå ´åˆã®è¦‹ãŸç›®ã«åŒ–ã‘ã‚‹ï¼‰\n    - åŒ–ã‘ãŸæ–‡å­—åˆ—ã‚’ISO-8859-1ã§ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã€MS932ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚Œã°ã‚ˆã„\n\nå…ƒã€…Windowsã‚’ä½¿ã£ã¦ãŠã‚Šã€MP3ã‚¿ã‚°ã‚¨ãƒ‡ã‚£ã‚¿ã‚‚è‰²ã€…è©¦ã—ãŸã‚ˆã†ã«æ€ã†ã®ã§ã€å¤ã„ã‚¿ã‚°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚‚ã®ãŒç´›ã‚Œã¦ã„ã¦èµ·ã“ã£ãŸã‚‚ã®ã¨æ€ã„ã¾ã™ã€‚iTunesã ã¨æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã™ãŒ...\n\n# å®Ÿè£…\n- ãƒ‡ã‚³ãƒ¼ãƒ‰/ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ç„¡æ•°ã«è€ƒãˆã‚‰ã‚Œã‚‹ãŒã€æ—¥æœ¬èªã‚’æ–‡å­—ç¯„å›²ã«å«ã‚€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã«çµã‚Œã°é«˜ã€…æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ ^ 2\n    - ä»Šå›ã¯UTF-8ã€MS932(Windows-31J)ã€ISO-8859-1ã‚’è©¦ã›ã°ååˆ†ã§ã—ãŸ\n\n- ãƒ‡ã‚³ãƒ¼ãƒ‰/ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã§ããŸæ–‡å­—åˆ—ã®ã†ã¡ã€ã©ã‚ŒãŒä¸€ç•ªæ­£ã—ãå¤‰æ›ã§ãã¦ã„ã‚‹ã‹åˆ¤å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n    - ä»Šå›ã¯MP3ã‚¿ã‚°ã®è§£æã®ãŸã‚ã€MP3ã®ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆã ã„ãŸã„æ›²åï¼‰ãŠã‚ˆã³æ ¼ç´ãƒ‘ã‚¹ï¼ˆã ã„ãŸã„ã‚¢ãƒ«ãƒãƒ åã‚„ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåï¼‰ã«å«ã¾ã‚Œã‚‹æ–‡å­—ã¨ã®é¡ä¼¼åº¦ã‚’è¨ˆæ¸¬ã—ã€ã‚‚ã£ã¨ã‚‚é«˜ã„ã‚‚ã®ã‚’æ¡ç”¨\n        - å¼•æ•°ã§æ¸¡ã—ã¦ã‚‹hintsã«ãªã‚Šã¾ã™\n    - é¡ä¼¼åº¦åˆ¤å®šã«ã¤ã„ã¦ã¯ã€[ã‚„ã¯ã‚Šãƒ©ã‚¤ãƒ–ãƒ©ãƒª](https://qiita.com/ssaito/items/aae5522618d4296c5178)ã‚’ä½¿ç”¨\n        - ä»Šå›ã¯åˆ¤å®šå…ƒã®æ–‡å­—ãŒç°¡å˜ã«ç”¨æ„ã§ããŸã‹ã‚‰ã‚ˆã‹ã£ãŸã§ã™ãŒã€ç„¡ã„å ´åˆã¯ã©ã†ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã‹ã­...\n\n```java:CharacterEncoder.java\npackage com.github.yktakaha4.watsonmusic.util;\n\nimport java.nio.charset.Charset;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.apache.commons.lang3.tuple.Pair;\nimport org.apache.lucene.search.spell.LevensteinDistance;\nimport org.apache.lucene.search.spell.StringDistance;\nimport org.mozilla.universalchardet.UniversalDetector;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CharacterEncoder {\n  private final List<Charset> charsets = Arrays.asList(\"utf-8\", \"windows-31j\", \"iso-8859-1\").stream()\n      .map(Charset::forName)\n      .collect(Collectors.toList());\n\n  public String encodeWithHints(String string, Collection<String> hints) {\n    StringDistance dist = new LevensteinDistance();\n\n    System.out.println(\"original: \" + string);\n    return charsets.stream().flatMap((decode) -> {\n      return charsets.stream().map((encode) -> {\n        String encoded = new String(string.getBytes(decode), encode);\n        Float distance = hints.stream().map((hint) -> {\n          return dist.getDistance(encoded, hint);\n\n        }).max(Comparator.naturalOrder()).orElse(0.0f);\n        System.out.println(\"decode: \" + decode + \",encode: \" + encode + \", encoded: \" + encoded + \",distance: \" + distance);\n\n        return Pair.of(encoded, distance);\n      });\n    }).max((l, r) -> {\n      return l.getRight().compareTo(r.getRight());\n\n    }).get().getLeft();\n  }\n\n  public String encode(String string) {\n    byte[] source = string.getBytes();\n    UniversalDetector universalDetector = new UniversalDetector(null);\n    universalDetector.handleData(source, 0, source.length);\n\n    String charsetName = universalDetector.getDetectedCharset();\n    if (charsetName != null) {\n      return new String(source, Charset.forName(charsetName));\n\n    } else {\n      return string;\n\n    }\n\n  }\n\n}\n```\n\n\n\n```text:å‡¦ç†çµæœ\noriginal: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~\ndecode: UTF-8,encode: UTF-8, encoded: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~,distance: 0.64102566\ndecode: UTF-8,encode: windows-31j, encoded: ï¾‚ã¤ï½³ï¾‚ã¤ï½©ï¾‚ã¤ï¿½ï¾‚ã¤ï½ªï¾‚ã¥ï½¨~Toothache and Chocolate~,distance: 0.525\ndecode: UTF-8,encode: ISO-8859-1, encoded: Ã‚Â‚Ã‚Â³Ã‚Â‚Ã‚Â©Ã‚Â‚Ã‚Â Ã‚Â‚Ã‚ÂªÃ‚Â‚ÃƒÂ¨~Toothache and Chocolate~,distance: 0.46666664\ndecode: windows-31j,encode: UTF-8, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: windows-31j,encode: windows-31j, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: windows-31j,encode: ISO-8859-1, encoded: ??????????~Toothache and Chocolate~,distance: 0.64102566\ndecode: ISO-8859-1,encode: UTF-8, encoded: ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½~Toothache and Chocolate~,distance: 0.64102566\ndecode: ISO-8859-1,encode: windows-31j, encoded: ã•ã‹ã‚ãŒã‚Š~Toothache and Chocolate~,distance: 0.7692308\ndecode: ISO-8859-1,encode: ISO-8859-1, encoded: Â‚Â³Â‚Â©Â‚Â Â‚ÂªÂ‚Ã¨~Toothache and Chocolate~,distance: 0.64102566\n```\n\nencodeé–¢æ•°ã®æ–¹ã¯é–¢ä¿‚ãªã„ã®ã§ç„¡è¦–ã—ã¦ãã ã•ã„ã€‚\n\n# ã¾ã¨ã‚\nStreamAPIãŒä½¿ãˆãŸã¨ã“ã‚ãŒæ°—æŒã¡ã‚ˆã‹ã£ãŸï¼ˆå°ä¸¦ï¼‰\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2018-02-11T12:25:24+09:00",
      "group": null,
      "id": "8cf9bc4b1910f0b5ca45",
      "likes_count": 1,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 1,
      "tags": [
        {
          "name": "Java",
          "versions": []
        },
        {
          "name": "MP3",
          "versions": []
        }
      ],
      "title": "åŒ–ã‘ãŸMP3ã‚¿ã‚°æ–‡å­—ã‚’é¡ä¼¼åº¦æ¸¬å®šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã¤ã¤å…ƒã«æˆ»ã—ãŸ",
      "updated_at": "2018-02-11T12:25:24+09:00",
      "url": "https://qiita.com/yktakaha4/items/8cf9bc4b1910f0b5ca45",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "<p><a href=\"https://itunes.apple.com/jp/app/comparemerge/id478570084\" rel=\"nofollow noopener\" target=\"_blank\">CompareMerge</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä¸Šã€ä»¥ä¸‹ã§å‹•ãã¾ã—ãŸã€‚<br>\næƒ…å ±ãŒè¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã®ã§æ›¸ã„ã¦ãŠãã¾ã™ã€‚<br>\nï¼ˆSVNãªã‚“ã¦ä½¿ã‚ãªã„ã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã‹...ï¼‰</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>-a /Applications/CompareMerge.app ${base} ${mine}\n</code></pre></div></div>\n\n<p>ç’°å¢ƒè¨­å®š &gt; ãƒãƒ¼ãƒ  &gt; SVN &gt; Diff ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼<br>\n<a href=\"https://camo.qiitausercontent.com/d1accad64993d97e67d55f1bd37b61b1c6d26551/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f62656133616563372d323432362d393739652d633866652d3963613433383463653433632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"472\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fbea3aec7-2426-979e-c8fe-9ca4384ce43c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5bcebfaa79da233a0f77e9d194459a69\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/bea3aec7-2426-979e-c8fe-9ca4384ce43c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fbea3aec7-2426-979e-c8fe-9ca4384ce43c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1771c776399e3330d1cc1126add2f619 1x\" loading=\"lazy\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d80389aab7f94542ab297618389717f123588e65/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f66363530383039622d343333662d636664612d353164372d6533356565643965326437312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"1255\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Ff650809b-433f-cfda-51d7-e35eed9e2d71.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5dab5af3cbd2027403822506212ad80f\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/f650809b-433f-cfda-51d7-e35eed9e2d71.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Ff650809b-433f-cfda-51d7-e35eed9e2d71.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ff59dbf53622b44412fe80c04a54ca9b 1x\" loading=\"lazy\"></a></p>\n",
      "body": "[CompareMerge](https://itunes.apple.com/jp/app/comparemerge/id478570084)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä¸Šã€ä»¥ä¸‹ã§å‹•ãã¾ã—ãŸã€‚\næƒ…å ±ãŒè¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã®ã§æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nï¼ˆSVNãªã‚“ã¦ä½¿ã‚ãªã„ã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã‹...ï¼‰\n\n```text\n-a /Applications/CompareMerge.app ${base} ${mine}\n```\n\nç’°å¢ƒè¨­å®š > ãƒãƒ¼ãƒ  > SVN > Diff ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼\n<img width=\"472\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/bea3aec7-2426-979e-c8fe-9ca4384ce43c.png\">\n\n<img width=\"1255\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/f650809b-433f-cfda-51d7-e35eed9e2d71.png\">\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2017-12-29T12:55:54+09:00",
      "group": null,
      "id": "8cd0ddc993ff9b7cd502",
      "likes_count": 0,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 1,
      "tags": [
        {
          "name": "Eclipse",
          "versions": []
        },
        {
          "name": "MacOSX",
          "versions": []
        },
        {
          "name": "CompareMerge",
          "versions": []
        }
      ],
      "title": "Macã®Eclipseã«ã¦CompareMergeã§SVNæ¯”è¼ƒã™ã‚‹",
      "updated_at": "2017-12-29T12:55:54+09:00",
      "url": "https://qiita.com/yktakaha4/items/8cd0ddc993ff9b7cd502",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ç™ºç«¯\" class=\"fragment\"></span><a href=\"#%E7%99%BA%E7%AB%AF\"><i class=\"fa fa-link\"></i></a>ç™ºç«¯</h1>\n\n<p>ã¡ã‚‡ã£ã¨ã—ãŸèª¿ã¹ç‰©ã®åº¦ã«Chromeã®ã‚¿ãƒ–ãŒå¢—ãˆã¦ã„ãã®ã‚’æ†‚ã„ã§å…ˆæ—¥<a href=\"https://kapeli.com/dash\" rel=\"nofollow noopener\" target=\"_blank\">Dash</a>ã‚’å°å…¥ã—ãŸã®ã§ã™ãŒã€<br>\nè‹±èªã®ã§ããªã„ç­†è€…ã«ã¨ã£ã¦æ¬ ã‹ã›ãªã„<a href=\"https://chrome.google.com/webstore/detail/google-translate/aapbdbdomjkkjkaonfhkkikfgjllcleb?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">ç¿»è¨³ã‚¢ãƒ‰ã‚¤ãƒ³</a>çš„ãªæ©Ÿèƒ½ãŒãªã‹ã£ãŸã®ã§ã€ä½œã£ã¦ã¿ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"ä½œã‚Šæ–¹\" class=\"fragment\"></span><a href=\"#%E4%BD%9C%E3%82%8A%E6%96%B9\"><i class=\"fa fa-link\"></i></a>ä½œã‚Šæ–¹</h1>\n\n<h2>\n<span id=\"automator\" class=\"fragment\"></span><a href=\"#automator\"><i class=\"fa fa-link\"></i></a>Automator</h2>\n\n<ul>\n<li>Spotlight &gt; Automator &gt; <a href=\"http://nicomelmo.blog118.fc2.com/blog-entry-929.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚„<a href=\"http://shellscript.sunone.me/filter_sed.html#%E8%A1%8C%E9%A0%AD%E3%81%AB%E6%96%87%E5%AD%97%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’å‚è€ƒã«ã—ã¤ã¤ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ä»»æ„ã®åå‰ã§ä¿å­˜</li>\n<li>ãªãŠä½œæˆã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã«ã§ãã‚‹ã€‚ã‚ã‹ã‚Šã¥ã‚‰ã„ã\n\n<ul>\n<li>/Users/ãƒ¦ãƒ¼ã‚¶å/Library/Servicies/xxx.workflow</li>\n</ul>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/83da8b5d910d43e3cd29ad4e2ecec7fc106012f3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f64343434626439382d303965612d373662662d336438302d3133373862323535313033352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"618\" alt=\"automator.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd444bd98-09ea-76bf-3d80-1378b2551035.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8e317f20854b64a6569d0c3dc40fdb11\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d444bd98-09ea-76bf-3d80-1378b2551035.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd444bd98-09ea-76bf-3d80-1378b2551035.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2215936f9fce4a065e36fe788e70638a 1x\" loading=\"lazy\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"bash\">\n<div class=\"code-lang\"><span class=\"bold\">bash</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nb\">cat</span> | perl <span class=\"nt\">-MURI</span>::Escape <span class=\"nt\">-lne</span> <span class=\"s1\">'print uri_escape($_)'</span> | <span class=\"nb\">sed</span> <span class=\"nt\">-e</span> <span class=\"s1\">'s/^/https:\\/\\/translate.google.com\\/?source=gtx_c#auto\\/ja\\//g'</span>\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ\" class=\"fragment\"></span><a href=\"#%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%AB%E3%83%83%E3%83%88\"><i class=\"fa fa-link\"></i></a>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</h2>\n\n<ul>\n<li>Spotlight &gt; ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ &gt; ã‚µãƒ¼ãƒ“ã‚¹ã«å…ˆã»ã©ä½œã£ãŸæ©Ÿèƒ½ãŒå‡ºã¦ãã‚‹ã®ã§ã€ä»»æ„ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’æŒ‡å®š</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/67a451f6385ba7c7ac4b77191b3accdc2c2f8deb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38646565616333352d663033392d666630372d316434652d6365313361636237653563332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"780\" alt=\"shortcut.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8deeac35-f039-ff07-1d4e-ce13acb7e5c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b0642232b945ccd07ef60b592afb62f0\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/8deeac35-f039-ff07-1d4e-ce13acb7e5c3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8deeac35-f039-ff07-1d4e-ce13acb7e5c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=915a2806c5aaffb7eed62857c1bf6291 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"ã§ãã‚ãŒã‚Š\" class=\"fragment\"></span><a href=\"#%E3%81%A7%E3%81%8D%E3%81%82%E3%81%8C%E3%82%8A\"><i class=\"fa fa-link\"></i></a>ã§ãã‚ãŒã‚Š</h2>\n\n<ul>\n<li>Dashã«ã¦ç¿»è¨³ã—ãŸã„æ–‡å­—ã‚’é¸æŠ &gt; å³ã‚¯ãƒªãƒƒã‚¯ &gt; Servicies or ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒç«‹ã¡ä¸ŠãŒã‚‹</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/9d5cba88fef2f218d37860d98a8369c3de9b3ff3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f65363762666331632d346534372d646661632d623363302d3631386631616465366665362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"611\" alt=\"howto.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fe67bfc1c-4e47-dfac-b3c0-618f1ade6fe6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2cdc6b9c92541d58a506dbfa95e4ce09\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/e67bfc1c-4e47-dfac-b3c0-618f1ade6fe6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fe67bfc1c-4e47-dfac-b3c0-618f1ade6fe6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=67486367eaf2d5b8c0e0cfec9df60b13 1x\" loading=\"lazy\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/146035c7c97668331e64ffc6b7d82d9f2783b4a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f34303363633033662d643334392d633639392d396539352d3566646633396564383739352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"399\" alt=\"translate.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F403cc03f-d349-c699-9e95-5fdf39ed8795.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=df7fb2045efbb542bb40fd7b383ef54e\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/403cc03f-d349-c699-9e95-5fdf39ed8795.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F403cc03f-d349-c699-9e95-5fdf39ed8795.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=41f93ef2bd35873ab6d09eb56dcc6689 1x\" loading=\"lazy\"></a></p>\n\n<h1>\n<span id=\"ä½™è«‡\" class=\"fragment\"></span><a href=\"#%E4%BD%99%E8%AB%87\"><i class=\"fa fa-link\"></i></a>ä½™è«‡</h1>\n\n<ul>\n<li>Automatoråˆã‚ã¦è§¦ã£ãŸã‚“ã§ã™ãŒã€å…¥å‡ºåŠ›å‘¨ã‚Šã®ä½œã‚Š(ã¨ã„ã†ã‹èª¬æ˜)ãŒè¬ã§è‹¥å¹²è©°ã¾ã‚Šã¾ã—ãŸ...</li>\n<li>å¤§ã—ãŸè‹¦åŠ´ã‚‚ã—ã¦ã„ãªã„å‰²ã«ã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®è¦‹ãŸç›®ãŒãã‚Œã£ã½ãã£ã¦ã‚¦ã‚­ã‚¦ã‚­ã§ã™<img alt=\":ramen:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f35c.png\" title=\":ramen:\" width=\"20\" loading=\"lazy\">\n</li>\n</ul>\n",
      "body": "# ç™ºç«¯\nã¡ã‚‡ã£ã¨ã—ãŸèª¿ã¹ç‰©ã®åº¦ã«Chromeã®ã‚¿ãƒ–ãŒå¢—ãˆã¦ã„ãã®ã‚’æ†‚ã„ã§å…ˆæ—¥[Dash](https://kapeli.com/dash)ã‚’å°å…¥ã—ãŸã®ã§ã™ãŒã€\nè‹±èªã®ã§ããªã„ç­†è€…ã«ã¨ã£ã¦æ¬ ã‹ã›ãªã„[ç¿»è¨³ã‚¢ãƒ‰ã‚¤ãƒ³](https://chrome.google.com/webstore/detail/google-translate/aapbdbdomjkkjkaonfhkkikfgjllcleb?hl=ja)çš„ãªæ©Ÿèƒ½ãŒãªã‹ã£ãŸã®ã§ã€ä½œã£ã¦ã¿ã¾ã—ãŸã€‚\n\n# ä½œã‚Šæ–¹\n## Automator\n- Spotlight > Automator > [ã“ã¡ã‚‰](http://nicomelmo.blog118.fc2.com/blog-entry-929.html)ã‚„[ã“ã¡ã‚‰](http://shellscript.sunone.me/filter_sed.html#è¡Œé ­ã«æ–‡å­—ã‚’è¿½åŠ ã™ã‚‹)ã‚’å‚è€ƒã«ã—ã¤ã¤ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ä»»æ„ã®åå‰ã§ä¿å­˜\n- ãªãŠä½œæˆã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã«ã§ãã‚‹ã€‚ã‚ã‹ã‚Šã¥ã‚‰ã„ã\n    - /Users/ãƒ¦ãƒ¼ã‚¶å/Library/Servicies/xxx.workflow\n\n<img width=\"618\" alt=\"automator.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d444bd98-09ea-76bf-3d80-1378b2551035.png\">\n\n```bash:bash\ncat | perl -MURI::Escape -lne 'print uri_escape($_)' | sed -e 's/^/https:\\/\\/translate.google.com\\/?source=gtx_c#auto\\/ja\\//g'\n```\n## ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ\n- Spotlight > ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ > ã‚µãƒ¼ãƒ“ã‚¹ã«å…ˆã»ã©ä½œã£ãŸæ©Ÿèƒ½ãŒå‡ºã¦ãã‚‹ã®ã§ã€ä»»æ„ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’æŒ‡å®š\n\n<img width=\"780\" alt=\"shortcut.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/8deeac35-f039-ff07-1d4e-ce13acb7e5c3.png\">\n\n## ã§ãã‚ãŒã‚Š\n- Dashã«ã¦ç¿»è¨³ã—ãŸã„æ–‡å­—ã‚’é¸æŠ > å³ã‚¯ãƒªãƒƒã‚¯ > Servicies or ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒç«‹ã¡ä¸ŠãŒã‚‹\n\n<img width=\"611\" alt=\"howto.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/e67bfc1c-4e47-dfac-b3c0-618f1ade6fe6.png\">\n\n<img width=\"399\" alt=\"translate.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/403cc03f-d349-c699-9e95-5fdf39ed8795.png\">\n\n# ä½™è«‡\n- Automatoråˆã‚ã¦è§¦ã£ãŸã‚“ã§ã™ãŒã€å…¥å‡ºåŠ›å‘¨ã‚Šã®ä½œã‚Š(ã¨ã„ã†ã‹èª¬æ˜)ãŒè¬ã§è‹¥å¹²è©°ã¾ã‚Šã¾ã—ãŸ...\n- å¤§ã—ãŸè‹¦åŠ´ã‚‚ã—ã¦ã„ãªã„å‰²ã«ã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®è¦‹ãŸç›®ãŒãã‚Œã£ã½ãã£ã¦ã‚¦ã‚­ã‚¦ã‚­ã§ã™:ramen:\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2017-05-31T05:22:51+09:00",
      "group": null,
      "id": "557e2e3e8e49ab9ca951",
      "likes_count": 17,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 10,
      "tags": [
        {
          "name": "Dash",
          "versions": []
        },
        {
          "name": "Automator",
          "versions": []
        },
        {
          "name": "googleç¿»è¨³",
          "versions": []
        }
      ],
      "title": "Dashã«æ—¥æœ¬èªç¿»è¨³æ©Ÿèƒ½ã‚’ä»˜ã‘ã‚‹",
      "updated_at": "2017-05-31T05:22:51+09:00",
      "url": "https://qiita.com/yktakaha4/items/557e2e3e8e49ab9ca951",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>ç¤¾å†…ã§ã®ç™ºè¡¨ä¼šã®ãƒã‚¿ã¨ã—ã¦Watson Developer Cloudã‚’ä½¿ã£ãŸWebã‚¢ãƒ—ãƒªé–‹ç™ºã«æŒ‘æˆ¦ã—ãŸã®ã§ã€ãã®ã¾ã¨ã‚ã¨å‚™å¿˜éŒ²ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦</h1>\n\n<h2>\n<span id=\"æ©Ÿèƒ½ã§ãã‚‹ã¨ã¯è¨€ã£ã¦ã„ãªã„\" class=\"fragment\"></span><a href=\"#%E6%A9%9F%E8%83%BD%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A8%E3%81%AF%E8%A8%80%E3%81%A3%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>æ©Ÿèƒ½ï¼ˆã§ãã‚‹ã¨ã¯è¨€ã£ã¦ã„ãªã„ï¼‰</h2>\n\n<p>ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ› or ã—ã‚ƒã¹ã£ã¦è³ªå•ã™ã‚‹ã¨ã€ã‚ã‚‹åœ°ç‚¹ã‹ã‚‰åŠå¾„1kmã»ã©ã®é£²é£Ÿåº—ã®ä¸­ã‹ã‚‰ã€WatsonãŒã‚ªã‚¹ã‚¹ãƒ¡ã®ãŠåº—ã‚’ç´¹ä»‹ã—ã¦ãã‚Œã¾ã™ã€‚<br>\nã€Œã‹ã‚‰ã‚ã’å®šé£ŸãŒé£Ÿã¹ãŸã„ã€ã€Œäºˆç®—4000å††ã¾ã§ã§é­šç³»ã®å±…é…’å±‹ã€ãªã©ã€æ€ã„ã¤ã„ãŸè¨€è‘‰ã§å•ã„ã‹ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/82393493d0cbc587e89bfc3c5b1cbb87629664d1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38323461313130392d626133362d346562662d353562342d3131343164326530653237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F824a1109-ba36-4ebf-55b4-1141d2e0e274.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=527345ea07fb9cefa63f85e24e28899a\" alt=\"search.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/824a1109-ba36-4ebf-55b4-1141d2e0e274.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F824a1109-ba36-4ebf-55b4-1141d2e0e274.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e45a7045e7b61faafe097744629191f3 1x\" loading=\"lazy\"></a></p>\n\n<p>ãŠåº—ã¯ä¸€è¦§å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚â˜…ãŒå¤šã„ã»ã©ã‚ªã‚¹ã‚¹ãƒ¡ã®é£²é£Ÿåº—ã¨ãªã‚Šã¾ã™ã€‚<br>\næ°—ã«ãªã£ãŸãŠåº—ã¯ä¸€è¦§ã«ãƒ”ãƒ³ç•™ã‚ã§ãã‚‹ã®ã§ã€ãã‚‹ãªã³HPã®æƒ…å ±ã‚„ç¾åœ¨åœ°ã‹ã‚‰ã®è·é›¢ãƒ»é“é †ã‚’ç¢ºèªã—ãªãŒã‚‰ã€è¨ªã‚Œã‚‹ãŠåº—ã‚’æ±ºã‚ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f8ea8c492f22dac8879aca2dc50409858794fbcb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f66336665646337632d393964352d356662352d613337372d3638376461346537306437392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Ff3fedc7c-99d5-5fb5-a377-687da4e70d79.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=556de92de3aa10637d562f4fe7bded4a\" alt=\"map.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/f3fedc7c-99d5-5fb5-a377-687da4e70d79.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Ff3fedc7c-99d5-5fb5-a377-687da4e70d79.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1bd2a0f62453518e7027eb90a7fdb782 1x\" loading=\"lazy\"></a></p>\n\n<p>ãŠåº—ã«è¡Œã£ãŸã‚‰ï¼ˆæ˜”è¡Œã£ãŸã“ã¨ãŒã‚ã‚‹ã€ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ï¼‰ã€æ˜¯éæ„Ÿæƒ³ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ãã ã•ã„ã€‚<br>\nã€Œã¨ã£ã¦ã‚‚ç¾å‘³ã—ã‹ã£ãŸã€ãªã‚‰ä»–ã®äººã«ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã§ãã‚‹ãŠåº—ã€ã€Œåº—å“¡ãŒå£å–§å˜©ã—ã¦ã„ãŸã€ãªã‚‰ã‚ã¾ã‚Šã‚ªã‚¹ã‚¹ãƒ¡ã§ããªã„ãŠåº—ãªã©ã€ã‚³ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’åˆ†æãƒ»å­¦ç¿’ã—ã€æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/ad932efaac89bc5557a9648e2bec63801644d461/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f30626566643461622d623831332d396233362d623539642d6434366434326338383737632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0befd4ab-b813-9b36-b59d-d46d42c8877c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7698165955d18cba71ea0ecd688c958c\" alt=\"comment.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/0befd4ab-b813-9b36-b59d-d46d42c8877c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0befd4ab-b813-9b36-b59d-d46d42c8877c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ae05df4a04e407f79a8e031a41c450f2 1x\" loading=\"lazy\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/464c44d86662c103837941f2970fdf6870cb1063/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f30653132353462642d306637622d336332662d636434352d6536653830316363613762302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0e1254bd-0f7b-3c2f-cd45-e6e801cca7b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5eaa12cdb6f14fe274ab236941f1a49a\" alt=\"classify.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/0e1254bd-0f7b-3c2f-cd45-e6e801cca7b0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F0e1254bd-0f7b-3c2f-cd45-e6e801cca7b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3f4ef91c68a14e6592e90d98012df972 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"æ§‹æˆå›³\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E6%88%90%E5%9B%B3\"><i class=\"fa fa-link\"></i></a>æ§‹æˆå›³</h2>\n\n<p>æœ€åˆã¯å…¨ã¦Bluemixä¸Šã«æ§‹ç¯‰ã—ã‚ˆã†ã¨ã‚‚è€ƒãˆãŸã®ã§ã™ãŒã€ClearDBã®ç„¡æ–™æ ãŒã“ã“ã‚ã‚‚ã¨ãªã‹ã£ãŸï¼ˆ5MBï¼‰ã®ã¨ã€å€‹äººæ‰€æœ‰ã®PCã®é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã‚‹æ„å‘³ã‚‚å…¼ã­ã¦ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p>\n\n<p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®JSã‹ã‚‰é©å®œNode-REDä¸Šã«ç”¨æ„ã—ãŸREST APIã‚’å‘¼ã³å‡ºã—ã¦ã€æ¤œç´¢çµæœè¡¨ç¤ºã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã®è©•ä¾¡ã‚’è¡Œã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/960d567b1e6dd6014d45164a97769c990aef82a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f65386337383438662d663335332d646530362d613430382d3264653361653431333233342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"726\" alt=\"kousei.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fe8c7848f-f353-de06-a408-2de3ae413234.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2161894db22744108e3a0a2c124af4d1\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/e8c7848f-f353-de06-a408-2de3ae413234.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fe8c7848f-f353-de06-a408-2de3ae413234.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6e35895ab9f05d15b8b47789efe4a42d 1x\" loading=\"lazy\"></a></p>\n\n<p>ä»¥ä¸‹ã®ã‚ˆã†ãªé‹ç”¨ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<ol>\n<li>ãƒ­ãƒ¼ã‚«ãƒ«ã«ã¦R&amp;RåŠã³NLCã®ãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ»æŠ•å…¥</li>\n<li>ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ã†ã¨ã€ClearDBä¸Šã«ãƒ­ã‚°ãŒè“„ç©ã•ã‚Œã‚‹</li>\n<li>ãƒ­ã‚°ãŒæºœã¾ã£ãŸã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ãã¦ã€å†åº¦ãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ»æŠ•å…¥</li>\n<li>æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã‚‹ï¼ˆã•ã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ãªã„ï¼‰</li>\n</ol>\n\n<h1>\n<span id=\"æ‰€æ„Ÿ\" class=\"fragment\"></span><a href=\"#%E6%89%80%E6%84%9F\"><i class=\"fa fa-link\"></i></a>æ‰€æ„Ÿ</h1>\n\n<h2>\n<span id=\"retrieve-and-rank\" class=\"fragment\"></span><a href=\"#retrieve-and-rank\"><i class=\"fa fa-link\"></i></a>Retrieve and Rank</h2>\n\n<ul>\n<li>\n<a href=\"http://qiita.com/takaha4/items/0a1dcad29162f02b3908\" id=\"reference-52f0a286b030f6758986\">å…ˆæ—¥ä½¿ã£ãŸã°ã‹ã‚Š</a>ã¨ã„ã†ã“ã¨ã‚‚ã‚ã£ã¦èª¿å­ã«ä¹—ã£ã¦ãŠã‚Šã€èª¤ã£ã¦é«˜å¯ç”¨æ€§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç«‹ã¡ä¸Šã’ã¦ï¼ˆï¼ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆæ™‚ã«ã€ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã—ã¦ä½œæˆï¼‰é–‹ç™ºã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\n\n<ul>\n<li>æ•°æ—¥ä½œæ¥­ã—ãŸã¨ã“ã‚ã§æ…Œã¦ã¦æ°—ã¥ã„ã¦å†ä½œæˆã—ãŸãŒã€8000å††ã»ã©èª²é‡‘ãŒç™ºç”Ÿâ€¦ã€‚</li>\n<li>ä»¥ä¸‹ã®è¦é ˜ã§ä½œæˆã—ã¾ã—ã‚‡ã†ï¼ˆcluster_sizeã‚’ç©ºï¼‰</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -k -X POST -u \"**username:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\" -d \"{\\\"cluster_size\\\":\\\"\\\",\\\"cluster_name\\\":\\\"WatsonRestaurantCluster\\\"}\"\n</span></code></pre></div></div>\n\n<ul>\n<li>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\n<ul>\n<li>å…ˆé”ã‚’çœŸä¼¼ã—ã¦ã„ã‚‹ã ã‘ãªã®ã§ã™ãŒã€è¨˜äº‹ã‚’æ›¸ãã«ã‚ãŸã£ã¦Tutorialã‚’è¦‹ãŸã¨ã“ã‚ã€<a href=\"https://www.ibm.com/watson/developercloud/doc/retrieve-rank/configure.shtml\" rel=\"nofollow noopener\" target=\"_blank\">é•ã†æ›¸ãæ–¹</a>ãŒä¾‹ç¤ºã•ã‚Œã¦ã„ãŸã®ã§ã€é–“é•ã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“â€¦</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"xml\">\n<div class=\"code-lang\"><span class=\"bold\">schema.xml</span></div>\n<div class=\"highlight\"><pre><code>   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"id\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"shop_id\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"vote_id\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"shop_name\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"shop_name_kana\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"menu_name\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"menu_name_kana\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"latitude\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"longitude\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"shop_url\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"image_url\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"pr_text\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"shop_text\"</span> <span class=\"na\">type=</span><span class=\"s\">\"watson_text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"false\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"budget\"</span> <span class=\"na\">type=</span><span class=\"s\">\"int\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"xml\">\n<div class=\"code-lang\"><span class=\"bold\">schema.xml</span></div>\n<div class=\"highlight\"><pre><code>  <span class=\"nt\">&lt;fieldType</span> <span class=\"na\">name=</span><span class=\"s\">\"watson_text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">class=</span><span class=\"s\">\"com.ibm.watson.hector.plugins.fieldtype.WatsonTextField\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;analyzer</span> <span class=\"na\">type=</span><span class=\"s\">\"index\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;tokenizer</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseTokenizerFactory\"</span> <span class=\"na\">mode=</span><span class=\"s\">\"search\"</span> <span class=\"na\">userDictionary=</span><span class=\"s\">\"lang/userdict_ja.txt\"</span> <span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.SynonymFilterFactory\"</span> <span class=\"na\">synonyms=</span><span class=\"s\">\"synonyms.txt\"</span> <span class=\"na\">ignoreCase=</span><span class=\"s\">\"true\"</span> <span class=\"na\">expand=</span><span class=\"s\">\"true\"</span> <span class=\"na\">tokenizerFactory=</span><span class=\"s\">\"solr.JapaneseTokenizerFactory\"</span> <span class=\"na\">userDictionary=</span><span class=\"s\">\"lang/userdict_ja.txt\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseBaseFormFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.CJKWidthFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseKatakanaStemFilterFactory\"</span> <span class=\"na\">minimumLength=</span><span class=\"s\">\"4\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.LowerCaseFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/analyzer&gt;</span>\n      <span class=\"nt\">&lt;analyzer</span> <span class=\"na\">type=</span><span class=\"s\">\"query\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;tokenizer</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseTokenizerFactory\"</span> <span class=\"na\">mode=</span><span class=\"s\">\"search\"</span> <span class=\"na\">userDictionary=</span><span class=\"s\">\"lang/userdict_ja.txt\"</span> <span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.SynonymFilterFactory\"</span> <span class=\"na\">synonyms=</span><span class=\"s\">\"synonyms.txt\"</span> <span class=\"na\">ignoreCase=</span><span class=\"s\">\"true\"</span> <span class=\"na\">expand=</span><span class=\"s\">\"true\"</span> <span class=\"na\">tokenizerFactory=</span><span class=\"s\">\"solr.JapaneseTokenizerFactory\"</span> <span class=\"na\">userDictionary=</span><span class=\"s\">\"lang/userdict_ja.txt\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseBaseFormFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapanesePartOfSpeechStopFilterFactory\"</span> <span class=\"na\">tags=</span><span class=\"s\">\"lang/stoptags_ja.txt\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.CJKWidthFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.StopFilterFactory\"</span> <span class=\"na\">ignoreCase=</span><span class=\"s\">\"true\"</span> <span class=\"na\">words=</span><span class=\"s\">\"lang/stopwords_ja.txt\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.JapaneseKatakanaStemFilterFactory\"</span> <span class=\"na\">minimumLength=</span><span class=\"s\">\"4\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;filter</span> <span class=\"na\">class=</span><span class=\"s\">\"solr.LowerCaseFilterFactory\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/analyzer&gt;</span>\n  <span class=\"nt\">&lt;/fieldType&gt;</span>\n</code></pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹retrieve\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E7%94%9F%E6%88%90%E3%81%97%E3%81%9F%E3%81%8Bretrieve\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹ï¼ˆRetrieveï¼‰</h3>\n\n<ul>\n<li>\n<a href=\"http://api.gnavi.co.jp/api/manual/\" rel=\"nofollow noopener\" target=\"_blank\">ãã‚‹ãªã³API</a>ã‚’å…ƒãƒã‚¿ã«1500ä»¶ã»ã©ç”Ÿæˆ</li>\n</ul>\n\n<ol>\n<li>ãã‚‹ãªã³ã®ãŠåº—ã®PRæ–‡ã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n\n<ul>\n<li>APIã‹ã‚‰é€£æºã•ã‚Œã‚‹åº—èˆ—IDæ¯ã«1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>\n</ul>\n</li>\n<li>ãã‚‹ãªã³ã®å¿œæ´å£ã‚³ãƒŸã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n\n<ul>\n<li>åº—èˆ—ID+å¿œæ´å£ã‚³ãƒŸIDã«1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>\n</ul>\n</li>\n<li>ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨è€…ã®ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n\n<ul>\n<li>åº—èˆ—ID+ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆï¼ˆNLCã«ã¦ãƒã‚¸ãƒ†ã‚£ãƒ–è©•ä¾¡ã•ã‚ŒãŸã‚‚ã®ã®ã¿ï¼‰</li>\n</ul>\n</li>\n</ol>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">rar_documents.json</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"id\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"5497472\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"shop_id\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"5497472\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"vote_id\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"shop_name\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"å¤©ä¸‹ä¸€å“ äº”åç”°åº—\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"shop_name_kana\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"menu_name\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"menu_name_kana\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"latitude\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"35.624377\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"longitude\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"139.723394\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"shop_url\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://r.gnavi.co.jp/b5tzzw2g0000/\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"image_url\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"pr_text\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"é¶ã¨æ•°ç¨®é¡ã®ç´ æã‚’æ™‚é–“ã‚’ã‹ã‘ã¦ç…®è¾¼ã‚“ã ã‚¹ãƒ¼ãƒ—ã§ã™ã€‚ç¾å®¹ã¨å¥åº·ã«ã„ã„ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ãŒã„ã£ã±ã„ã§ã™ã€‚\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"shop_text\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"å¤©ä¸‹ä¸€å“äº”åç”°åº—ã€‚ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³ã€‚ãƒ©ãƒ¼ãƒ¡ãƒ³ éººæ–™ç† ãã®ä»–ã€‚ç¾å®¹ã¨å¥åº·ã«ã„ã„ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ã‚’è±Šå¯Œã«å«ã‚“ã§ãŠã‚Šã€ä»–ã§ã¯çµ¶å¯¾ã«å‘³ã‚ã†ã“ã¨ãŒã§ããªã„ã‚¹ãƒ¼ãƒ—ã§ã™ã€‚ä»–ã«ã‚‚åŠãƒãƒ£ãƒ¼ãƒãƒ³ã¨ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸå®šé£Ÿã€‚ã‚®ãƒ§ã‚¦ã‚¶ã€åŠãƒ©ã‚¤ã‚¹ã€ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸã‚®ãƒ§ã‚¦ã‚¶å®šé£Ÿã€‚åŠãƒãƒ£ãƒ¼ãƒãƒ³ã€ã‚®ãƒ§ã‚¦ã‚¶ã€ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸã‚µãƒ¼ãƒ“ã‚¹å®šé£Ÿãªã©ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚è±Šå¯Œã«å–ã‚Šæƒãˆã¦ã„ã¾ã™ã€‚\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"budget\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">-1</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<h3>\n<span id=\"å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹rank\" class=\"fragment\"></span><a href=\"#%E5%AD%A6%E7%BF%92%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E7%94%9F%E6%88%90%E3%81%97%E3%81%9F%E3%81%8Brank\"><i class=\"fa fa-link\"></i></a>å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹ï¼ˆRankï¼‰</h3>\n\n<ul>\n<li>åˆæœŸç§»è¡Œï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨ã«ä¼´ã„ç™ºç”Ÿã™ã‚‹å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰ã®æ®µéšã§750ä»¶ã»ã©ä½œæˆ</li>\n</ul>\n\n<ol>\n<li>ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‹ã‚‰è³ªå•æ–‡ã‚’ç”Ÿæˆã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n\n<ul>\n<li>ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã¨ã„ã†æ¤œç´¢ã«å¯¾ã—ã¦ã€ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹</li>\n</ul>\n</li>\n<li>ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã‹ã‚‰è³ªå•æ–‡ã‚’ç”Ÿæˆã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n\n<ul>\n<li>ã€Œå”æšã’å®šé£Ÿã€ã¨ã„ã†æ¤œç´¢ã«å¯¾ã—ã¦ã€ã€Œå”æšã’å®šé£Ÿã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹</li>\n</ul>\n</li>\n<li>è©³ç´°æƒ…å ±ãŒé–²è¦§ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n\n<ul>\n<li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ã—ãŸã‚ã‚‹ã‚¯ã‚¨ãƒªã«å¯¾ã™ã‚‹æ¤œç´¢çµæœã®ä¸­ã§ã€GoogleMapè¡¨ç¤ºã‚„ãã‚‹ãªã³HPã¸ã®ãƒªãƒ³ã‚¯ãŒæŠ¼ä¸‹ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹</li>\n</ul>\n</li>\n<li>ã‚³ãƒ¡ãƒ³ãƒˆãŒå®Ÿæ–½ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ æ¸›ç‚¹\n\n<ul>\n<li>ã‚³ãƒ¡ãƒ³ãƒˆã‚’NLCã§è§£æã—ãŸçµæœãŒãƒã‚¸ãƒ†ã‚£ãƒ–è©•ä¾¡ã ã£ãŸå ´åˆåŠ ç‚¹ã€ãƒã‚¬ãƒ†ã‚£ãƒ–è©•ä¾¡ã ã£ãŸå ´åˆæ¸›ç‚¹</li>\n</ul>\n</li>\n<li>ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã®é«˜ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n\n<ul>\n<li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ã—ãŸå…¨ã¦ã®ã‚¯ã‚¨ãƒªã®æ¤œç´¢çµæœã®ä¸­ã§ã€ãã‚‹ãªã³ã§å¿œæ´å£ã‚³ãƒŸãŒå¤šãã¤ã„ã¦ã„ã‚‹ãŠåº—ã«åŠ ç‚¹</li>\n<li>NLCã®åˆ¤æ–­çµæœã«åŸºã¥ã„ã¦åŠ æ¸›ç‚¹</li>\n</ul>\n</li>\n</ol>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">rar_training.csv</span></div>\n<div class=\"highlight\"><pre><code>\"%E3%83%AF%E3%83%83%E3%83%91%E3%83%BC\",\"6364602.681550\",\"2\"\n\"%E3%82%BF%E3%82%A4%E3%82%AC%E3%83%91%E3%82%AA\",\"7255599\",\"1\",\"7255599.4618610\",\"3\"\n\"%E5%A1%A9%E3%83%AC%E3%83%A2%E3%83%B3%E3%82%AC%E3%83%91%E3%82%AA\",\"e584801.1192601\",\"2\",\"6408790.4601796\",\"2\",\"geyc200.4614278\",\"4\",\"g044108.4609358\",\"4\",\"6085706.1451291\",\"1\"\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"è¾æ›¸ãƒ‡ãƒ¼ã‚¿solræ©Ÿèƒ½\" class=\"fragment\"></span><a href=\"#%E8%BE%9E%E6%9B%B8%E3%83%87%E3%83%BC%E3%82%BFsolr%E6%A9%9F%E8%83%BD\"><i class=\"fa fa-link\"></i></a>ã€€è¾æ›¸ãƒ‡ãƒ¼ã‚¿ï¼ˆSolræ©Ÿèƒ½ï¼‰</h2>\n\n<ul>\n<li>è¾æ›¸ã®ç”Ÿæˆã«ã‚ãŸã£ã¦<a href=\"https://github.com/codelibs/elasticsearch-analysis-kuromoji-neologd\" rel=\"nofollow noopener\" target=\"_blank\">Kuromoji neologd</a>ã‚’ä½¿ã£ãŸã®ã§ã™ãŒã€Kuromojiã¨æ¯”è¼ƒã—ã¦è‰²ã€…ãªèªã‚’èªè­˜ã§ãã¦ãŠã‚Šã€ã“ã‚ŒãŒç„¡æ–™ã§ä½¿ãˆã‚‹ãªã‚“ã¦â€¦ã¨æ„Ÿã˜å…¥ã‚Šã¾ã—ãŸã€‚</li>\n<li>ãŠåº—ã®åå‰ã¯ã€ãã‚‹ãªã³APIã‹ã‚‰èª­ã¿ã¨åˆã‚ã›ã¦å–å¾—ã§ããŸã®ã§ã€ãã‚Œã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚</li>\n</ul>\n\n<ol>\n<li>åº—åã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã€ã‚«ãƒ†ã‚´ãƒªåã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ã‚’ç”Ÿæˆ\n\n<ul>\n<li>ã€Œã“ã£ã¦ã‚Šãƒ©ãƒ¼ãƒ¡ãƒ³ã€ã¨ã„ã†èªã§å¤©ä¸€ãŒæ¤œç´¢ä¸Šä½ã«å‡ºã¦æ¬²ã—ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚«ãƒ†ã‚´ãƒªå¤§åˆ†é¡ã§æ¤œç´¢ã•ã‚ŒãŸæ™‚ã«ã€å†…åŒ…ã•ã‚Œã‚‹ã‚«ãƒ†ã‚´ãƒªå°åˆ†é¡ãŒæ¤œç´¢ã•ã‚Œã‚‹ã‚ˆã†ã«ã€ã‚·ãƒãƒ‹ãƒ è¾æ›¸ã‚’ç”Ÿæˆ\n\n<ul>\n<li>ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã§æ¤œç´¢ã—ãŸæ™‚ã«ã€Œãƒ”ã‚¶ã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ¤œç´¢ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</li>\n</ul>\n</li>\n<li>ã‚¹ãƒˆãƒƒãƒ—ãƒ¯ãƒ¼ãƒ‰è¾æ›¸ã‚’é©å½“ã«ç·¨é›†\n\n<ul>\n<li>ã€Œç¾å‘³ã—ã„ã€ã€ã€ŒãŠåº—ã€ãªã©ã®èªã¯å–ã‚Šé™¤ã„ãŸæ–¹ãŒè‰¯ã„ã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚</li>\n<li>ï¼ˆæœ‰ç„¡ã§çµæœæ¯”è¼ƒã—ã¦ãªã„ã®ã§ãªã‚“ã¨ã‚‚è¨€ãˆã¾ã›ã‚“ãŒâ€¦ï¼‰</li>\n</ul>\n</li>\n</ol>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">userdict_ja.txt</span></div>\n<div class=\"highlight\"><pre><code>å¤©ä¸‹ä¸€å“,å¤©ä¸‹ä¸€å“,ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³,ã‚«ã‚¹ã‚¿ãƒ åè©\né¶ã€…å‘³é³¥,é¶ã€…å‘³é³¥,ãƒˆãƒªãƒ‰ãƒªãƒŸãƒ‰ãƒª,ã‚«ã‚¹ã‚¿ãƒ åè©\né­šåŒ äº”åç”°åº—,é­šåŒ äº”åç”°åº—,ã‚¦ã‚ªã‚·ãƒ§ã‚¦ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³,ã‚«ã‚¹ã‚¿ãƒ åè©\nã€†ã‚µãƒ,ã€†ã‚µãƒ,ã€†ã‚µãƒ,ã‚«ã‚¹ã‚¿ãƒ åè©\nãƒ©ãƒ•ãƒ†ãƒ¼,ãƒ©ãƒ•ãƒ†ãƒ¼,ãƒ©ãƒ•ãƒ†ãƒ¼,ã‚«ã‚¹ã‚¿ãƒ åè©\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">synonyms.txt</span></div>\n<div class=\"highlight\"><pre><code>ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯ =&gt; è–¬è†³æ–™ç† ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ–™ç† é‡èœæ–™ç† ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯\nå‰µä½œ å‰µä½œæ–™ç† =&gt; å‰µä½œå’Œé£Ÿ å‰µä½œæ–™ç† ç„¡å›½ç±æ–™ç†\nã‚¤ã‚¿ãƒªã‚¢ãƒ³ =&gt;  ã‚¤ã‚¿ãƒªã‚¢ãƒ³ ã‚¤ã‚¿ãƒªã‚¢æ–™ç† ãƒ‘ã‚¹ã‚¿ ãƒ”ã‚¶\nãƒ•ãƒ¬ãƒ³ãƒ =&gt; ãƒ•ãƒ¬ãƒ³ãƒ ãƒ•ãƒ©ãƒ³ã‚¹æ–™ç† ãƒ“ã‚¹ãƒˆãƒ­\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"natural-language-classifier\" class=\"fragment\"></span><a href=\"#natural-language-classifier\"><i class=\"fa fa-link\"></i></a>Natural Language Classifier</h2>\n\n<ul>\n<li>R&amp;Rã«æ¯”ã¹ã‚Œã°ã€éšåˆ†ç°¡å˜ã«ä½¿ãˆã¾ã—ãŸã€‚ï¼ˆã¡ã‚ƒã‚“ã¨åˆ¤å®šã•ã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ãªã„ï¼‰</li>\n</ul>\n\n<h3>\n<span id=\"ãƒã‚¸ãƒã‚¬åˆ¤å®šç”¨ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ä½œæˆã—ãŸã‹\" class=\"fragment\"></span><a href=\"#%E3%83%9D%E3%82%B8%E3%83%8D%E3%82%AC%E5%88%A4%E5%AE%9A%E7%94%A8%E3%81%AE%E5%AD%A6%E7%BF%92%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9F%E3%81%8B\"><i class=\"fa fa-link\"></i></a>ãƒã‚¸ãƒã‚¬åˆ¤å®šç”¨ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ä½œæˆã—ãŸã‹</h3>\n\n<ul>\n<li>ãƒã‚¸ã€ãƒã‚¬ã®2ã‚¯ãƒ©ã‚¹ã«å¯¾ã—ã¦åˆè¨ˆ1600ä»¶ã»ã©å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã€‚</li>\n<li>R&amp;Rã¯å¦å®šã®è¨€è‘‰ã‚’ã†ã¾ãæ±²ã¿å–ã£ã¦ãã‚Œãªã„ï¼ˆä¾‹ï¼šã€Œç¾å‘³ã—ããªã„ã€ã¨ã„ã†æ¤œç´¢ã«ã€Œç¾å‘³ã—ã„ã€ãŒå¼•ã£ã‹ã‹ã‚‹ï¼‰å°è±¡ãŒã‚ã‚Šã¾ã—ãŸãŒã€ï¼ˆå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã§ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚Œã°ï¼‰ã‚„ã‚„ã“ã—ã„è¨€ã„æ–¹ã§ã‚‚æ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹ã®ãŒé¢ç™½ã„ã¨æ€ã„ã¾ã—ãŸã€‚</li>\n</ul>\n\n<ol>\n<li>ãƒã‚¸ãƒ†ã‚£ãƒ–ï¼ˆyummyï¼‰\n\n<ul>\n<li>ãã‚‹ãªã³APIã®å¿œæ´å£ã‚³ãƒŸã‹ã‚‰ã€ç‚¹æ•°ãŒé«˜ã‹ã£ãŸã‚Šã‚¤ã‚¤ã­ãŒå¤šãã¤ã„ã¦ã„ã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å¥ç‚¹æ¯ã«ä¸€å®šã®é•·ã•ã«åˆ†å‰²ã—ã¦ç™»éŒ²ã€‚</li>\n</ul>\n</li>\n<li>ãƒã‚¬ãƒ†ã‚£ãƒ–ï¼ˆyackyï¼‰\n\n<ul>\n<li>ãƒã‚¸ãƒ†ã‚£ãƒ–ã®é€†ï¼ˆå¿œæ´å£ã‚³ãƒŸä½è©•ä¾¡ï¼‰ã§ç”Ÿæˆã§ãã‚‹ã®ãŒæœŸå¾…å€¤ã§ã—ãŸãŒã€ãƒã‚¬ãƒ†ã‚£ãƒ–ãªè©•ä¾¡ãŒå£ã‚³ãƒŸã«ã»ã¨ã‚“ã©ç™»éŒ²ã•ã‚Œã¦ãŠã‚‰ãšå›°æƒ‘â€¦æ¤œé–²ã§ã—ã‚‡ã†ã‹ï¼Ÿ</li>\n<li>çµå±€2ã¡ã‚ƒã‚“ã­ã‚‹ã‚„é£²é£Ÿåº—ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ–ãƒ­ã‚°ã‹ã‚‰æ‰‹ã‚³ãƒ”ãƒšã§ç™»éŒ²ã€‚</li>\n</ul>\n</li>\n</ol>\n\n<div class=\"code-frame\" data-lang=\"text\">\n<div class=\"code-lang\"><span class=\"bold\">nlc_training.csv</span></div>\n<div class=\"highlight\"><pre><code>\"ãŠè…¹ã‚‚æº€è¶³\",\"yummy\"\n\"æ¯å­ã®å¤§å¥½ç‰©ã§ã™\",\"yummy\"\n\"æ–°é®®è·äººã•ã‚“ãŸã¡ã®å¨å‹¢ã®ã‚ˆã•ã‚‚ã€æ°—æŒã¡ã„ã„\",\"yummy\"\n\"ã§ã‹ã„ãŠãªã‹ã„ã£ã±ã„\",\"yummy\"\n\"æ‡ã‹ã—ã„å‘³\",\"yummy\"\n\"ã²ã©ã„åº—ã§ã—ãŸ\",\"yacky\"\n\"ãŠåˆºèº«ã®é®®åº¦ãŒæ‚ªãã¾ãšã‹ã£ãŸ\",\"yacky\"\n\"å“è³ªãŒæ‚ªã„ã€‚å¾®å¦™\",\"yacky\"\n\"ä¸­é€”åŠç«¯ã§è‰¯ã„ã¨ã“ã‚ãŒãªã„\",\"yacky\"\n\"ç¾å‘³ã—ããªã„ã€‚å®‰ã£ã½ã„\",\"yacky\"\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘¨ã‚Š</h2>\n\n<ul>\n<li>R&amp;Rã€NLCã‚ˆã‚Šã‚‚ã€ãƒ•ã‚©ãƒ³ãƒˆã‚„ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ•´ç†ã—ãŸã‚Šã€èˆˆå‘³æœ¬ä½ã§å°å…¥ã—ãŸbootstrapã‚„GoogleMapsAPIã®ç†è§£ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸâ€¦</li>\n<li>äºˆç®—ã«ã‚ˆã‚‹æ¤œç´¢ã®çµã‚Šè¾¼ã¿ã¯ã€ä½œã‚Šè¾¼ã¿ã§æ¤œç´¢æ–‡ã‚ˆã‚Šé‡‘é¡ã‚’å–å¾—ã—ã€Solrã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã‚„ã‚Šã¾ã—ãŸã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">äºˆç®—åˆ¤å®š</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kd\">function</span> <span class=\"nx\">getBudgets</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">B_MIN</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">B_MAX</span> <span class=\"o\">=</span> <span class=\"mi\">100000</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">B_RANGE</span> <span class=\"o\">=</span> <span class=\"mi\">500</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">budgets</span> <span class=\"o\">=</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n    <span class=\"nx\">query</span> <span class=\"o\">=</span> <span class=\"nx\">query</span><span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span><span class=\"sr\">/ï¼-ï¼™/g</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nb\">String</span><span class=\"p\">.</span><span class=\"nx\">fromCharCode</span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">charCodeAt</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mh\">0xFEE0</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">matches</span> <span class=\"o\">=</span> <span class=\"nx\">query</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/</span><span class=\"se\">\\d</span><span class=\"sr\">+</span><span class=\"se\">(?=</span><span class=\"sr\">å††</span><span class=\"se\">)</span><span class=\"sr\">|</span><span class=\"se\">(</span><span class=\"sr\">ã‹ã‚‰|ä»¥ä¸Š</span><span class=\"se\">)</span><span class=\"sr\">|</span><span class=\"se\">(</span><span class=\"sr\">ã¾ã§|ä»¥å†…|æœªæº€|ä»¥ä¸‹|è¶³ã‚‰ãš</span><span class=\"se\">)</span><span class=\"sr\">/g</span><span class=\"p\">);</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">matches</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">yens</span> <span class=\"o\">=</span> <span class=\"nx\">matches</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">y</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isFinite</span><span class=\"p\">(</span><span class=\"nx\">y</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n                <span class=\"k\">return</span> <span class=\"nx\">y</span> <span class=\"o\">&gt;</span> <span class=\"nx\">B_MIN</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">y</span> <span class=\"o\">&lt;</span> <span class=\"nx\">B_MAX</span>\n            <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">});</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">yens</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">condition</span><span class=\"p\">;</span>\n            <span class=\"k\">try</span> <span class=\"p\">{</span>\n                <span class=\"nx\">condition</span> <span class=\"o\">=</span> <span class=\"nx\">matches</span><span class=\"p\">[</span><span class=\"nx\">matches</span><span class=\"p\">.</span><span class=\"nx\">indexOf</span><span class=\"p\">(</span><span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">];</span>\n            <span class=\"p\">}</span> <span class=\"k\">catch</span> <span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"nx\">condition</span> <span class=\"o\">=</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n            <span class=\"p\">}</span>\n            <span class=\"nx\">yens</span> <span class=\"o\">=</span> <span class=\"nx\">yens</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">y</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"k\">return</span> <span class=\"nb\">Number</span><span class=\"p\">(</span><span class=\"nx\">y</span><span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span><span class=\"sr\">/^0+/g</span><span class=\"p\">,</span> <span class=\"dl\">\"\"</span><span class=\"p\">));</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">condition</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"sr\">/ã‹ã‚‰|ä»¥ä¸Š/g</span><span class=\"p\">.</span><span class=\"nx\">test</span><span class=\"p\">(</span><span class=\"nx\">condition</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n                    <span class=\"nx\">budgets</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                        <span class=\"na\">budget_min</span><span class=\"p\">:</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span>\n                        <span class=\"na\">budget_max</span><span class=\"p\">:</span> <span class=\"nx\">B_MAX</span>\n                    <span class=\"p\">};</span>\n                <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                    <span class=\"nx\">budgets</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                        <span class=\"na\">budget_min</span><span class=\"p\">:</span> <span class=\"nx\">B_MIN</span><span class=\"p\">,</span>\n                        <span class=\"na\">budget_max</span><span class=\"p\">:</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n                    <span class=\"p\">};</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                <span class=\"nx\">budgets</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                    <span class=\"na\">budget_min</span><span class=\"p\">:</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"nx\">B_RANGE</span><span class=\"p\">,</span>\n                    <span class=\"na\">budget_max</span><span class=\"p\">:</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"nx\">B_RANGE</span>\n                <span class=\"p\">};</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">yens</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nx\">budgets</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                <span class=\"na\">budget_min</span><span class=\"p\">:</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">min</span><span class=\"p\">(</span><span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]),</span>\n                <span class=\"na\">budget_max</span><span class=\"p\">:</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">max</span><span class=\"p\">(</span><span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"nx\">yens</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n            <span class=\"p\">};</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">budgets</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">budgets</span><span class=\"p\">.</span><span class=\"nx\">budget_min</span> <span class=\"o\">=</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">max</span><span class=\"p\">(</span><span class=\"nx\">B_MIN</span><span class=\"p\">,</span> <span class=\"nx\">budgets</span><span class=\"p\">.</span><span class=\"nx\">budget_min</span><span class=\"p\">);</span>\n        <span class=\"nx\">budgets</span><span class=\"p\">.</span><span class=\"nx\">budget_max</span> <span class=\"o\">=</span> <span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">min</span><span class=\"p\">(</span><span class=\"nx\">B_MAX</span><span class=\"p\">,</span> <span class=\"nx\">budgets</span><span class=\"p\">.</span><span class=\"nx\">budget_max</span><span class=\"p\">);</span>\n\n        <span class=\"k\">return</span> <span class=\"nx\">budgets</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">null</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"ã‚µãƒ¼ãƒå‘¨ã‚Šé–‹ç™ºç’°å¢ƒ\" class=\"fragment\"></span><a href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E5%91%A8%E3%82%8A%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"><i class=\"fa fa-link\"></i></a>ã‚µãƒ¼ãƒå‘¨ã‚Šã€é–‹ç™ºç’°å¢ƒ</h2>\n\n<ul>\n<li>Node-REDã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã€‚\n\n<ul>\n<li>\n<del>R&amp;Rã¯HTTPãƒãƒ¼ãƒ‰ã€NLCã¯å°‚ç”¨ãƒãƒ¼ãƒ‰ã§ãªã„ã¨ã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ãã‚Œã¾ã›ã‚“ã§ã—ãŸâ€¦ã€‚</del>ãã‚‚ãã‚‚ãƒãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒ ã«è³‡æ ¼æƒ…å ±ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€ä»Šèª¿ã¹ãŸã¨ã“ã‚ã€Bluemixå´ã§ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶šè¨­å®šã—ã¦ã‚Œã°å°‚ç”¨ãƒãƒ¼ãƒ‰ã§ãã®ã¾ã¾å‹•ãã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ</li>\n</ul>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/d4acd27a746362387874899715d6c93c3ed61ae5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f31306464383462382d636161332d393630352d363830612d6466633835613663663764652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F10dd84b8-caa3-9605-680a-dfc85a6cf7de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8a2974e68ba0068a631462ee6b6447bf\" alt=\"nodered.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/10dd84b8-caa3-9605-680a-dfc85a6cf7de.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F10dd84b8-caa3-9605-680a-dfc85a6cf7de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=de022efb94745a2f939092fd1aef24c3 1x\" loading=\"lazy\"></a></p>\n\n<ul>\n<li>\n<p>Javaã¯ä»•äº‹ã§ã‚ã¾ã‚Šè§¦ã‚Œã‚‰ã‚Œã¦ãªã‹ã£ãŸã®ã§ã™ãŒã€RESTå‘¼ã³å‡ºã—ã€JSONâ†’DBã€DBâ†’JSONorCSVãªã©è‰²ã€…ã§ãã¦æ¥½ã—ã‹ã£ãŸã§ã™ã€‚</p>\n\n<ul>\n<li>Eclipseã®MavenãŒå‚ç…§è¿½åŠ ã‚„å‰Šé™¤ã®ãŸã³ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã€ã¨æ€ãˆã°å”çªã«æ²»ã‚Šã€ã‚ˆãã‚ã‹ã‚‰ãšã€‚</li>\n<li>ä½œæ¥­ä¸­ç”Ÿã˜ãŸã‚¹ãƒˆãƒ¬ã‚¹ã®3/5ã»ã©ã¯Mavenèµ·å› ã®æ°—ãŒã—ã¾ã™â€¦</li>\n</ul>\n</li>\n<li><p>Rankerä½œæˆç”¨å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆã«ã‚ãŸã£ã¦ã€ã‚ã‚‹æ¤œç´¢æ–‡ã®æ¤œç´¢çµæœã«å¯¾ã—ã¦è¿”å´ã•ã‚Œãªã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ æ¸›ç‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨train.pyã«ã¦ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ãŸã‚ã€Javaã‹ã‚‰Solrã«å¯¾ã—ã¦æ¤œç´¢ã‚’ã‹ã‘ã¦ã€è¿”å´ã•ã‚Œã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é¸åˆ¥ã—ã¦ã„ã¾ã™ã€‚</p></li>\n</ul>\n\n<h2>\n<span id=\"é›‘è¨˜\" class=\"fragment\"></span><a href=\"#%E9%9B%91%E8%A8%98\"><i class=\"fa fa-link\"></i></a>é›‘è¨˜</h2>\n\n<ul>\n<li>å¹´æœ«å¹´å§‹ã«ã ã‚‰ã ã‚‰ã‚„ã£ã¦4~5äººæ—¥ã»ã©ã§å®Œæˆã€‚</li>\n<li>ç„¡æ–™æ ã‚’è€ƒæ…®ã—ãªã‹ã£ãŸå ´åˆã€ç¶­æŒè²»ã¯ã€œ5000å††/æœˆç¨‹åº¦ã‹ï¼Ÿï¼ˆRanker1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹1000å††+NLC1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹2000å††+Node-REDã€œ1500å††+å­¦ç¿’APIï¼‰\n\n<ul>\n<li>ç„¡æ–™æ ã‚ã‚Š&amp;ä½œæˆã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªãŒã“ã‚Œã ã‘ã®å ´åˆã¯ç¶­æŒè²»ã¯0å††ã«ã§ãã‚‹ï¼ˆã¯ãšï¼Ÿï¼‰</li>\n<li>æœ¬ç•ªç¨¼åƒæ™‚ã¯ã“ã¡ã‚‰ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã€<a href=\"https://www.google.co.jp/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=(0.3+*+24+*+30)%E3%83%89%E3%83%AB+%E6%97%A5%E6%9C%AC%E5%86%86\" rel=\"nofollow noopener\" target=\"_blank\">é«˜å¯ç”¨æ€§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½¿ã†ã¨â€¦</a>\n</li>\n</ul>\n</li>\n<li>è‚å¿ƒã®å­¦ç¿’ã®éƒ¨åˆ†ï¼ˆRankerã‚„NLCã®ä»•çµ„ã¿ãƒ»ã‚ˆã‚Šè‰¯ã„ä½œã‚Šæ–¹ï¼‰ã«ã¤ã„ã¦ã¯ã€ã‚ˆãã‚ã‹ã‚‰ãšâ€¦ã€‚\n\n<ul>\n<li>ç‰¹ã«R&amp;Rã«ã¤ã„ã¦ã¯ã€è¦‹ãŸç›®ã«ç´å¾—ã®ã„ãæ¤œç´¢çµæœã«ã¯ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚Rankerç”ŸæˆãŒãŠç²—æœ«ã ã‹ã‚‰ã ã¨æ€ã„ã¾ã™â€¦ã€‚</li>\n<li>èª²é‡‘ã‚‚æ°—ã«ã—ã¤ã¤ã€ã§ãã‚Œã°è¿‘ãæ”¹ä¿®ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰\" class=\"fragment\"></span><a href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\"><i class=\"fa fa-link\"></i></a>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</h1>\n\n<p><a href=\"https://github.com/yktakaha4/WatsonRestaurant\" rel=\"nofollow noopener\" target=\"_blank\">Github</a>ã«å…¬é–‹ã—ã¦ã¿ã¾ã—ãŸã€‚</p>\n",
      "body": "# ã¯ã˜ã‚ã«\nç¤¾å†…ã§ã®ç™ºè¡¨ä¼šã®ãƒã‚¿ã¨ã—ã¦Watson Developer Cloudã‚’ä½¿ã£ãŸWebã‚¢ãƒ—ãƒªé–‹ç™ºã«æŒ‘æˆ¦ã—ãŸã®ã§ã€ãã®ã¾ã¨ã‚ã¨å‚™å¿˜éŒ²ã«ãªã‚Šã¾ã™ã€‚\n\n# ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦\n## æ©Ÿèƒ½ï¼ˆã§ãã‚‹ã¨ã¯è¨€ã£ã¦ã„ãªã„ï¼‰\nãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ› or ã—ã‚ƒã¹ã£ã¦è³ªå•ã™ã‚‹ã¨ã€ã‚ã‚‹åœ°ç‚¹ã‹ã‚‰åŠå¾„1kmã»ã©ã®é£²é£Ÿåº—ã®ä¸­ã‹ã‚‰ã€WatsonãŒã‚ªã‚¹ã‚¹ãƒ¡ã®ãŠåº—ã‚’ç´¹ä»‹ã—ã¦ãã‚Œã¾ã™ã€‚\nã€Œã‹ã‚‰ã‚ã’å®šé£ŸãŒé£Ÿã¹ãŸã„ã€ã€Œäºˆç®—4000å††ã¾ã§ã§é­šç³»ã®å±…é…’å±‹ã€ãªã©ã€æ€ã„ã¤ã„ãŸè¨€è‘‰ã§å•ã„ã‹ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n![search.png](https://qiita-image-store.s3.amazonaws.com/0/106259/824a1109-ba36-4ebf-55b4-1141d2e0e274.png)\n\nãŠåº—ã¯ä¸€è¦§å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚â˜…ãŒå¤šã„ã»ã©ã‚ªã‚¹ã‚¹ãƒ¡ã®é£²é£Ÿåº—ã¨ãªã‚Šã¾ã™ã€‚\næ°—ã«ãªã£ãŸãŠåº—ã¯ä¸€è¦§ã«ãƒ”ãƒ³ç•™ã‚ã§ãã‚‹ã®ã§ã€ãã‚‹ãªã³HPã®æƒ…å ±ã‚„ç¾åœ¨åœ°ã‹ã‚‰ã®è·é›¢ãƒ»é“é †ã‚’ç¢ºèªã—ãªãŒã‚‰ã€è¨ªã‚Œã‚‹ãŠåº—ã‚’æ±ºã‚ã¾ã™ã€‚\n\n![map.png](https://qiita-image-store.s3.amazonaws.com/0/106259/f3fedc7c-99d5-5fb5-a377-687da4e70d79.png)\n\nãŠåº—ã«è¡Œã£ãŸã‚‰ï¼ˆæ˜”è¡Œã£ãŸã“ã¨ãŒã‚ã‚‹ã€ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ï¼‰ã€æ˜¯éæ„Ÿæƒ³ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ãã ã•ã„ã€‚\nã€Œã¨ã£ã¦ã‚‚ç¾å‘³ã—ã‹ã£ãŸã€ãªã‚‰ä»–ã®äººã«ã‚‚ã‚ªã‚¹ã‚¹ãƒ¡ã§ãã‚‹ãŠåº—ã€ã€Œåº—å“¡ãŒå£å–§å˜©ã—ã¦ã„ãŸã€ãªã‚‰ã‚ã¾ã‚Šã‚ªã‚¹ã‚¹ãƒ¡ã§ããªã„ãŠåº—ãªã©ã€ã‚³ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’åˆ†æãƒ»å­¦ç¿’ã—ã€æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã¾ã™ã€‚\n\n![comment.png](https://qiita-image-store.s3.amazonaws.com/0/106259/0befd4ab-b813-9b36-b59d-d46d42c8877c.png)\n\n![classify.png](https://qiita-image-store.s3.amazonaws.com/0/106259/0e1254bd-0f7b-3c2f-cd45-e6e801cca7b0.png)\n\n## æ§‹æˆå›³\næœ€åˆã¯å…¨ã¦Bluemixä¸Šã«æ§‹ç¯‰ã—ã‚ˆã†ã¨ã‚‚è€ƒãˆãŸã®ã§ã™ãŒã€ClearDBã®ç„¡æ–™æ ãŒã“ã“ã‚ã‚‚ã¨ãªã‹ã£ãŸï¼ˆ5MBï¼‰ã®ã¨ã€å€‹äººæ‰€æœ‰ã®PCã®é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã‚‹æ„å‘³ã‚‚å…¼ã­ã¦ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®JSã‹ã‚‰é©å®œNode-REDä¸Šã«ç”¨æ„ã—ãŸREST APIã‚’å‘¼ã³å‡ºã—ã¦ã€æ¤œç´¢çµæœè¡¨ç¤ºã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã®è©•ä¾¡ã‚’è¡Œã„ã¾ã™ã€‚\n<img width=\"726\" alt=\"kousei.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/e8c7848f-f353-de06-a408-2de3ae413234.png\">\n\nä»¥ä¸‹ã®ã‚ˆã†ãªé‹ç”¨ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ã„ã¾ã™ã€‚\n\n1. ãƒ­ãƒ¼ã‚«ãƒ«ã«ã¦R&RåŠã³NLCã®ãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ»æŠ•å…¥\n2. ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ã†ã¨ã€ClearDBä¸Šã«ãƒ­ã‚°ãŒè“„ç©ã•ã‚Œã‚‹\n3. ãƒ­ã‚°ãŒæºœã¾ã£ãŸã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ãã¦ã€å†åº¦ãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ»æŠ•å…¥\n4. æ¤œç´¢çµæœãŒæ”¹å–„ã•ã‚Œã‚‹ï¼ˆã•ã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ãªã„ï¼‰\n\n# æ‰€æ„Ÿ\n## Retrieve and Rank\n- [å…ˆæ—¥ä½¿ã£ãŸã°ã‹ã‚Š](http://qiita.com/takaha4/items/0a1dcad29162f02b3908)ã¨ã„ã†ã“ã¨ã‚‚ã‚ã£ã¦èª¿å­ã«ä¹—ã£ã¦ãŠã‚Šã€èª¤ã£ã¦é«˜å¯ç”¨æ€§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç«‹ã¡ä¸Šã’ã¦ï¼ˆï¼ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆæ™‚ã«ã€ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã—ã¦ä½œæˆï¼‰é–‹ç™ºã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚\n    - æ•°æ—¥ä½œæ¥­ã—ãŸã¨ã“ã‚ã§æ…Œã¦ã¦æ°—ã¥ã„ã¦å†ä½œæˆã—ãŸãŒã€8000å††ã»ã©èª²é‡‘ãŒç™ºç”Ÿâ€¦ã€‚\n    - ä»¥ä¸‹ã®è¦é ˜ã§ä½œæˆã—ã¾ã—ã‚‡ã†ï¼ˆcluster_sizeã‚’ç©ºï¼‰\n\n```shell-session\ncurl -k -X POST -u \"**username:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\" -d \"{\\\"cluster_size\\\":\\\"\\\",\\\"cluster_name\\\":\\\"WatsonRestaurantCluster\\\"}\"\n```\n\n- ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n    - å…ˆé”ã‚’çœŸä¼¼ã—ã¦ã„ã‚‹ã ã‘ãªã®ã§ã™ãŒã€è¨˜äº‹ã‚’æ›¸ãã«ã‚ãŸã£ã¦Tutorialã‚’è¦‹ãŸã¨ã“ã‚ã€[é•ã†æ›¸ãæ–¹](https://www.ibm.com/watson/developercloud/doc/retrieve-rank/configure.shtml)ãŒä¾‹ç¤ºã•ã‚Œã¦ã„ãŸã®ã§ã€é–“é•ã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“â€¦\n\n```xml:schema.xml\n   <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n\n   <field name=\"shop_id\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"vote_id\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"shop_name\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"shop_name_kana\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"menu_name\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"menu_name_kana\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"latitude\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"longitude\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"shop_url\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"image_url\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"pr_text\" type=\"string\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n\n   <field name=\"shop_text\" type=\"watson_text_ja\" indexed=\"false\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n\n   <field name=\"budget\" type=\"int\" indexed=\"true\" stored=\"true\" required=\"true\" multiValued=\"false\" />\n```\n\n```xml:schema.xml\n  <fieldType name=\"watson_text_ja\" indexed=\"true\" stored=\"true\" class=\"com.ibm.watson.hector.plugins.fieldtype.WatsonTextField\">\n      <analyzer type=\"index\">\n          <tokenizer class=\"solr.JapaneseTokenizerFactory\" mode=\"search\" userDictionary=\"lang/userdict_ja.txt\" />\n          <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\" tokenizerFactory=\"solr.JapaneseTokenizerFactory\" userDictionary=\"lang/userdict_ja.txt\"/>\n          <filter class=\"solr.JapaneseBaseFormFilterFactory\"/>\n          <filter class=\"solr.CJKWidthFilterFactory\"/>\n          <filter class=\"solr.JapaneseKatakanaStemFilterFactory\" minimumLength=\"4\"/>\n          <filter class=\"solr.LowerCaseFilterFactory\"/>\n      </analyzer>\n      <analyzer type=\"query\">\n          <tokenizer class=\"solr.JapaneseTokenizerFactory\" mode=\"search\" userDictionary=\"lang/userdict_ja.txt\" />\n          <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\" tokenizerFactory=\"solr.JapaneseTokenizerFactory\" userDictionary=\"lang/userdict_ja.txt\"/>\n          <filter class=\"solr.JapaneseBaseFormFilterFactory\"/>\n          <filter class=\"solr.JapanesePartOfSpeechStopFilterFactory\" tags=\"lang/stoptags_ja.txt\"/>\n          <filter class=\"solr.CJKWidthFilterFactory\"/>\n          <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"lang/stopwords_ja.txt\"/>\n          <filter class=\"solr.JapaneseKatakanaStemFilterFactory\" minimumLength=\"4\"/>\n          <filter class=\"solr.LowerCaseFilterFactory\"/>\n      </analyzer>\n  </fieldType>\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹ï¼ˆRetrieveï¼‰\n\n- [ãã‚‹ãªã³API](http://api.gnavi.co.jp/api/manual/)ã‚’å…ƒãƒã‚¿ã«1500ä»¶ã»ã©ç”Ÿæˆ\n\n1. ãã‚‹ãªã³ã®ãŠåº—ã®PRæ–‡ã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n    - APIã‹ã‚‰é€£æºã•ã‚Œã‚‹åº—èˆ—IDæ¯ã«1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n2. ãã‚‹ãªã³ã®å¿œæ´å£ã‚³ãƒŸã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n    - åº—èˆ—ID+å¿œæ´å£ã‚³ãƒŸIDã«1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n3. ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨è€…ã®ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n    - åº—èˆ—ID+ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆï¼ˆNLCã«ã¦ãƒã‚¸ãƒ†ã‚£ãƒ–è©•ä¾¡ã•ã‚ŒãŸã‚‚ã®ã®ã¿ï¼‰\n\n```json:rar_documents.json\n{\n  \"id\" : \"5497472\",\n  \"shop_id\" : \"5497472\",\n  \"vote_id\" : \"\",\n  \"shop_name\" : \"å¤©ä¸‹ä¸€å“ äº”åç”°åº—\",\n  \"shop_name_kana\" : \"ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³\",\n  \"menu_name\" : \"\",\n  \"menu_name_kana\" : \"\",\n  \"latitude\" : \"35.624377\",\n  \"longitude\" : \"139.723394\",\n  \"shop_url\" : \"http://r.gnavi.co.jp/b5tzzw2g0000/\",\n  \"image_url\" : \"\",\n  \"pr_text\" : \"é¶ã¨æ•°ç¨®é¡ã®ç´ æã‚’æ™‚é–“ã‚’ã‹ã‘ã¦ç…®è¾¼ã‚“ã ã‚¹ãƒ¼ãƒ—ã§ã™ã€‚ç¾å®¹ã¨å¥åº·ã«ã„ã„ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ãŒã„ã£ã±ã„ã§ã™ã€‚\",\n  \"shop_text\" : \"å¤©ä¸‹ä¸€å“äº”åç”°åº—ã€‚ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³ã€‚ãƒ©ãƒ¼ãƒ¡ãƒ³ éººæ–™ç† ãã®ä»–ã€‚ç¾å®¹ã¨å¥åº·ã«ã„ã„ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ã‚’è±Šå¯Œã«å«ã‚“ã§ãŠã‚Šã€ä»–ã§ã¯çµ¶å¯¾ã«å‘³ã‚ã†ã“ã¨ãŒã§ããªã„ã‚¹ãƒ¼ãƒ—ã§ã™ã€‚ä»–ã«ã‚‚åŠãƒãƒ£ãƒ¼ãƒãƒ³ã¨ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸå®šé£Ÿã€‚ã‚®ãƒ§ã‚¦ã‚¶ã€åŠãƒ©ã‚¤ã‚¹ã€ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸã‚®ãƒ§ã‚¦ã‚¶å®šé£Ÿã€‚åŠãƒãƒ£ãƒ¼ãƒãƒ³ã€ã‚®ãƒ§ã‚¦ã‚¶ã€ä¸­è¯ãã°ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸã‚µãƒ¼ãƒ“ã‚¹å®šé£Ÿãªã©ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚è±Šå¯Œã«å–ã‚Šæƒãˆã¦ã„ã¾ã™ã€‚\",\n  \"budget\" : -1\n}\n```\n\n### å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã—ãŸã‹ï¼ˆRankï¼‰\n\n- åˆæœŸç§»è¡Œï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨ã«ä¼´ã„ç™ºç”Ÿã™ã‚‹å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãªã—ï¼‰ã®æ®µéšã§750ä»¶ã»ã©ä½œæˆ\n\n1. ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‹ã‚‰è³ªå•æ–‡ã‚’ç”Ÿæˆã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n    - ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã¨ã„ã†æ¤œç´¢ã«å¯¾ã—ã¦ã€ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n2. ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã‹ã‚‰è³ªå•æ–‡ã‚’ç”Ÿæˆã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n    - ã€Œå”æšã’å®šé£Ÿã€ã¨ã„ã†æ¤œç´¢ã«å¯¾ã—ã¦ã€ã€Œå”æšã’å®šé£Ÿã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n3. è©³ç´°æƒ…å ±ãŒé–²è¦§ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ã—ãŸã‚ã‚‹ã‚¯ã‚¨ãƒªã«å¯¾ã™ã‚‹æ¤œç´¢çµæœã®ä¸­ã§ã€GoogleMapè¡¨ç¤ºã‚„ãã‚‹ãªã³HPã¸ã®ãƒªãƒ³ã‚¯ãŒæŠ¼ä¸‹ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n4. ã‚³ãƒ¡ãƒ³ãƒˆãŒå®Ÿæ–½ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ æ¸›ç‚¹\n    - ã‚³ãƒ¡ãƒ³ãƒˆã‚’NLCã§è§£æã—ãŸçµæœãŒãƒã‚¸ãƒ†ã‚£ãƒ–è©•ä¾¡ã ã£ãŸå ´åˆåŠ ç‚¹ã€ãƒã‚¬ãƒ†ã‚£ãƒ–è©•ä¾¡ã ã£ãŸå ´åˆæ¸›ç‚¹\n5. ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã®é«˜ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ ç‚¹\n    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ã—ãŸå…¨ã¦ã®ã‚¯ã‚¨ãƒªã®æ¤œç´¢çµæœã®ä¸­ã§ã€ãã‚‹ãªã³ã§å¿œæ´å£ã‚³ãƒŸãŒå¤šãã¤ã„ã¦ã„ã‚‹ãŠåº—ã«åŠ ç‚¹\n    - NLCã®åˆ¤æ–­çµæœã«åŸºã¥ã„ã¦åŠ æ¸›ç‚¹\n\n```text:rar_training.csv\n\"%E3%83%AF%E3%83%83%E3%83%91%E3%83%BC\",\"6364602.681550\",\"2\"\n\"%E3%82%BF%E3%82%A4%E3%82%AC%E3%83%91%E3%82%AA\",\"7255599\",\"1\",\"7255599.4618610\",\"3\"\n\"%E5%A1%A9%E3%83%AC%E3%83%A2%E3%83%B3%E3%82%AC%E3%83%91%E3%82%AA\",\"e584801.1192601\",\"2\",\"6408790.4601796\",\"2\",\"geyc200.4614278\",\"4\",\"g044108.4609358\",\"4\",\"6085706.1451291\",\"1\"\n```\n\n##ã€€è¾æ›¸ãƒ‡ãƒ¼ã‚¿ï¼ˆSolræ©Ÿèƒ½ï¼‰\n\n- è¾æ›¸ã®ç”Ÿæˆã«ã‚ãŸã£ã¦[Kuromoji neologd](https://github.com/codelibs/elasticsearch-analysis-kuromoji-neologd)ã‚’ä½¿ã£ãŸã®ã§ã™ãŒã€Kuromojiã¨æ¯”è¼ƒã—ã¦è‰²ã€…ãªèªã‚’èªè­˜ã§ãã¦ãŠã‚Šã€ã“ã‚ŒãŒç„¡æ–™ã§ä½¿ãˆã‚‹ãªã‚“ã¦â€¦ã¨æ„Ÿã˜å…¥ã‚Šã¾ã—ãŸã€‚\n- ãŠåº—ã®åå‰ã¯ã€ãã‚‹ãªã³APIã‹ã‚‰èª­ã¿ã¨åˆã‚ã›ã¦å–å¾—ã§ããŸã®ã§ã€ãã‚Œã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚\n\n1. åº—åã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã€ã‚«ãƒ†ã‚´ãƒªåã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ã‚’ç”Ÿæˆ\n    - ã€Œã“ã£ã¦ã‚Šãƒ©ãƒ¼ãƒ¡ãƒ³ã€ã¨ã„ã†èªã§å¤©ä¸€ãŒæ¤œç´¢ä¸Šä½ã«å‡ºã¦æ¬²ã—ã„ã€‚\n2. ã‚«ãƒ†ã‚´ãƒªå¤§åˆ†é¡ã§æ¤œç´¢ã•ã‚ŒãŸæ™‚ã«ã€å†…åŒ…ã•ã‚Œã‚‹ã‚«ãƒ†ã‚´ãƒªå°åˆ†é¡ãŒæ¤œç´¢ã•ã‚Œã‚‹ã‚ˆã†ã«ã€ã‚·ãƒãƒ‹ãƒ è¾æ›¸ã‚’ç”Ÿæˆ\n    - ã€Œã‚¤ã‚¿ãƒªã‚¢ãƒ³ã€ã§æ¤œç´¢ã—ãŸæ™‚ã«ã€Œãƒ”ã‚¶ã€ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ¤œç´¢ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n3. ã‚¹ãƒˆãƒƒãƒ—ãƒ¯ãƒ¼ãƒ‰è¾æ›¸ã‚’é©å½“ã«ç·¨é›†\n    - ã€Œç¾å‘³ã—ã„ã€ã€ã€ŒãŠåº—ã€ãªã©ã®èªã¯å–ã‚Šé™¤ã„ãŸæ–¹ãŒè‰¯ã„ã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚\n    - ï¼ˆæœ‰ç„¡ã§çµæœæ¯”è¼ƒã—ã¦ãªã„ã®ã§ãªã‚“ã¨ã‚‚è¨€ãˆã¾ã›ã‚“ãŒâ€¦ï¼‰\n\n```text:userdict_ja.txt\nå¤©ä¸‹ä¸€å“,å¤©ä¸‹ä¸€å“,ãƒ†ãƒ³ã‚«ã‚¤ãƒƒãƒ”ãƒ³,ã‚«ã‚¹ã‚¿ãƒ åè©\né¶ã€…å‘³é³¥,é¶ã€…å‘³é³¥,ãƒˆãƒªãƒ‰ãƒªãƒŸãƒ‰ãƒª,ã‚«ã‚¹ã‚¿ãƒ åè©\né­šåŒ äº”åç”°åº—,é­šåŒ äº”åç”°åº—,ã‚¦ã‚ªã‚·ãƒ§ã‚¦ã‚´ã‚¿ãƒ³ãƒ€ãƒ†ãƒ³,ã‚«ã‚¹ã‚¿ãƒ åè©\nã€†ã‚µãƒ,ã€†ã‚µãƒ,ã€†ã‚µãƒ,ã‚«ã‚¹ã‚¿ãƒ åè©\nãƒ©ãƒ•ãƒ†ãƒ¼,ãƒ©ãƒ•ãƒ†ãƒ¼,ãƒ©ãƒ•ãƒ†ãƒ¼,ã‚«ã‚¹ã‚¿ãƒ åè©\n```\n\n```text:synonyms.txt\nã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯ => è–¬è†³æ–™ç† ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ–™ç† é‡èœæ–™ç† ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯\nå‰µä½œ å‰µä½œæ–™ç† => å‰µä½œå’Œé£Ÿ å‰µä½œæ–™ç† ç„¡å›½ç±æ–™ç†\nã‚¤ã‚¿ãƒªã‚¢ãƒ³ =>  ã‚¤ã‚¿ãƒªã‚¢ãƒ³ ã‚¤ã‚¿ãƒªã‚¢æ–™ç† ãƒ‘ã‚¹ã‚¿ ãƒ”ã‚¶\nãƒ•ãƒ¬ãƒ³ãƒ => ãƒ•ãƒ¬ãƒ³ãƒ ãƒ•ãƒ©ãƒ³ã‚¹æ–™ç† ãƒ“ã‚¹ãƒˆãƒ­\n```\n\n## Natural Language Classifier\n\n- R&Rã«æ¯”ã¹ã‚Œã°ã€éšåˆ†ç°¡å˜ã«ä½¿ãˆã¾ã—ãŸã€‚ï¼ˆã¡ã‚ƒã‚“ã¨åˆ¤å®šã•ã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ãªã„ï¼‰\n\n### ãƒã‚¸ãƒã‚¬åˆ¤å®šç”¨ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ã‚ˆã†ã«ä½œæˆã—ãŸã‹\n- ãƒã‚¸ã€ãƒã‚¬ã®2ã‚¯ãƒ©ã‚¹ã«å¯¾ã—ã¦åˆè¨ˆ1600ä»¶ã»ã©å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã€‚\n- R&Rã¯å¦å®šã®è¨€è‘‰ã‚’ã†ã¾ãæ±²ã¿å–ã£ã¦ãã‚Œãªã„ï¼ˆä¾‹ï¼šã€Œç¾å‘³ã—ããªã„ã€ã¨ã„ã†æ¤œç´¢ã«ã€Œç¾å‘³ã—ã„ã€ãŒå¼•ã£ã‹ã‹ã‚‹ï¼‰å°è±¡ãŒã‚ã‚Šã¾ã—ãŸãŒã€ï¼ˆå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã§ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚Œã°ï¼‰ã‚„ã‚„ã“ã—ã„è¨€ã„æ–¹ã§ã‚‚æ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹ã®ãŒé¢ç™½ã„ã¨æ€ã„ã¾ã—ãŸã€‚\n\n1. ãƒã‚¸ãƒ†ã‚£ãƒ–ï¼ˆyummyï¼‰\n    - ãã‚‹ãªã³APIã®å¿œæ´å£ã‚³ãƒŸã‹ã‚‰ã€ç‚¹æ•°ãŒé«˜ã‹ã£ãŸã‚Šã‚¤ã‚¤ã­ãŒå¤šãã¤ã„ã¦ã„ã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å¥ç‚¹æ¯ã«ä¸€å®šã®é•·ã•ã«åˆ†å‰²ã—ã¦ç™»éŒ²ã€‚\n2. ãƒã‚¬ãƒ†ã‚£ãƒ–ï¼ˆyackyï¼‰\n    - ãƒã‚¸ãƒ†ã‚£ãƒ–ã®é€†ï¼ˆå¿œæ´å£ã‚³ãƒŸä½è©•ä¾¡ï¼‰ã§ç”Ÿæˆã§ãã‚‹ã®ãŒæœŸå¾…å€¤ã§ã—ãŸãŒã€ãƒã‚¬ãƒ†ã‚£ãƒ–ãªè©•ä¾¡ãŒå£ã‚³ãƒŸã«ã»ã¨ã‚“ã©ç™»éŒ²ã•ã‚Œã¦ãŠã‚‰ãšå›°æƒ‘â€¦æ¤œé–²ã§ã—ã‚‡ã†ã‹ï¼Ÿ\n    - çµå±€2ã¡ã‚ƒã‚“ã­ã‚‹ã‚„é£²é£Ÿåº—ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ–ãƒ­ã‚°ã‹ã‚‰æ‰‹ã‚³ãƒ”ãƒšã§ç™»éŒ²ã€‚\n\n```text:nlc_training.csv\n\"ãŠè…¹ã‚‚æº€è¶³\",\"yummy\"\n\"æ¯å­ã®å¤§å¥½ç‰©ã§ã™\",\"yummy\"\n\"æ–°é®®è·äººã•ã‚“ãŸã¡ã®å¨å‹¢ã®ã‚ˆã•ã‚‚ã€æ°—æŒã¡ã„ã„\",\"yummy\"\n\"ã§ã‹ã„ãŠãªã‹ã„ã£ã±ã„\",\"yummy\"\n\"æ‡ã‹ã—ã„å‘³\",\"yummy\"\n\"ã²ã©ã„åº—ã§ã—ãŸ\",\"yacky\"\n\"ãŠåˆºèº«ã®é®®åº¦ãŒæ‚ªãã¾ãšã‹ã£ãŸ\",\"yacky\"\n\"å“è³ªãŒæ‚ªã„ã€‚å¾®å¦™\",\"yacky\"\n\"ä¸­é€”åŠç«¯ã§è‰¯ã„ã¨ã“ã‚ãŒãªã„\",\"yacky\"\n\"ç¾å‘³ã—ããªã„ã€‚å®‰ã£ã½ã„\",\"yacky\"\n```\n\n## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘¨ã‚Š\n\n- R&Rã€NLCã‚ˆã‚Šã‚‚ã€ãƒ•ã‚©ãƒ³ãƒˆã‚„ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ•´ç†ã—ãŸã‚Šã€èˆˆå‘³æœ¬ä½ã§å°å…¥ã—ãŸbootstrapã‚„GoogleMapsAPIã®ç†è§£ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸâ€¦\n- äºˆç®—ã«ã‚ˆã‚‹æ¤œç´¢ã®çµã‚Šè¾¼ã¿ã¯ã€ä½œã‚Šè¾¼ã¿ã§æ¤œç´¢æ–‡ã‚ˆã‚Šé‡‘é¡ã‚’å–å¾—ã—ã€Solrã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã‚„ã‚Šã¾ã—ãŸã€‚\n\n```js:äºˆç®—åˆ¤å®š\nfunction getBudgets(query) {\n    var B_MIN = 0;\n    var B_MAX = 100000;\n    var B_RANGE = 500;\n    var budgets = null;\n    query = query.replace(/ï¼-ï¼™/g, function(s) {\n        return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\n    });\n    var matches = query.match(/\\d+(?=å††)|(ã‹ã‚‰|ä»¥ä¸Š)|(ã¾ã§|ä»¥å†…|æœªæº€|ä»¥ä¸‹|è¶³ã‚‰ãš)/g);\n    if (matches) {\n        var yens = matches.filter(function(y) {\n            if (isFinite(y)) {\n                return y > B_MIN && y < B_MAX\n            } else {\n                return false;\n            }\n        });\n        if (yens.length == 1) {\n            var condition;\n            try {\n                condition = matches[matches.indexOf(yens[0]) + 1];\n            } catch (e) {\n                condition = null;\n            }\n            yens = yens.map(function(y) {\n                return Number(y.replace(/^0+/g, \"\"));\n            });\n\n            if (condition) {\n                if (/ã‹ã‚‰|ä»¥ä¸Š/g.test(condition)) {\n                    budgets = {\n                        budget_min: yens[0],\n                        budget_max: B_MAX\n                    };\n                } else {\n                    budgets = {\n                        budget_min: B_MIN,\n                        budget_max: yens[0]\n                    };\n                }\n            } else {\n                budgets = {\n                    budget_min: yens[0] - B_RANGE,\n                    budget_max: yens[0] + B_RANGE\n                };\n            }\n        } else if (yens.length >= 2) {\n            budgets = {\n                budget_min: Math.min(yens[0], yens[1]),\n                budget_max: Math.max(yens[0], yens[1])\n            };\n        }\n    }\n    if (budgets) {\n        budgets.budget_min = Math.max(B_MIN, budgets.budget_min);\n        budgets.budget_max = Math.min(B_MAX, budgets.budget_max);\n\n        return budgets;\n    } else {\n        return null;\n    }\n}\n```\n\n## ã‚µãƒ¼ãƒå‘¨ã‚Šã€é–‹ç™ºç’°å¢ƒ\n\n- Node-REDã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã€‚\n    - ~~R&Rã¯HTTPãƒãƒ¼ãƒ‰ã€NLCã¯å°‚ç”¨ãƒãƒ¼ãƒ‰ã§ãªã„ã¨ã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ãã‚Œã¾ã›ã‚“ã§ã—ãŸâ€¦ã€‚~~ãã‚‚ãã‚‚ãƒãƒ¼ãƒ‰ã®ãƒ•ã‚©ãƒ¼ãƒ ã«è³‡æ ¼æƒ…å ±ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€ä»Šèª¿ã¹ãŸã¨ã“ã‚ã€Bluemixå´ã§ã‚µãƒ¼ãƒ“ã‚¹æ¥ç¶šè¨­å®šã—ã¦ã‚Œã°å°‚ç”¨ãƒãƒ¼ãƒ‰ã§ãã®ã¾ã¾å‹•ãã‚“ã§ã—ã‚‡ã†ã‹ï¼Ÿ\n\n![nodered.png](https://qiita-image-store.s3.amazonaws.com/0/106259/10dd84b8-caa3-9605-680a-dfc85a6cf7de.png)\n\n- Javaã¯ä»•äº‹ã§ã‚ã¾ã‚Šè§¦ã‚Œã‚‰ã‚Œã¦ãªã‹ã£ãŸã®ã§ã™ãŒã€RESTå‘¼ã³å‡ºã—ã€JSONâ†’DBã€DBâ†’JSONorCSVãªã©è‰²ã€…ã§ãã¦æ¥½ã—ã‹ã£ãŸã§ã™ã€‚\n    - Eclipseã®MavenãŒå‚ç…§è¿½åŠ ã‚„å‰Šé™¤ã®ãŸã³ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã€ã¨æ€ãˆã°å”çªã«æ²»ã‚Šã€ã‚ˆãã‚ã‹ã‚‰ãšã€‚\n    - ä½œæ¥­ä¸­ç”Ÿã˜ãŸã‚¹ãƒˆãƒ¬ã‚¹ã®3/5ã»ã©ã¯Mavenèµ·å› ã®æ°—ãŒã—ã¾ã™â€¦\n\n- Rankerä½œæˆç”¨å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆã«ã‚ãŸã£ã¦ã€ã‚ã‚‹æ¤œç´¢æ–‡ã®æ¤œç´¢çµæœã«å¯¾ã—ã¦è¿”å´ã•ã‚Œãªã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŠ æ¸›ç‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨train.pyã«ã¦ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ãŸã‚ã€Javaã‹ã‚‰Solrã«å¯¾ã—ã¦æ¤œç´¢ã‚’ã‹ã‘ã¦ã€è¿”å´ã•ã‚Œã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é¸åˆ¥ã—ã¦ã„ã¾ã™ã€‚\n\n## é›‘è¨˜\n- å¹´æœ«å¹´å§‹ã«ã ã‚‰ã ã‚‰ã‚„ã£ã¦4~5äººæ—¥ã»ã©ã§å®Œæˆã€‚\n- ç„¡æ–™æ ã‚’è€ƒæ…®ã—ãªã‹ã£ãŸå ´åˆã€ç¶­æŒè²»ã¯ã€œ5000å††/æœˆç¨‹åº¦ã‹ï¼Ÿï¼ˆRanker1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹1000å††+NLC1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹2000å††+Node-REDã€œ1500å††+å­¦ç¿’APIï¼‰\n    - ç„¡æ–™æ ã‚ã‚Š&ä½œæˆã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªãŒã“ã‚Œã ã‘ã®å ´åˆã¯ç¶­æŒè²»ã¯0å††ã«ã§ãã‚‹ï¼ˆã¯ãšï¼Ÿï¼‰\n    - æœ¬ç•ªç¨¼åƒæ™‚ã¯ã“ã¡ã‚‰ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã€[é«˜å¯ç”¨æ€§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½¿ã†ã¨â€¦](https://www.google.co.jp/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q=(0.3+*+24+*+30)%E3%83%89%E3%83%AB+%E6%97%A5%E6%9C%AC%E5%86%86)\n- è‚å¿ƒã®å­¦ç¿’ã®éƒ¨åˆ†ï¼ˆRankerã‚„NLCã®ä»•çµ„ã¿ãƒ»ã‚ˆã‚Šè‰¯ã„ä½œã‚Šæ–¹ï¼‰ã«ã¤ã„ã¦ã¯ã€ã‚ˆãã‚ã‹ã‚‰ãšâ€¦ã€‚\n    - ç‰¹ã«R&Rã«ã¤ã„ã¦ã¯ã€è¦‹ãŸç›®ã«ç´å¾—ã®ã„ãæ¤œç´¢çµæœã«ã¯ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚Rankerç”ŸæˆãŒãŠç²—æœ«ã ã‹ã‚‰ã ã¨æ€ã„ã¾ã™â€¦ã€‚\n    - èª²é‡‘ã‚‚æ°—ã«ã—ã¤ã¤ã€ã§ãã‚Œã°è¿‘ãæ”¹ä¿®ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰\n[Github](https://github.com/yktakaha4/WatsonRestaurant)ã«å…¬é–‹ã—ã¦ã¿ã¾ã—ãŸã€‚\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2017-03-04T09:32:01+09:00",
      "group": null,
      "id": "d14d643db28bc63c7b3f",
      "likes_count": 16,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 16,
      "tags": [
        {
          "name": "Java",
          "versions": []
        },
        {
          "name": "JavaScript",
          "versions": []
        },
        {
          "name": "Bluemix",
          "versions": []
        },
        {
          "name": "Watson",
          "versions": []
        }
      ],
      "title": "IBM Watson + ãã‚‹ãªã³APIã§ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹(ã‚½ãƒ¼ã‚¹ä»˜ã)",
      "updated_at": "2018-12-23T00:59:34+09:00",
      "url": "https://qiita.com/yktakaha4/items/d14d643db28bc63c7b3f",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    },
    {
      "rendered_body": "\n<h1>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h1>\n\n<p>ã¨ã‚ã‚‹ãƒãƒƒã‚«ã‚½ãƒ³ã«å‚åŠ ã—ãŸæŠ˜ã€ä½¿ã†æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã®ã§ã€ãã®æ™‚ã—ãŸã“ã¨ã®å‚™å¿˜éŒ²ã¨ãªã‚Šã¾ã™ã€‚<br>\næœ€å¾Œã¾ã§ã‚„ã‚‹ã¨ã€å­¦ç¿’æ¸ˆ(?)ã®æ¤œç´¢APIã‚’Webã‹ã‚‰å©ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p>(ç§ã®ã‚ˆã†ãª)Bluemixã‚‚æ©Ÿæ¢°å­¦ç¿’ã‚‚è§¦ã£ãŸã“ã¨ãŒãªã„ã€ã§ã‚‚ãªã‚“ã¨ãªãè©¦ã—ã¦ã¿ãŸã„â€¦ã¨ã„ã†æ–¹ã§ã‚‚ãªã‚‹ã¹ãè‹¦ã—ã¾ãªã„ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚³ãƒãƒ³ãƒ‰ã®æƒ…å ±ã‚’è‰²ã€…ã¨è£œå®Œã—ã¾ã—ãŸã€‚<br>\né–“é•ã„ãƒ»å‹˜é•ã„ç­‰ã‚ã‚Šã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜é ‚ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>\n\n<p>[è¿½è¨˜]<br>\nãƒãƒƒã‚«ã‚½ãƒ³ã®å¾Œã«ã€Retrieve and Rankã¨Natural Language Classifierã‚’ç”¨ã„ã¦ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nè¾æ›¸ã‚„å­¦ç¿’ã®è©³ç´°ã«ã¤ã„ã¦ã‚‚è¨˜è¼‰ã—ã¾ã—ãŸã®ã§ã€<a href=\"http://qiita.com/takaha4/items/d14d643db28bc63c7b3f\" id=\"reference-e4e92bc3aab71fe0d400\">ã‚ˆã‚ã—ã‘ã‚Œã°ã”è¦§ãã ã•ã„ã€‚</a></p>\n\n<h1>\n<span id=\"å‚è€ƒè³‡æ–™\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99\"><i class=\"fa fa-link\"></i></a>å‚è€ƒè³‡æ–™</h1>\n\n<p>æœ¬è¨˜äº‹ã¯ã€ä»¥ä¸‹ã‚’å§‹ã‚ã¨ã™ã‚‹å„ç¨®è³‡æ–™ã‚’è¦‹ãªãŒã‚‰ä½œæ¥­ã—ãŸçµæœã®ã¾ã¨ã‚ã«ãªã‚Šã¾ã™ã€‚<br>\nå…ˆã«è¨˜äº‹ã‚’æ›¸ã‹ã‚Œã¦ã„ãŸæ–¹ã€…ã®ãŠé™°ã§ã€ãƒãƒƒã‚«ã‚½ãƒ³å½“æ—¥ã¯ãªã‚“ã¨ã‹å®Œæˆã«ã“ãã¤ã‘ã¾ã—ãŸã€‚<br>\nã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ(æ„Ÿè¬)ã€‚</p>\n\n<ul>\n<li>\n<p>æ¦‚è¦</p>\n\n<ul>\n<li>\n<a href=\"http://www.slideshare.net/komine/watson-api-20160716-rev02\" rel=\"nofollow noopener\" target=\"_blank\">Watson API ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° 20160716 rev02</a>\n\n<ul>\n<li>p54ãã‚‰ã„ã‹ã‚‰Retrieve and Rankã®è©±ã§ã™ãŒã€æ™‚é–“ãŒã‚ã‚Œã°æœ€åˆã‹ã‚‰èª­ã‚“ã æ–¹ãŒã‚ˆã„ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Retrieve and Rank</p>\n\n<ul>\n<li>\n<p><a href=\"https://www.ibm.com/watson/developercloud/doc/retrieve-rank/tutorial.shtml\" rel=\"nofollow noopener\" target=\"_blank\">Tutorial</a></p>\n\n<ul>\n<li>è‹±èªã§ã™ãŒã€è©³ç´°ãªæ‰‹é †&amp;å„ç¨®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™</li>\n</ul>\n</li>\n<li><p><a href=\"http://qiita.com/VegaSato/items/6d2d03d6a8b42adcf87e\" id=\"reference-9312b7a92042b93949e5\">Bluemixã®Retrieve&amp;Rankã«ã‚ˆã‚‹è³ªå•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ ã‚’è©¦ã—ã¦ã¿ãŸ</a></p></li>\n<li><p><a href=\"https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/%E3%81%93%E3%81%BF%E3%81%AD%E3%81%AE%E6%8A%80%E8%A1%93%E3%83%A1%E3%83%A2/page/Retrieve%20and%20Rank%20%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\" rel=\"nofollow noopener\" target=\"_blank\">Retrieve and Rank ã‚µãƒ¼ãƒ“ã‚¹ã®ä½¿ç”¨æ–¹æ³•</a></p></li>\n<li>\n<p><a href=\"http://www.ibm.com/watson/developercloud/retrieve-and-rank/api/v1/\" rel=\"nofollow noopener\" target=\"_blank\">APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹(Retrieve and Rank)</a></p>\n\n<ul>\n<li>ã¾ãšã“ã¡ã‚‰ã‚’èª­ã‚“ã§ã€è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚‰â†“ã‚’æ¢ã™ã®ãŒã‚ˆã„ã¨æ€ã„ã¾ã™</li>\n</ul>\n</li>\n<li><p><a href=\"https://cwiki.apache.org/confluence/display/solr/Apache+Solr+Reference+Guide\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹(Apache Solr)</a></p></li>\n</ul>\n</li>\n<li>\n<p>Node-RED</p>\n\n<ul>\n<li><a href=\"http://ascii.jp/elem/000/001/139/1139255/\" rel=\"nofollow noopener\" target=\"_blank\">ã‚³ãƒ¼ãƒ‰ã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«Node-REDã§Webã‚¢ãƒ—ãƒªã‚’ä½œã‚ã†</a></li>\n<li><a href=\"http://qiita.com/VegaSato/items/7ce47e6a9c06c290b212\" id=\"reference-01da988953dc2fa7461a\">Bluemix Node-REDã‚’ä½¿ã£ã¦Watson APIã‚’å‘¼ã³å‡ºã™</a></li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id=\"æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ‰‹é †</h1>\n\n<h2>\n<span id=\"å‰æ\" class=\"fragment\"></span><a href=\"#%E5%89%8D%E6%8F%90\"><i class=\"fa fa-link\"></i></a>å‰æ</h2>\n\n<ul>\n<li><p>ç­†è€…ã¯Macbookã«ã¦ä½œæ¥­ã‚’å®Ÿæ–½</p></li>\n<li><p>ãƒ–ãƒ©ã‚¦ã‚¶ã¯Chromeã€HTMLã‹ã‚‰ã®ãƒ†ã‚¹ãƒˆã«<a href=\"http://brackets.io/\" rel=\"nofollow noopener\" target=\"_blank\">Brackets</a>ã€ãã®ä»–ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã¨ã—ã¦<a href=\"https://coteditor.com/\" rel=\"nofollow noopener\" target=\"_blank\">CotEditor</a>ã‚’ä½¿ç”¨</p></li>\n<li><p>Windowsã§ã‚‚<a href=\"https://www.google.co.jp/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=windows%20curl\" rel=\"nofollow noopener\" target=\"_blank\">curlã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚Œã°</a>å¤šåˆ†OK</p></li>\n</ul>\n\n<h2>\n<span id=\"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ</h2>\n\n<ul>\n<li><p><a href=\"https://www.ibm.com/marketplace/cloud/cognitive-application-development/jp/ja-jp\" rel=\"nofollow noopener\" target=\"_blank\">IBM Watson Developer Cloud</a>ã«ã¦ã€<strong>ç„¡æ–™è©•ä¾¡ç‰ˆ(30æ—¥é–“)</strong>ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ</p></li>\n<li>\n<p><a href=\"https://console.ng.bluemix.net/dashboard/services\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒ¼ãƒ“ã‚¹</a>ã‹ã‚‰ã€<strong>ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ &gt; Retrieve and Rank &gt; ä½œæˆ</strong></p>\n\n<ul>\n<li>æ–™é‡‘ã®è©±ãŒæ›¸ã„ã¦ã‚ã£ã¦ã³ã³ã‚‹ãŒã€30æ—¥é–“ã¯å¤§ä¸ˆå¤«(ã®ã¯ãš)</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://console.ng.bluemix.net/dashboard/services\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒ¼ãƒ“ã‚¹</a>ã‹ã‚‰ã€<strong>Retrieve and Rank &gt; ã‚µãƒ¼ãƒ“ã‚¹è³‡æ ¼æƒ…å ± &gt; è³‡æ ¼æƒ…å ±ã®è¡¨ç¤º</strong>ã§è¡¨ç¤ºã•ã‚Œã‚‹æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼</p>\n\n<ul>\n<li>ä»¥é™ã€curlã‚³ãƒãƒ³ãƒ‰ã®-uã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã€<code>**username**:**password**</code>ã®å½¢ã§è¨­å®šã™ã‚‹</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"url\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"https://gateway.watsonplatform.net/retrieve-and-rank/api\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"password\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**password**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"username\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**username**\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%BF%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆ</h2>\n\n<ul>\n<li><p>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«(ãªã„ã—ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)ã‚’èµ·å‹•ã€‚curlã‚’å®Ÿè¡Œã—ã¦ã„ã</p></li>\n<li>\n<p>ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆ</p>\n\n<ul>\n<li>\n<code>**cluster_id**</code>ã‚’ã‚³ãƒ”ãƒ¼</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -k -X POST -u \"**username:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\" -d \"\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"solr_cluster_id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**cluster_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"cluster_name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"cluster_size\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"solr_cluster_status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"NOT_AVAILABLE\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<ul>\n<li>ä»¥ä¸‹ã§ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒç¢ºèªã§ãã‚‹ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«<code>READY</code>ãŒè¿”ã‚‹ã¾ã§å¾…ã¤</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"nl\">\"clusters\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[{</span><span class=\"w\">\n  </span><span class=\"nl\">\"solr_cluster_id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**cluster_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"cluster_name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"cluster_size\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"solr_cluster_status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"READY\"</span><span class=\"w\">\n</span><span class=\"p\">}]}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”¨æ„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\" class=\"fragment\"></span><a href=\"#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E7%94%A8%E6%84%8F%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"><i class=\"fa fa-link\"></i></a>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”¨æ„ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h2>\n\n<ul>\n<li>\n<p>ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œã£ã¦ã„ã‚‹é–“ã«ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„</p>\n\n<ul>\n<li>\n<a href=\"https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/%E3%81%93%E3%81%BF%E3%81%AD%E3%81%AE%E6%8A%80%E8%A1%93%E3%83%A1%E3%83%A2/page/Retrieve%20and%20Rank%20%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®æ–¹ãŒæ—¥æœ¬èªç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¬é–‹ã—ã¦ã„ãŸã®ã§ã€ã‚ã‚ŠãŒãŸããŠå€Ÿã‚Šã™ã‚‹(<strong>Attachment &gt; Solr_Japanese_20160108.zip</strong>)</li>\n</ul>\n</li>\n<li>\n<p>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡å¾Œã€schema.xmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª</p>\n\n<ul>\n<li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚Œã°ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ™‚ã«<code>id</code>ã€<code>title</code>ã€<code>body</code>ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åå‰ã‚’å¤‰ãˆãŸã‚Šã€ä»–ã«ä¿æŒã—ãŸã„æƒ…å ±ãŒã‚ã£ãŸãŸã‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ ã‚’ãŠã“ãªã£ãŸ</li>\n<li>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´å¾Œã€å†åœ§ç¸®ã™ã‚‹æ™‚ã¯ã€è§£å‡å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åœ§ç¸®ã—ãªã„(=è§£å‡å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã®å†…å®¹ã‚’é¸æŠã—ã¦åœ§ç¸®ã™ã‚‹)ã“ã¨ã€‚ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ™‚ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"xml\">\n<div class=\"code-lang\"><span class=\"bold\">schema.xml(æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><code>   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"id\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"true\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span> \n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"title\"</span> <span class=\"na\">type=</span><span class=\"s\">\"watson_text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"false\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"true\"</span> <span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"body\"</span> <span class=\"na\">type=</span><span class=\"s\">\"watson_text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"false\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"true\"</span> <span class=\"nt\">/&gt;</span>\n\n   <span class=\"c\">&lt;!-- make a copy field using normal OOB solr text_en --&gt;</span>\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"text\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"false\"</span> <span class=\"na\">required=</span><span class=\"s\">\"false\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"true\"</span> <span class=\"nt\">/&gt;</span>\n   <span class=\"c\">&lt;!-- make a copy field using watson_text_ja --&gt;</span>\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"watson_text\"</span> <span class=\"na\">type=</span><span class=\"s\">\"watson_text_ja\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"false\"</span> <span class=\"na\">required=</span><span class=\"s\">\"false\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"true\"</span> <span class=\"nt\">/&gt;</span>\n\n   <span class=\"nt\">&lt;copyField</span> <span class=\"na\">source=</span><span class=\"s\">\"title\"</span> <span class=\"na\">dest=</span><span class=\"s\">\"text\"</span><span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;copyField</span> <span class=\"na\">source=</span><span class=\"s\">\"body\"</span> <span class=\"na\">dest=</span><span class=\"s\">\"text\"</span><span class=\"nt\">/&gt;</span>\n\n   <span class=\"nt\">&lt;copyField</span> <span class=\"na\">source=</span><span class=\"s\">\"title\"</span> <span class=\"na\">dest=</span><span class=\"s\">\"watson_text\"</span><span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;copyField</span> <span class=\"na\">source=</span><span class=\"s\">\"body\"</span> <span class=\"na\">dest=</span><span class=\"s\">\"watson_text\"</span><span class=\"nt\">/&gt;</span>\n</code></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"xml\">\n<div class=\"code-lang\"><span class=\"bold\">schema.xml(ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ )</span></div>\n<div class=\"highlight\"><pre><code>   <span class=\"c\">&lt;!-- Watsonã«ã‚ˆã‚‹è§£æãŒä¸è¦ã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã™ã‚Œã°ã‚ˆã„æ¨¡æ§˜ --&gt;</span>\n   <span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">\"custom_field\"</span> <span class=\"na\">type=</span><span class=\"s\">\"string\"</span> <span class=\"na\">indexed=</span><span class=\"s\">\"true\"</span> <span class=\"na\">stored=</span><span class=\"s\">\"true\"</span> <span class=\"na\">required=</span><span class=\"s\">\"false\"</span> <span class=\"na\">multiValued=</span><span class=\"s\">\"false\"</span> <span class=\"nt\">/&gt;</span>\n</code></pre></div>\n</div>\n\n<ul>\n<li>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n<ul>\n<li>\n<code>**cluster_id**</code>ã«å…ˆã»ã©å–å¾—ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿IDã€<code>**config_name**</code>ã«ä»»æ„ã®åå‰(è‹±æ•°å­—)ã€<code>**config_path**</code>ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(zip)ã¸ã®ãƒ‘ã‚¹ã‚’è¨­å®š</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -k -X POST -H \"Content-Type: application/zip\" -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/config/**config_name**\" --data-binary @**config_path**\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"message\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"WRRCSR026: Successfully uploaded named config [**config_name**] for Solr cluster [**cluster_id**].\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"statusCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">200</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ</h2>\n\n<ul>\n<li>ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ\n\n<ul>\n<li>\n<code>**collection_name**</code>ã«ä»»æ„ã®åå‰(è‹±æ•°å­—)ã€<code>**config_name**</code>ã«å…ˆã»ã©ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã‚’è¨­å®š</li>\n<li>\n<code>success</code>ãªã©ã¨æ›¸ã‹ã‚ŒãŸXMLãŒè¿”ã£ã¦ãã‚Œã°OK</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -k -X POST -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/admin/collections\" -d \"action=CREATE&amp;name=**collection_name**&amp;collection.configName=**config_name**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"xml\"><div class=\"highlight\"><pre><code><span class=\"cp\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>\n  <span class=\"nt\">&lt;response&gt;</span>\n    <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n      <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>11214<span class=\"nt\">&lt;/int&gt;</span>\n    <span class=\"nt\">&lt;/lst&gt;</span>\n    <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"success\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"****\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n          <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>2468<span class=\"nt\">&lt;/int&gt;</span>\n        <span class=\"nt\">&lt;/lst&gt;</span>\n        <span class=\"nt\">&lt;str</span> <span class=\"na\">name=</span><span class=\"s\">\"core\"</span><span class=\"nt\">&gt;</span>****<span class=\"nt\">&lt;/str&gt;</span>\n      <span class=\"nt\">&lt;/lst&gt;</span>\n      <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"****\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n          <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>2915<span class=\"nt\">&lt;/int&gt;</span>\n        <span class=\"nt\">&lt;/lst&gt;</span>\n      <span class=\"nt\">&lt;str</span> <span class=\"na\">name=</span><span class=\"s\">\"core\"</span><span class=\"nt\">&gt;</span>****<span class=\"nt\">&lt;/str&gt;</span>\n    <span class=\"nt\">&lt;/lst&gt;</span>\n  <span class=\"nt\">&lt;/lst&gt;</span>\n<span class=\"nt\">&lt;/response&gt;</span>\n</code></pre></div></div>\n\n<h2>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæº–å‚™\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E6%BA%96%E5%82%99\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæº–å‚™</h2>\n\n<ul>\n<li>æŠ•å…¥ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã‚’ç”¨æ„\n\n<ul>\n<li>ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ãƒãƒ¼ãƒ ã®æ–¹ã«ç°¡æ˜“ã‚¯ãƒ­ãƒ¼ãƒ©(ã¨ã‚ã‚‹ã‚µã‚¤ãƒˆã®HTMLã‹ã‚‰æŠ•å…¥ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º)ã‚’ä½œã£ã¦ã‚‚ã‚‰ã„æ•‘ã‚ã‚ŒãŸã€‚8000ä»¶ã»ã©ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç™»éŒ²ã—ãŸ</li>\n<li>æœªç¢ºèªã ãŒ<a href=\"http://www.ibm.com/smarterplanet/jp/ja/ibmwatson/developercloud/document-conversion.html\" rel=\"nofollow noopener\" target=\"_blank\">Document Conversion</a>ã‚’ä½¿ã£ã¦ã‚‚ã‚ˆã•ãã†</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ</h2>\n\n<ul>\n<li>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åˆã‚ã›ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n<ul>\n<li>\n<a href=\"https://cwiki.apache.org/confluence/display/solr/Uploading+Data+with+Index+Handlers#UploadingDatawithIndexHandlers-JSONFormattedIndexUpdates\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã“</a>ã‚’è¦‹ã‚‹ã¨è¨˜æ³•ã¯è‰²ã€…ã‚ã‚‹ã‚‰ã—ã„(ã“ã‚Œã¯JSONã¨ã—ã¦å•é¡Œãªã„ã‚“ã§ã—ã‚‡ã†ã‹â€¦?)</li>\n<li>æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¯UTF-8ã€æ”¹è¡Œã¯LFã®ã¿</li>\n<li>ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ã“ã“ã§<code>commit</code>ãŒå¿…è¦ãªã“ã¨ã«æ°—ã¥ã‘ãšæ•°æ™‚é–“ã‚’ãƒ•ã‚¤ã«ã—ãŸ(åçœ)</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">documents.json</span></div>\n<div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"add\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"doc\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"custom_field\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n  </span><span class=\"nl\">\"add\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"doc\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n      </span><span class=\"nl\">\"id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"custom_field\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n\n</span><span class=\"err\">ãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n\n  </span><span class=\"nl\">\"commit\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæŠ•å…¥\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E6%8A%95%E5%85%A5\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæŠ•å…¥</h2>\n\n<ul>\n<li>ä»¥ä¸‹å®Ÿè¡Œã§ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æŠ•å…¥\n\n<ul>\n<li>\n<code>**cluster_id**</code>ã€<code>**config_name**</code>ã¯é©å®œç½®æ›ã€<code>**document_path**</code>ã«å…ˆã»ã©ä½œæˆã—ãŸjsonãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ã‚’è¨­å®š</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -k -X POST -H \"Content-Type: application/json\" -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/update\" --data-binary @**document_path**\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"responseHeader\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"QTime\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">495</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"æ¤œç´¢ãƒ©ãƒ³ã‚«ãƒ¼ç„¡ã—\" class=\"fragment\"></span><a href=\"#%E6%A4%9C%E7%B4%A2%E3%83%A9%E3%83%B3%E3%82%AB%E3%83%BC%E7%84%A1%E3%81%97\"><i class=\"fa fa-link\"></i></a>æ¤œç´¢(ãƒ©ãƒ³ã‚«ãƒ¼ç„¡ã—)</h2>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«ä»¥ä¸‹ã‚’å…¥åŠ›\n\n<ul>\n<li>\n<code>**xxxx**</code>ã®ç®‡æ‰€ã¯ä»Šã¾ã§ã«å€£ã£ã¦é©å®œå¤‰æ›´ã€‚æ¤œç´¢æ–‡ã¯ä»»æ„ã«è¨­å®š</li>\n<li>æ¤œç´¢æ–‡ã«å¿œã˜ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¿”ã£ã¦ãã‚Œã°OK</li>\n<li>idæ¤œç´¢ãŒã—ãŸã„å ´åˆã¯ã€q=id:1ãªã©ã¨ã™ã‚‹</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>https://**username**:**password**@gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/select?q=æ¤œç´¢æ–‡&amp;wt=json&amp;fl=id,title,body,custom_field\n</code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"responseHeader\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"QTime\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"params\"</span><span class=\"p\">:{</span><span class=\"w\">\n      </span><span class=\"nl\">\"q\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"æ¤œç´¢æ–‡\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"fl\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"id,title,body,custom_field\"</span><span class=\"p\">,</span><span class=\"w\">\n      </span><span class=\"nl\">\"wt\"</span><span class=\"p\">:</span><span class=\"s2\">\"json\"</span><span class=\"w\">\n    </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n  </span><span class=\"nl\">\"response\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"numFound\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">58</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"docs\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n      </span><span class=\"p\">{</span><span class=\"w\">\n        </span><span class=\"nl\">\"id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1\"</span><span class=\"p\">,</span><span class=\"w\">\n        </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"custom_field\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"w\">\n      </span><span class=\"p\">},</span><span class=\"w\">\n\n</span><span class=\"err\">ãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n\n    </span><span class=\"p\">]</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ</h2>\n\n<ul>\n<li>\n<p>Retrieve and Rankã‚’Webã‹ã‚‰å‘¼ã³å‡ºã™ã«ã¯ã€Node-REDã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµŒç”±ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</p>\n\n<ul>\n<li>ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã“ã‚Œã«æ°—ã¥ã‘ãš1æ™‚é–“ã»ã©ãƒ•ã‚¤ã«ã—ãŸ(åçœ)</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://console.ng.bluemix.net/dashboard/applications\" rel=\"nofollow noopener\" target=\"_blank\">ã‚¢ãƒ—ãƒª</a>ã‹ã‚‰<strong>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ &gt; Node-RED Starter &gt; ä½œæˆ</strong></p>\n\n<ul>\n<li>å…¥åŠ›é …ç›®ã¯ä»»æ„ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ˆã„ãŒã€ãƒ›ã‚¹ãƒˆåã«ã¤ã„ã¦ã¯APIã®URLã«ç”¨ã„ã‚‰ã‚Œã‚‹</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://console.ng.bluemix.net/dashboard/applications\" rel=\"nofollow noopener\" target=\"_blank\">ã‚¢ãƒ—ãƒª</a>ã‹ã‚‰<strong>ã‚¢ãƒ—ãƒªå &gt; ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  &gt; ç’°å¢ƒå¤‰æ•° &gt; ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾© &gt; è¿½åŠ  &gt; ä¿å­˜</strong>ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š</p>\n\n<ul>\n<li>\n<a href=\"https://console.ng.bluemix.net/dashboard/applications\" rel=\"nofollow noopener\" target=\"_blank\">ã‚¢ãƒ—ãƒª</a>ã«ã¦<strong>å†å§‹å‹•</strong>(å††å¼§å‹ã®çŸ¢å°ã®ãƒœã‚¿ãƒ³)ã‚’æŠ¼ã—ã¦ãŠã</li>\n</ul>\n</li>\n</ul>\n\n<table>\n<thead>\n<tr>\n<th>åå‰</th>\n<th>å€¤</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NODE_RED_USERNAME</td>\n<td>ä»»æ„</td>\n</tr>\n<tr>\n<td>NODE_RED_PASSWORD</td>\n<td>ä»»æ„</td>\n</tr>\n</tbody>\n</table>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E7%B7%A8%E9%9B%86\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†</h2>\n\n<ul>\n<li><p><a href=\"https://console.ng.bluemix.net/dashboard/applications\" rel=\"nofollow noopener\" target=\"_blank\">ã‚¢ãƒ—ãƒª</a>ã§<strong>ã‚¢ãƒ—ãƒªå &gt; çµŒè·¯</strong>ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹URLã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€Node-REDã®ãƒˆãƒƒãƒ—ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></li>\n<li><p><strong>Go to your Node-RED flow editor</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨èªè¨¼ç”»é¢ãŒå‡ºã‚‹ã®ã§ã€å…ˆã»ã©è¨­å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›</p></li>\n<li><p>è¡¨ç¤ºã•ã‚ŒãŸã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã«ã¦ã€ä»¥ä¸‹è¦é ˜ã§ãƒãƒ¼ãƒ‰ã‚’ä½œæˆã€æ¥ç¶š</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/16ce313844a56d1451f5244b8d12e9618fa8f407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f64393564333031302d386331332d323638612d303432632d3263613834353331613939642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"533\" alt=\"æ¥ç¶šã‚¤ãƒ¡ãƒ¼ã‚¸\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd95d3010-8c13-268a-042c-2ca84531a99d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fac0e35a31c5cd5f27f79d88c0cd2f3a\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d95d3010-8c13-268a-042c-2ca84531a99d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2Fd95d3010-8c13-268a-042c-2ca84531a99d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fd41d321b701826db300c97f55a52547 1x\" loading=\"lazy\"></a></p>\n\n<h3>\n<span id=\"httpinput\" class=\"fragment\"></span><a href=\"#httpinput\"><i class=\"fa fa-link\"></i></a>http(input)</h3>\n\n<ul>\n<li><p>ç”»é¢å·¦ã‚ˆã‚Š<strong>input &gt; http</strong>ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸­å¤®ã«ãƒ‰ãƒ­ãƒƒãƒ—</p></li>\n<li><p>URLã«æŒ‡å®šã—ãŸå€¤ãŒã€APIã®URLã®ãƒ‘ã‚¹ã«ä½¿ç”¨ã•ã‚Œã‚‹</p></li>\n</ul>\n\n<table>\n<thead>\n<tr>\n<th>åå‰</th>\n<th>å€¤</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Method</td>\n<td>POST</td>\n</tr>\n<tr>\n<td>URL</td>\n<td>/<code>**path**</code>\n</td>\n</tr>\n<tr>\n<td>Name</td>\n<td>ä»»æ„</td>\n</tr>\n</tbody>\n</table>\n\n<h3>\n<span id=\"functionãƒªã‚¯ã‚¨ã‚¹ãƒˆç”Ÿæˆ\" class=\"fragment\"></span><a href=\"#function%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E7%94%9F%E6%88%90\"><i class=\"fa fa-link\"></i></a>function(ãƒªã‚¯ã‚¨ã‚¹ãƒˆç”Ÿæˆ)</h3>\n\n<ul>\n<li><p>ç”»é¢å·¦ã‚ˆã‚Š<strong>function &gt; function</strong></p></li>\n<li><p>Webã‚ˆã‚Šå‘¼ã³å‡ºã™éš›ã«æ¤œç´¢æ–‡ã‚’è¨­å®šã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’<code>msg.payload</code>ã®<code>q</code>ã§æŒ‡å®šã™ã‚‹</p></li>\n<li><p>è‰²ã€…ã¨ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã®ã¯<a href=\"http://d.hatena.ne.jp/miau/20140705/1404564644\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’å‚è€ƒã«ã€‚substringã¯ãªã‚“ã¨ãªãå®Ÿæ–½</p></li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">Function</span></div>\n<div class=\"highlight\"><pre><code><span class=\"kd\">var</span> <span class=\"nx\">query</span><span class=\"p\">;</span>\n<span class=\"k\">try</span> <span class=\"p\">{</span>\n    <span class=\"nx\">query</span> <span class=\"o\">=</span> <span class=\"nx\">msg</span><span class=\"p\">.</span><span class=\"nx\">payload</span><span class=\"p\">.</span><span class=\"nx\">q</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n<span class=\"p\">}</span> <span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">query</span> <span class=\"o\">=</span> <span class=\"dl\">\"\"</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">query</span> <span class=\"o\">=</span> <span class=\"nx\">query</span><span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span>\n    <span class=\"sr\">/</span><span class=\"se\">[\\\\\\+\\-\\&amp;\\|\\!\\(\\)\\{\\}\\[\\]\\^\\\"\\~\\*\\?\\:\\/\\r\\n\\t\\u</span><span class=\"sr\">0020</span><span class=\"se\">\\u</span><span class=\"sr\">3000</span><span class=\"se\">]</span><span class=\"sr\">|AND|OR|NOT/g</span><span class=\"p\">,</span> \n    <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">c</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">return</span> <span class=\"dl\">\"</span><span class=\"se\">\\\\</span><span class=\"dl\">\"</span> <span class=\"o\">+</span> <span class=\"nx\">c</span><span class=\"p\">;</span> <span class=\"p\">});</span>\n<span class=\"nx\">msg</span><span class=\"p\">.</span><span class=\"nx\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">content-type</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">application/x-www-form-urlencoded</span><span class=\"dl\">\"</span>\n<span class=\"p\">};</span>\n<span class=\"nx\">msg</span><span class=\"p\">.</span><span class=\"nx\">payload</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">wt</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">json</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">fl</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">id,title,body,custom_field</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n    <span class=\"dl\">\"</span><span class=\"s2\">q</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"nx\">query</span>\n<span class=\"p\">};</span>\n<span class=\"k\">return</span> <span class=\"nx\">msg</span><span class=\"p\">;</span>\n</code></pre></div>\n</div>\n\n<h3>\n<span id=\"http-request\" class=\"fragment\"></span><a href=\"#http-request\"><i class=\"fa fa-link\"></i></a>http request</h3>\n\n<ul>\n<li>ç”»é¢å·¦ã‚ˆã‚Š<strong>function &gt; http request</strong>\n</li>\n</ul>\n\n<table>\n<thead>\n<tr>\n<th>åå‰</th>\n<th>å€¤</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Method</td>\n<td>POST</td>\n</tr>\n<tr>\n<td>URL</td>\n<td><code>https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/select</code></td>\n</tr>\n<tr>\n<td>Enable secure (SSL/TLS) connection</td>\n<td>ãƒã‚§ãƒƒã‚¯ç„¡</td>\n</tr>\n<tr>\n<td>Use basic authentication</td>\n<td>ãƒã‚§ãƒƒã‚¯æœ‰</td>\n</tr>\n<tr>\n<td>Username</td>\n<td><code>**username**</code></td>\n</tr>\n<tr>\n<td>Password</td>\n<td><code>**password**</code></td>\n</tr>\n<tr>\n<td>Return</td>\n<td>a UTF-8 string</td>\n</tr>\n<tr>\n<td>Name</td>\n<td>ä»»æ„</td>\n</tr>\n</tbody>\n</table>\n\n<h3>\n<span id=\"functionãƒ˜ãƒƒãƒ€è¨­å®š\" class=\"fragment\"></span><a href=\"#function%E3%83%98%E3%83%83%E3%83%80%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>function(ãƒ˜ãƒƒãƒ€è¨­å®š)</h3>\n\n<ul>\n<li><p>ç”»é¢å·¦ã‚ˆã‚Š<strong>function &gt; function</strong></p></li>\n<li><p>CORSå¯¾å¿œã®ãŸã‚</p></li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">Function</span></div>\n<div class=\"highlight\"><pre><code><span class=\"nx\">msg</span><span class=\"p\">.</span><span class=\"nx\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"dl\">\"</span><span class=\"s2\">Access-Control-Allow-Origin</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">*</span><span class=\"dl\">\"</span>\n<span class=\"p\">}</span>\n<span class=\"k\">return</span> <span class=\"nx\">msg</span><span class=\"p\">;</span>\n</code></pre></div>\n</div>\n\n<h3>\n<span id=\"jsonhttpoutput\" class=\"fragment\"></span><a href=\"#jsonhttpoutput\"><i class=\"fa fa-link\"></i></a>jsonã€http(output)</h3>\n\n<ul>\n<li>ç”»é¢å·¦ã‚ˆã‚Š<strong>function &gt; json</strong>ã€<strong>output &gt; http response</strong>\n</li>\n</ul>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åæ˜ \" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%8F%8D%E6%98%A0\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åæ˜ </h2>\n\n<ul>\n<li>ç”»é¢å³ä¸Šã®<strong>Deploy</strong>ã‚’æŠ¼ã™ã¨åæ˜ \n\n<ul>\n<li>ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã¨ã€ç”»é¢å³ã®<strong>debug</strong>ã‚¿ãƒ–ã«è¡¨ç¤ºã•ã‚Œã‚‹</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"webã‹ã‚‰apiå‘¼ã³å‡ºã—\" class=\"fragment\"></span><a href=\"#web%E3%81%8B%E3%82%89api%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\"><i class=\"fa fa-link\"></i></a>Webã‹ã‚‰APIå‘¼ã³å‡ºã—</h2>\n\n<ul>\n<li>jQueryç­‰ã‚’ä½¿ã£ã¦APIå‘¼ã³å‡ºã—ã€çµæœå–å¾—</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">test.html</span></div>\n<div class=\"highlight\"><pre><code><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"nt\">&lt;html&gt;</span>\n  <span class=\"nt\">&lt;head&gt;</span>\n    <span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"utf-8\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;title&gt;</span>Retrieve and Rank<span class=\"nt\">&lt;/title&gt;</span>\n    <span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"na\">src=</span><span class=\"s\">\"https://code.jquery.com/jquery-3.1.1.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n  <span class=\"nt\">&lt;/head&gt;</span>\n  <span class=\"nt\">&lt;body&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"query\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"test\"</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">value=</span><span class=\"s\">\"Test\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"result\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/body&gt;</span>\n  <span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span><span class=\"nt\">&gt;</span>        \n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#test</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#result</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n        <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">POST</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">http://**ãƒ›ã‚¹ãƒˆå**.mybluemix.net/**path**</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">json</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"na\">q</span><span class=\"p\">:</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#query</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}).</span><span class=\"nx\">done</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">doc</span> <span class=\"o\">=</span> <span class=\"dl\">\"\"</span><span class=\"p\">;</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">docs</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">docs</span><span class=\"p\">;</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">docs</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nx\">doc</span> <span class=\"o\">=</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">docs</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">doc</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n        <span class=\"p\">}</span>\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#result</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">(</span><span class=\"nx\">doc</span><span class=\"p\">);</span>\n      <span class=\"p\">}).</span><span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">){</span>\n          <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n  <span class=\"nt\">&lt;/script&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</code></pre></div>\n</div>\n\n<h2>\n<span id=\"å­¦ç¿’\" class=\"fragment\"></span><a href=\"#%E5%AD%A6%E7%BF%92\"><i class=\"fa fa-link\"></i></a>å­¦ç¿’</h2>\n\n<ul>\n<li>ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯æ™‚é–“ãŒè¶³ã‚‰ãšæ³£ãæ³£ãè«¦ã‚ãŸã€ãƒ©ãƒ³ã‚«ãƒ¼ã‚’ç”¨ã„ãŸæ¤œç´¢ã«ã¤ã„ã¦æŒ‘æˆ¦ã—ãŸ</li>\n</ul>\n\n<h3>\n<span id=\"grandtruthã®ä½œæˆ\" class=\"fragment\"></span><a href=\"#grandtruth%E3%81%AE%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>Grandtruthã®ä½œæˆ</h3>\n\n<ul>\n<li>è³ªå•ã«å¯¾ã—ã¦ã©ã®è§£ç­”ãŒé©åˆ‡ã§ã‚ã£ãŸã‹è§£ç­”ã—ã¦Grandtruthã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã€ãƒ©ãƒ³ã‚«ãƒ¼ã‚’ä½œæˆ\n\n<ul>\n<li>\n<strong>è³ªå•æ–‡å…¥åŠ›&amp;è§£ç­”å€™è£œè¡¨ç¤ºâ†’é©åˆ‡ã¨æ€ã‚ã‚Œã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™â†’è³ªå•æ–‡å…¥åŠ›â€¦â†’Groundtruthå–å¾—</strong>ã§CSVãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">test2.html</span></div>\n<div class=\"highlight\"><pre><code><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"nt\">&lt;html&gt;</span>\n  <span class=\"nt\">&lt;head&gt;</span>\n    <span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"utf-8\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;title&gt;</span>Groundtruth<span class=\"nt\">&lt;/title&gt;</span>\n    <span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span> <span class=\"na\">src=</span><span class=\"s\">\"https://code.jquery.com/jquery-3.1.1.min.js\"</span><span class=\"nt\">&gt;&lt;/script&gt;</span>\n    <span class=\"nt\">&lt;style </span><span class=\"na\">type=</span><span class=\"s\">\"text/css\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">body</span> <span class=\"p\">{</span>\n        <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"n\">small</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"nf\">#query</span> <span class=\"p\">{</span>\n        <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">95%</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"nf\">#header</span> <span class=\"p\">{</span>\n        <span class=\"nl\">position</span><span class=\"p\">:</span> <span class=\"nb\">fixed</span><span class=\"p\">;</span>\n        <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n        <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n        <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n        <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.2em</span><span class=\"p\">;</span>\n        <span class=\"nl\">background-color</span><span class=\"p\">:</span> <span class=\"no\">gray</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"nc\">.doc</span> <span class=\"p\">{</span>\n        <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"no\">gray</span><span class=\"p\">;</span>\n        <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.2em</span><span class=\"p\">;</span>\n        <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">0.2em</span><span class=\"p\">;</span>\n        <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.2em</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"nf\">#result</span> <span class=\"p\">{</span>\n        <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">4em</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"nt\">&lt;/style&gt;</span>\n  <span class=\"nt\">&lt;/head&gt;</span>\n  <span class=\"nt\">&lt;body&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"header\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"query\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"è³ªå•æ–‡\"</span><span class=\"nt\">&gt;&lt;br&gt;</span>\n      <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"send\"</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">value=</span><span class=\"s\">\"å€™è£œè¡¨ç¤º\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"getgt\"</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">value=</span><span class=\"s\">\"Groundtruthå–å¾—\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;a</span> <span class=\"na\">id=</span><span class=\"s\">\"downloadlink\"</span> <span class=\"na\">target=</span><span class=\"s\">\"_blank\"</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;&lt;/a&gt;</span>\n    <span class=\"nt\">&lt;/div&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"result\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/body&gt;</span>\n  <span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/javascript\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">MAX_USEFUL</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">;</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">groundtruth</span><span class=\"o\">=</span><span class=\"p\">{};</span>\n\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#send</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$result</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#result</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n      <span class=\"nx\">$result</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$query</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#query</span><span class=\"dl\">\"</span><span class=\"p\">);</span>      \n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n        <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">POST</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">http://**ãƒ›ã‚¹ãƒˆå**.mybluemix.net/**path**</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">json</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n        <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"na\">q</span><span class=\"p\">:</span> <span class=\"nx\">$query</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">()</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}).</span><span class=\"nx\">done</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">){</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">docs</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">docs</span><span class=\"p\">;</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">docs</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"nx\">docs</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">doc</span><span class=\"p\">){</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$doc</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">&lt;div&gt;</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">doc</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">data</span><span class=\"p\">({</span> \n              <span class=\"dl\">\"</span><span class=\"s2\">query</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">responseHeader</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"nx\">q</span><span class=\"p\">,</span>\n              <span class=\"dl\">\"</span><span class=\"s2\">doc</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"nx\">doc</span> \n            <span class=\"p\">});</span>\n\n            <span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">&lt;input&gt;</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">({</span>\n              <span class=\"dl\">\"</span><span class=\"s2\">id</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">useful</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n              <span class=\"dl\">\"</span><span class=\"s2\">type</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">button</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n              <span class=\"dl\">\"</span><span class=\"s2\">value</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">,</span>\n            <span class=\"p\">}).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span> <span class=\"nx\">clickUseful</span><span class=\"p\">(</span><span class=\"nx\">$doc</span><span class=\"p\">);</span> <span class=\"p\">}));</span>\n\n            <span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">&lt;span&gt;</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">counter</span><span class=\"dl\">\"</span><span class=\"p\">));</span>\n            <span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">&lt;div&gt;</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">(</span><span class=\"nx\">doc</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">));</span>            \n\n            <span class=\"nx\">$result</span><span class=\"p\">.</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"nx\">$doc</span><span class=\"p\">);</span>\n          <span class=\"p\">});</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n          <span class=\"nx\">$result</span><span class=\"p\">.</span><span class=\"nx\">text</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}).</span><span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">){</span>\n          <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>      \n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#getgt</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">rows</span><span class=\"o\">=</span><span class=\"p\">[];</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"nx\">groundtruth</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">,</span> <span class=\"nx\">idList</span><span class=\"p\">){</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">row</span><span class=\"o\">=</span><span class=\"p\">[];</span>\n        <span class=\"nx\">row</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">);</span>\n        <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">each</span><span class=\"p\">(</span><span class=\"nx\">idList</span><span class=\"p\">,</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">,</span> <span class=\"nx\">count</span><span class=\"p\">){</span>\n          <span class=\"nx\">row</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">id</span><span class=\"p\">);</span>\n          <span class=\"nx\">row</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">count</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n        <span class=\"nx\">rows</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">row</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">){</span> <span class=\"k\">return</span> <span class=\"nx\">escapeCSV</span><span class=\"p\">(</span><span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">))</span> <span class=\"p\">}).</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">,</span><span class=\"dl\">\"</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n      <span class=\"nx\">rows</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"dl\">\"\"</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">blob</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Blob</span><span class=\"p\">([</span><span class=\"nx\">rows</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"se\">\\n</span><span class=\"dl\">\"</span><span class=\"p\">)],</span> <span class=\"p\">{</span> <span class=\"dl\">\"</span><span class=\"s2\">type</span><span class=\"dl\">\"</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">text/plain</span><span class=\"dl\">\"</span> <span class=\"p\">});</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$downloadlink</span><span class=\"o\">=</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#downloadlink</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n      <span class=\"nx\">$downloadlink</span><span class=\"p\">.</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">href</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">URL</span><span class=\"p\">.</span><span class=\"nx\">createObjectURL</span><span class=\"p\">(</span><span class=\"nx\">blob</span><span class=\"p\">));</span>\n      <span class=\"nx\">$downloadlink</span><span class=\"p\">.</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">download</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"s2\">gt_</span><span class=\"dl\">\"</span> <span class=\"o\">+</span> <span class=\"nx\">createTimeString</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"dl\">\"</span><span class=\"s2\">.csv</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n      <span class=\"nx\">$downloadlink</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"kd\">function</span> <span class=\"nx\">clickUseful</span><span class=\"p\">(</span><span class=\"nx\">$doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">query</span><span class=\"o\">=</span><span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">query</span><span class=\"dl\">\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">id</span><span class=\"o\">=</span><span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">doc</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">id</span><span class=\"p\">;</span>\n      <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">groundtruth</span><span class=\"p\">[</span><span class=\"nx\">query</span><span class=\"p\">]</span> <span class=\"o\">===</span> <span class=\"kc\">undefined</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">groundtruth</span><span class=\"p\">[</span><span class=\"nx\">query</span><span class=\"p\">]</span><span class=\"o\">=</span><span class=\"p\">{};</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">count</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"nx\">groundtruth</span><span class=\"p\">[</span><span class=\"nx\">query</span><span class=\"p\">][</span><span class=\"nx\">id</span><span class=\"p\">]</span> <span class=\"o\">===</span> <span class=\"kc\">undefined</span> <span class=\"p\">?</span> <span class=\"mi\">0</span> <span class=\"p\">:</span> <span class=\"nx\">groundtruth</span><span class=\"p\">[</span><span class=\"nx\">query</span><span class=\"p\">][</span><span class=\"nx\">id</span><span class=\"p\">]);</span>\n      <span class=\"nx\">count</span><span class=\"o\">=</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">min</span><span class=\"p\">(</span><span class=\"nx\">count</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nx\">MAX_USEFUL</span><span class=\"p\">);</span>\n      <span class=\"nx\">groundtruth</span><span class=\"p\">[</span><span class=\"nx\">query</span><span class=\"p\">][</span><span class=\"nx\">id</span><span class=\"p\">]</span><span class=\"o\">=</span><span class=\"nx\">count</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">.counter</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">(</span><span class=\"nx\">count</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">count</span> <span class=\"o\">&gt;=</span> <span class=\"nx\">MAX_USEFUL</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">$doc</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">#useful</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">prop</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">disabled</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"kc\">true</span><span class=\"p\">);</span>        \n      <span class=\"p\">}</span>      \n    <span class=\"p\">}</span>\n\n    <span class=\"kd\">function</span> <span class=\"nx\">escapeCSV</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"dl\">\"</span><span class=\"se\">\\\"</span><span class=\"dl\">\"</span> <span class=\"o\">+</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">replace</span><span class=\"p\">(</span><span class=\"sr\">/</span><span class=\"se\">\\\"</span><span class=\"sr\">/</span><span class=\"p\">,</span> <span class=\"dl\">\"</span><span class=\"se\">\\\"\\\"</span><span class=\"dl\">\"</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"dl\">\"</span><span class=\"se\">\\\"</span><span class=\"dl\">\"</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">createTimeString</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"kd\">function</span> <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n          <span class=\"kd\">var</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n          <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n              <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">0</span><span class=\"dl\">\"</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n              <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"dl\">\"\"</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"p\">}</span>\n          <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">now</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">res</span> <span class=\"o\">=</span> <span class=\"dl\">\"\"</span> <span class=\"o\">+</span> <span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getFullYear</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getMonth</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">+</span> \n          <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getDate</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getHours</span><span class=\"p\">())</span> <span class=\"o\">+</span> \n          <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getMinutes</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"nx\">padZero</span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"p\">.</span><span class=\"nx\">getSeconds</span><span class=\"p\">());</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"nt\">&lt;/script&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</code></pre></div>\n</div>\n\n<p><a href=\"https://camo.qiitausercontent.com/fa0360ea6e0e6d00c1309a1379abbd13d6b99328/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f38363330633035302d653663322d653664612d346665382d3738373438343138613732302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"588\" alt=\"ãƒ„ãƒ¼ãƒ«\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8630c050-e6c2-e6da-4fe8-78748418a720.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=887d0bdb428dde60dd80071615ccad0e\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/8630c050-e6c2-e6da-4fe8-78748418a720.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F8630c050-e6c2-e6da-4fe8-78748418a720.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f242121826ebdd602c115e5e10bd9473 1x\" loading=\"lazy\"></a></p>\n\n<ul>\n<li>\n<p>è³ªå•æ–‡,è§£ç­”1ã®ID,è§£ç­”1ã®å½¹ã«ç«‹ã£ãŸåº¦(1ã€œ4),è§£ç­”2ã®ID,è§£ç­”2ã®å½¹ã«ç«‹ã£ãŸåº¦(1ã€œ4)...</p>\n\n<ul>\n<li>è³ªå•æ–‡ã«å¯¾ã—è§£ç­”å€™è£œã¨ã—ã¦è¿”å´ã•ã‚Œãªã„IDã‚’æŒ‡å®šã™ã‚‹ã¨ã€æ¬¡ã®train.pyã§ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹</li>\n<li>æœ€ä½49è¡Œ(=ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè³ªå•æ–‡49å€‹)ä»¥ä¸ŠãŒå¿…è¦ã‚‰ã—ã„ã€‚è¶³ã‚Šãªã„ã¨ã‚„ã¯ã‚Šã‚¨ãƒ©ãƒ¼ã«ãªã‚‹</li>\n<li>ãã®ä»–ã€å¿…è¦ãªè¦ä»¶ãŒè‰²ã€…ã¨ã‚ã‚‹æ¨¡æ§˜(<a href=\"http://www.slideshare.net/kotasuizu5/watson-61078069\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã®p25ã¨ã‹ã€<a href=\"https://www.ibm.com/watson/developercloud/doc/retrieve-rank/training_data.shtml#data_stds\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã“</a>ã¨ã‹)</li>\n<li>UTF-8ã€LFã§å‡ºåŠ›ã®ã“ã¨</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">gt.csv(ã‚¤ãƒ¡ãƒ¼ã‚¸)</span></div>\n<div class=\"highlight\"><pre><code><span class=\"dl\">\"</span><span class=\"s2\">ã“ã‚“ã«ã¡ã¯</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7203</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7654</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span>\n\n</code></pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ©ãƒ³ã‚«ãƒ¼ã®ä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%A9%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ©ãƒ³ã‚«ãƒ¼ã®ä½œæˆ</h3>\n\n<ul>\n<li>csvãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ãŸã‚‰ã€<a href=\"http://www.ibm.com/watson/developercloud/doc/retrieve-rank/tutorial.shtml#create-train\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‹ã‚‰<strong>train.py</strong>ã‚’å–å¾—ã—ã€ä»¥ä¸‹å®Ÿè¡Œ\n\n<ul>\n<li>\n<code>**ranker_name**</code>ã¯ä»»æ„ã§ã‚ˆã„</li>\n<li>Windowsç’°å¢ƒã®äººã¯ã€Pythonã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">python ./train.py -u \"**username**:**password**\" -i ./gt.csv -c \"**cluster_id**\" -x \"**collection_name**\" -n \"**ranker_name**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>Input file is ./gt.csv\nSolr cluster is **cluster_id**\nSolr collection is **collection_name**\nRanker name is **ranker_name**\nRows per query 10\nGenerating training data...\nGenerating training data complete.\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  242k    0   316  100  241k    113  88936  0:00:02  0:00:02 --:--:-- 88935\n</code></pre></div></div>\n\n<ul>\n<li>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ<code>Training</code>ã®é–“ã¯ä½¿ç”¨ä¸å¯ã€‚5åˆ†ç¨‹åº¦ã‹ã‹ã‚‹ã®ã§æš«ã—å¾…ã¤\n\n<ul>\n<li>\n<code>**ranker_id**</code>ã‚’ãƒ¡ãƒ¢</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"ranker_id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**ranker_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**ranker_name**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"created\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"2016-11-18T19:14:20.146Z\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"url\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Training\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"status_description\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"The ranker instance is in its training phase, not yet ready to accept rank requests\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<ul>\n<li>ãƒ©ãƒ³ã‚«ãƒ¼ã®çŠ¶æ…‹ç¢ºèªã¯ä»¥ä¸‹ã€‚<code>Available</code>ã¨ãªã‚Œã°OK</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"ranker_id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**ranker_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"**ranker_name**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"created\"</span><span class=\"p\">:</span><span class=\"s2\">\"2016-11-18T19:14:20.146Z\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"url\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Available\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"status_description\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"The ranker instance is now available and is ready to take ranker requests.\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h3>\n<span id=\"æ¤œç´¢ãƒ©ãƒ³ã‚«ãƒ¼æœ‰ã‚Š\" class=\"fragment\"></span><a href=\"#%E6%A4%9C%E7%B4%A2%E3%83%A9%E3%83%B3%E3%82%AB%E3%83%BC%E6%9C%89%E3%82%8A\"><i class=\"fa fa-link\"></i></a>æ¤œç´¢(ãƒ©ãƒ³ã‚«ãƒ¼æœ‰ã‚Š)</h3>\n\n<ul>\n<li>fcselectã§å®Ÿæ–½\n\n<ul>\n<li>APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«è¨˜è¼‰ãŒãªã„ãŒã€flã«<code>ranker.confidence</code>ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ãƒ©ãƒ³ã‚¯ä»˜ã‘ã®ä¿¡é ¼åº¦ãŒå‡ºåŠ›ã•ã‚Œã‚‹(<a href=\"http://www.ibm.com/watson/developercloud/doc/retrieve-rank/training_data.shtml#top\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã“</a>ã®<strong>Working with ranker confidence scores</strong>å‚ç…§)</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre><code>https://**username**:**password**@gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/fcselect?ranker_id=**ranker_id**&amp;q=æ¤œç´¢æ–‡&amp;wt=json&amp;fl=id,title,body,custom_field,ranker.confidence\n</code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"responseHeader\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"status\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"QTime\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">75</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n  </span><span class=\"nl\">\"response\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nl\">\"numFound\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"maxScore\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">10.0</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"nl\">\"docs\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n      </span><span class=\"p\">{</span><span class=\"w\">\n        </span><span class=\"nl\">\"id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"7722\"</span><span class=\"p\">,</span><span class=\"w\">\n        </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"custom_field\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n        </span><span class=\"nl\">\"ranker.confidence\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.48287850973637736</span><span class=\"w\">\n      </span><span class=\"p\">},</span><span class=\"w\">\n      </span><span class=\"p\">{</span><span class=\"w\">\n        </span><span class=\"nl\">\"id\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"7203\"</span><span class=\"p\">,</span><span class=\"w\">\n        </span><span class=\"nl\">\"title\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">],</span><span class=\"w\">\n        </span><span class=\"nl\">\"custom_field\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ï¼Šï¼Šï¼Šï¼Š\"</span><span class=\"p\">,</span><span class=\"w\">\n        </span><span class=\"nl\">\"ranker.confidence\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.3192066081818791</span><span class=\"w\">\n      </span><span class=\"p\">},</span><span class=\"w\">\n\n</span><span class=\"err\">ãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n\n    </span><span class=\"p\">]</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<h3>\n<span id=\"çµæœã®æ¯”è¼ƒ\" class=\"fragment\"></span><a href=\"#%E7%B5%90%E6%9E%9C%E3%81%AE%E6%AF%94%E8%BC%83\"><i class=\"fa fa-link\"></i></a>çµæœã®æ¯”è¼ƒ</h3>\n\n<ul>\n<li><p>å·¦ãŒselect(=å­¦ç¿’ç„¡?)ã€å³ãŒfcselect(=å­¦ç¿’æœ‰?)</p></li>\n<li><p>\"7810\"ã¯selectã§ãƒ©ãƒ³ã‚¯ã®ä¸€ç•ªä¸‹ã ã£ãŸãŒã€fcselectã§ã¯æ¤œç´¢ã«å¼•ã£ã‹ã‹ã‚‰ãªããªã£ãŸâ€¦</p></li>\n<li>\n<p>\"1908\"ãªã©ã€ç›´æ¥æŒ‡å®šã—ã¦ã„ãªã„IDã‚‚ãƒ©ãƒ³ã‚¯ãŒä¸Šæ˜‡</p>\n\n<ul>\n<li>\"ã©ã†ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™\"ã§\"4\"ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã®ã§ã€ãã®å½±éŸ¿ã‹?</li>\n</ul>\n</li>\n<li>\n<p>\"7963\"ã¯ã€Grandtruthå…¨ä½“ã‚’é€šã˜ã¦ä¸€åº¦ã‚‚ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãªã„ãŒé †ä½ãŒä¸Šæ˜‡ã—ã¦ã„ã‚‹</p>\n\n<ul>\n<li>å‘¨ã‚ŠãŒä¸‹ãŒã£ã¦ã„ã‚‹?</li>\n<li>ãã®ä»–è‰²ã€…ãªè³ªå•æ–‡ã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®å½±éŸ¿ã‚‚ã‚ã‚‹ã®ã‹ã‚‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">Grandtruth(æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><code><span class=\"dl\">\"</span><span class=\"s2\">ã©ã†ã‚‚</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1525</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4669</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">6137</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7481</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">8252</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span>\n<span class=\"dl\">\"</span><span class=\"s2\">ã©ã†ã‚‚ãƒ¼</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1908</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7481</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7810</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">8252</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3</span><span class=\"dl\">\"</span>\n<span class=\"dl\">\"</span><span class=\"s2\">ã©ã†ã‚‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2475</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">5984</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">6220</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">6490</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span>\n<span class=\"dl\">\"</span><span class=\"s2\">ã©ã†ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">252</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1439</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1750</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1821</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">1908</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3731</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span>\n<span class=\"dl\">\"</span><span class=\"s2\">ã©ã†ã‚‚ã“ã‚“ã«ã¡ã¯</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3627</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">3</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7203</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7654</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7660</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">4</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">7722</span><span class=\"dl\">\"</span><span class=\"p\">,</span><span class=\"dl\">\"</span><span class=\"s2\">2</span><span class=\"dl\">\"</span>\n</code></pre></div>\n</div>\n\n<p><a href=\"https://camo.qiitausercontent.com/4902f8198c13350e00f4f36edf8dd1feb07e0594/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363235392f37306663353038342d343432352d306562332d323234392d3666653635363663346164352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img width=\"944\" alt=\"æ¯”è¼ƒ\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F70fc5084-4425-0eb3-2249-6fe6566c4ad5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bf21a66b57ae65cfbadccedb80a2563a\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/70fc5084-4425-0eb3-2249-6fe6566c4ad5.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106259%2F70fc5084-4425-0eb3-2249-6fe6566c4ad5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6b195f52a69b9998aa57520678c85ba9 1x\" loading=\"lazy\"></a></p>\n\n<h2>\n<span id=\"å¾Œç‰‡ä»˜ã‘\" class=\"fragment\"></span><a href=\"#%E5%BE%8C%E7%89%87%E4%BB%98%E3%81%91\"><i class=\"fa fa-link\"></i></a>å¾Œç‰‡ä»˜ã‘</h2>\n\n<ul>\n<li><p><a href=\"http://www.ibm.com/developerworks/jp/bluemix/credit.html\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a>ã‚’è¦‹ã‚‹ã¨ã€è©¦ç”¨æœŸé–“çµ‚äº†å¾Œã«è‡ªå‹•ã§å…¨å‰Šé™¤ã•ã‚Œã‚‹é›°å›²æ°—ã ãŒã€ãªã‚“ã¨ãªãæ‰‹ã§æ¶ˆã—ã¦ãŠã</p></li>\n<li><p>ãƒ©ãƒ³ã‚«ãƒ¼å‰Šé™¤</p></li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<ul>\n<li>ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‰Šé™¤</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -X POST -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/admin/collections\" -d \"action=DELETE&amp;name=**collection_name**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"xml\"><div class=\"highlight\"><pre><code><span class=\"cp\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>\n<span class=\"nt\">&lt;response&gt;</span>\n  <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n    <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>907<span class=\"nt\">&lt;/int&gt;</span>\n  <span class=\"nt\">&lt;/lst&gt;</span>\n  <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"success\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"****\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n        <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>95<span class=\"nt\">&lt;/int&gt;</span>\n      <span class=\"nt\">&lt;/lst&gt;</span>\n    <span class=\"nt\">&lt;/lst&gt;</span>\n    <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"****\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;lst</span> <span class=\"na\">name=</span><span class=\"s\">\"responseHeader\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"status\"</span><span class=\"nt\">&gt;</span>0<span class=\"nt\">&lt;/int&gt;</span>\n        <span class=\"nt\">&lt;int</span> <span class=\"na\">name=</span><span class=\"s\">\"QTime\"</span><span class=\"nt\">&gt;</span>119<span class=\"nt\">&lt;/int&gt;</span>\n      <span class=\"nt\">&lt;/lst&gt;</span>\n    <span class=\"nt\">&lt;/lst&gt;</span>\n  <span class=\"nt\">&lt;/lst&gt;</span>\n<span class=\"nt\">&lt;/response&gt;</span>\n</code></pre></div></div>\n\n<ul>\n<li>ã‚³ãƒ³ãƒ•ã‚£ã‚°å‰Šé™¤</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/config/**config_name**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"message\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"WRRCSR025: Successfully deleted named config [**config_name**] for Solr cluster [**cluster_id**].\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"statusCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">200</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¹ã‚¿å‰Šé™¤</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"shell-session\"><div class=\"highlight\"><pre><code><span class=\"go\">curl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**\"\n</span></code></pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"json\"><div class=\"highlight\"><pre><code><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"message\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"WRRCSR023: Successfully deleted Solr cluster [**cluster_id**].\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"statusCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">200</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://console.ng.bluemix.net/dashboard/applications\" rel=\"nofollow noopener\" target=\"_blank\">ã‚¢ãƒ—ãƒª</a>ã€<a href=\"https://console.ng.bluemix.net/dashboard/services\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒ¼ãƒ“ã‚¹</a>ã‹ã‚‰ã€ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‰Šé™¤</li>\n</ul>\n",
      "body": "#ã¯ã˜ã‚ã«\n\nã¨ã‚ã‚‹ãƒãƒƒã‚«ã‚½ãƒ³ã«å‚åŠ ã—ãŸæŠ˜ã€ä½¿ã†æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã®ã§ã€ãã®æ™‚ã—ãŸã“ã¨ã®å‚™å¿˜éŒ²ã¨ãªã‚Šã¾ã™ã€‚\næœ€å¾Œã¾ã§ã‚„ã‚‹ã¨ã€å­¦ç¿’æ¸ˆ(?)ã®æ¤œç´¢APIã‚’Webã‹ã‚‰å©ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n(ç§ã®ã‚ˆã†ãª)Bluemixã‚‚æ©Ÿæ¢°å­¦ç¿’ã‚‚è§¦ã£ãŸã“ã¨ãŒãªã„ã€ã§ã‚‚ãªã‚“ã¨ãªãè©¦ã—ã¦ã¿ãŸã„â€¦ã¨ã„ã†æ–¹ã§ã‚‚ãªã‚‹ã¹ãè‹¦ã—ã¾ãªã„ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚³ãƒãƒ³ãƒ‰ã®æƒ…å ±ã‚’è‰²ã€…ã¨è£œå®Œã—ã¾ã—ãŸã€‚\né–“é•ã„ãƒ»å‹˜é•ã„ç­‰ã‚ã‚Šã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜é ‚ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚\n\n[è¿½è¨˜]\nãƒãƒƒã‚«ã‚½ãƒ³ã®å¾Œã«ã€Retrieve and Rankã¨Natural Language Classifierã‚’ç”¨ã„ã¦ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nè¾æ›¸ã‚„å­¦ç¿’ã®è©³ç´°ã«ã¤ã„ã¦ã‚‚è¨˜è¼‰ã—ã¾ã—ãŸã®ã§ã€[ã‚ˆã‚ã—ã‘ã‚Œã°ã”è¦§ãã ã•ã„ã€‚](http://qiita.com/takaha4/items/d14d643db28bc63c7b3f)\n\n#å‚è€ƒè³‡æ–™\n\næœ¬è¨˜äº‹ã¯ã€ä»¥ä¸‹ã‚’å§‹ã‚ã¨ã™ã‚‹å„ç¨®è³‡æ–™ã‚’è¦‹ãªãŒã‚‰ä½œæ¥­ã—ãŸçµæœã®ã¾ã¨ã‚ã«ãªã‚Šã¾ã™ã€‚\nå…ˆã«è¨˜äº‹ã‚’æ›¸ã‹ã‚Œã¦ã„ãŸæ–¹ã€…ã®ãŠé™°ã§ã€ãƒãƒƒã‚«ã‚½ãƒ³å½“æ—¥ã¯ãªã‚“ã¨ã‹å®Œæˆã«ã“ãã¤ã‘ã¾ã—ãŸã€‚\nã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ(æ„Ÿè¬)ã€‚\n\n- æ¦‚è¦\n\n    - [Watson API ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚° 20160716 rev02](http://www.slideshare.net/komine/watson-api-20160716-rev02)\n        - p54ãã‚‰ã„ã‹ã‚‰Retrieve and Rankã®è©±ã§ã™ãŒã€æ™‚é–“ãŒã‚ã‚Œã°æœ€åˆã‹ã‚‰èª­ã‚“ã æ–¹ãŒã‚ˆã„ã¨æ€ã„ã¾ã™\n\n- Retrieve and Rank\n\n    - [Tutorial](https://www.ibm.com/watson/developercloud/doc/retrieve-rank/tutorial.shtml)\n\n        - è‹±èªã§ã™ãŒã€è©³ç´°ãªæ‰‹é †&å„ç¨®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™\n\n    - [Bluemixã®Retrieve&Rankã«ã‚ˆã‚‹è³ªå•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ ã‚’è©¦ã—ã¦ã¿ãŸ](http://qiita.com/VegaSato/items/6d2d03d6a8b42adcf87e)\n\n    - [Retrieve and Rank ã‚µãƒ¼ãƒ“ã‚¹ã®ä½¿ç”¨æ–¹æ³•](https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/%E3%81%93%E3%81%BF%E3%81%AD%E3%81%AE%E6%8A%80%E8%A1%93%E3%83%A1%E3%83%A2/page/Retrieve%20and%20Rank%20%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)\n\n    - [APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹(Retrieve and Rank)](http://www.ibm.com/watson/developercloud/retrieve-and-rank/api/v1/)\n\n        - ã¾ãšã“ã¡ã‚‰ã‚’èª­ã‚“ã§ã€è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚‰â†“ã‚’æ¢ã™ã®ãŒã‚ˆã„ã¨æ€ã„ã¾ã™\n\n    - [ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹(Apache Solr)](https://cwiki.apache.org/confluence/display/solr/Apache+Solr+Reference+Guide)\n\n- Node-RED\n    \n    - [ã‚³ãƒ¼ãƒ‰ã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«Node-REDã§Webã‚¢ãƒ—ãƒªã‚’ä½œã‚ã†](http://ascii.jp/elem/000/001/139/1139255/)\n\n    - [Bluemix Node-REDã‚’ä½¿ã£ã¦Watson APIã‚’å‘¼ã³å‡ºã™](http://qiita.com/VegaSato/items/7ce47e6a9c06c290b212)\n\n\n#æ‰‹é †\n\n##å‰æ\n\n- ç­†è€…ã¯Macbookã«ã¦ä½œæ¥­ã‚’å®Ÿæ–½\n\n- ãƒ–ãƒ©ã‚¦ã‚¶ã¯Chromeã€HTMLã‹ã‚‰ã®ãƒ†ã‚¹ãƒˆã«[Brackets](http://brackets.io/)ã€ãã®ä»–ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã¨ã—ã¦[CotEditor](https://coteditor.com/)ã‚’ä½¿ç”¨\n\n- Windowsã§ã‚‚[curlã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚Œã°](https://www.google.co.jp/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q=windows%20curl)å¤šåˆ†OK\n\n##ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ\n\n- [IBM Watson Developer Cloud](https://www.ibm.com/marketplace/cloud/cognitive-application-development/jp/ja-jp)ã«ã¦ã€**ç„¡æ–™è©•ä¾¡ç‰ˆ(30æ—¥é–“)**ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ\n\n- [ã‚µãƒ¼ãƒ“ã‚¹](https://console.ng.bluemix.net/dashboard/services)ã‹ã‚‰ã€**ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ > Retrieve and Rank > ä½œæˆ**\n    - æ–™é‡‘ã®è©±ãŒæ›¸ã„ã¦ã‚ã£ã¦ã³ã³ã‚‹ãŒã€30æ—¥é–“ã¯å¤§ä¸ˆå¤«(ã®ã¯ãš)\n\n- [ã‚µãƒ¼ãƒ“ã‚¹](https://console.ng.bluemix.net/dashboard/services)ã‹ã‚‰ã€**Retrieve and Rank > ã‚µãƒ¼ãƒ“ã‚¹è³‡æ ¼æƒ…å ± > è³‡æ ¼æƒ…å ±ã®è¡¨ç¤º**ã§è¡¨ç¤ºã•ã‚Œã‚‹æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼\n    - ä»¥é™ã€curlã‚³ãƒãƒ³ãƒ‰ã®-uã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã€```**username**:**password**```ã®å½¢ã§è¨­å®šã™ã‚‹\n\n```json\n{\n  \"url\": \"https://gateway.watsonplatform.net/retrieve-and-rank/api\",\n  \"password\": \"**password**\",\n  \"username\": \"**username**\"\n}\n```\n\n##ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆ\n\n- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«(ãªã„ã—ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)ã‚’èµ·å‹•ã€‚curlã‚’å®Ÿè¡Œã—ã¦ã„ã\n\n- ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆ\n    - ```**cluster_id**```ã‚’ã‚³ãƒ”ãƒ¼\n\n```shell-session\ncurl -k -X POST -u \"**username:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\" -d \"\"\n```\n\n```json\n{\n  \"solr_cluster_id\": \"**cluster_id**\",\n  \"cluster_name\": \"\",\n  \"cluster_size\": \"\",\n  \"solr_cluster_status\": \"NOT_AVAILABLE\"\n}\n```\n\n- ä»¥ä¸‹ã§ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒç¢ºèªã§ãã‚‹ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«```READY```ãŒè¿”ã‚‹ã¾ã§å¾…ã¤\n\n```shell-session\ncurl -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters\"\n```\n\n```json\n{\"clusters\": [{\n  \"solr_cluster_id\": \"**cluster_id**\",\n  \"cluster_name\": \"\",\n  \"cluster_size\": \"\",\n  \"solr_cluster_status\": \"READY\"\n}]}\n```\n\n##è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”¨æ„ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n- ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œã£ã¦ã„ã‚‹é–“ã«ã€ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„\n    - [ã“ã¡ã‚‰](https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/%E3%81%93%E3%81%BF%E3%81%AD%E3%81%AE%E6%8A%80%E8%A1%93%E3%83%A1%E3%83%A2/page/Retrieve%20and%20Rank%20%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)ã®æ–¹ãŒæ—¥æœ¬èªç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¬é–‹ã—ã¦ã„ãŸã®ã§ã€ã‚ã‚ŠãŒãŸããŠå€Ÿã‚Šã™ã‚‹(**Attachment > Solr_Japanese_20160108.zip**)\n\n- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡å¾Œã€schema.xmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª\n    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚Œã°ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ™‚ã«```id```ã€```title```ã€```body```ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åå‰ã‚’å¤‰ãˆãŸã‚Šã€ä»–ã«ä¿æŒã—ãŸã„æƒ…å ±ãŒã‚ã£ãŸãŸã‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ ã‚’ãŠã“ãªã£ãŸ\n    - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´å¾Œã€å†åœ§ç¸®ã™ã‚‹æ™‚ã¯ã€è§£å‡å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åœ§ç¸®ã—ãªã„(=è§£å‡å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã®å†…å®¹ã‚’é¸æŠã—ã¦åœ§ç¸®ã™ã‚‹)ã“ã¨ã€‚ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ™‚ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹\n\n```xml:schema.xml(æŠœç²‹)\n   <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" multiValued=\"false\" /> \n   <field name=\"title\" type=\"watson_text_ja\" indexed=\"true\" stored=\"true\" required=\"false\" multiValued=\"true\" />\n   <field name=\"body\" type=\"watson_text_ja\" indexed=\"true\" stored=\"true\" required=\"false\" multiValued=\"true\" />\n\n   <!-- make a copy field using normal OOB solr text_en -->\n   <field name=\"text\" type=\"text_ja\" indexed=\"true\" stored=\"false\" required=\"false\" multiValued=\"true\" />\n   <!-- make a copy field using watson_text_ja -->\n   <field name=\"watson_text\" type=\"watson_text_ja\" indexed=\"true\" stored=\"false\" required=\"false\" multiValued=\"true\" />\n   \n   <copyField source=\"title\" dest=\"text\"/>\n   <copyField source=\"body\" dest=\"text\"/>\n   \n   <copyField source=\"title\" dest=\"watson_text\"/>\n   <copyField source=\"body\" dest=\"watson_text\"/>\n```\n\n```xml:schema.xml(ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ )\n   <!-- Watsonã«ã‚ˆã‚‹è§£æãŒä¸è¦ã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã™ã‚Œã°ã‚ˆã„æ¨¡æ§˜ -->\n   <field name=\"custom_field\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"false\" multiValued=\"false\" />\n```\n\n- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n    - ```**cluster_id**```ã«å…ˆã»ã©å–å¾—ã—ãŸã‚¯ãƒ©ã‚¹ã‚¿IDã€```**config_name**```ã«ä»»æ„ã®åå‰(è‹±æ•°å­—)ã€```**config_path**```ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(zip)ã¸ã®ãƒ‘ã‚¹ã‚’è¨­å®š\n\n```shell-session\ncurl -k -X POST -H \"Content-Type: application/zip\" -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/config/**config_name**\" --data-binary @**config_path**\n```\n\n```json\n{\n  \"message\": \"WRRCSR026: Successfully uploaded named config [**config_name**] for Solr cluster [**cluster_id**].\",\n  \"statusCode\": 200\n}\n```\n\n##ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ\n\n- ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ\n    - ```**collection_name**```ã«ä»»æ„ã®åå‰(è‹±æ•°å­—)ã€```**config_name**```ã«å…ˆã»ã©ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã‚’è¨­å®š\n    - ```success```ãªã©ã¨æ›¸ã‹ã‚ŒãŸXMLãŒè¿”ã£ã¦ãã‚Œã°OK\n\n```shell-session\ncurl -k -X POST -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/admin/collections\" -d \"action=CREATE&name=**collection_name**&collection.configName=**config_name**\"\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <response>\n    <lst name=\"responseHeader\">\n      <int name=\"status\">0</int>\n      <int name=\"QTime\">11214</int>\n    </lst>\n    <lst name=\"success\">\n      <lst name=\"****\">\n        <lst name=\"responseHeader\">\n          <int name=\"status\">0</int>\n          <int name=\"QTime\">2468</int>\n        </lst>\n        <str name=\"core\">****</str>\n      </lst>\n      <lst name=\"****\">\n        <lst name=\"responseHeader\">\n          <int name=\"status\">0</int>\n          <int name=\"QTime\">2915</int>\n        </lst>\n      <str name=\"core\">****</str>\n    </lst>\n  </lst>\n</response>\n```\n\n##ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæº–å‚™\n- æŠ•å…¥ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã‚’ç”¨æ„\n    - ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ãƒãƒ¼ãƒ ã®æ–¹ã«ç°¡æ˜“ã‚¯ãƒ­ãƒ¼ãƒ©(ã¨ã‚ã‚‹ã‚µã‚¤ãƒˆã®HTMLã‹ã‚‰æŠ•å…¥ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º)ã‚’ä½œã£ã¦ã‚‚ã‚‰ã„æ•‘ã‚ã‚ŒãŸã€‚8000ä»¶ã»ã©ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç™»éŒ²ã—ãŸ\n    - æœªç¢ºèªã ãŒ[Document Conversion](http://www.ibm.com/smarterplanet/jp/ja/ibmwatson/developercloud/document-conversion.html)ã‚’ä½¿ã£ã¦ã‚‚ã‚ˆã•ãã†\n\n##ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ\n\n- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åˆã‚ã›ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n    - [ã“ã“](https://cwiki.apache.org/confluence/display/solr/Uploading+Data+with+Index+Handlers#UploadingDatawithIndexHandlers-JSONFormattedIndexUpdates)ã‚’è¦‹ã‚‹ã¨è¨˜æ³•ã¯è‰²ã€…ã‚ã‚‹ã‚‰ã—ã„(ã“ã‚Œã¯JSONã¨ã—ã¦å•é¡Œãªã„ã‚“ã§ã—ã‚‡ã†ã‹â€¦?)\n    - æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¯UTF-8ã€æ”¹è¡Œã¯LFã®ã¿\n    - ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã€ã“ã“ã§```commit```ãŒå¿…è¦ãªã“ã¨ã«æ°—ã¥ã‘ãšæ•°æ™‚é–“ã‚’ãƒ•ã‚¤ã«ã—ãŸ(åçœ)\n\n```json:documents.json\n{\n  \"add\": {\n    \"doc\": {\n      \"id\": \"1\",\n      \"title\": \"ï¼Šï¼Šï¼Šï¼Š\",\n      \"body\": \"ï¼Šï¼Šï¼Šï¼Š\",\n      \"custom_field\": \"ï¼Šï¼Šï¼Šï¼Š\"\n    }\n  },\n  \"add\": {\n    \"doc\": {\n      \"id\": \"2\",\n      \"title\": \"ï¼Šï¼Šï¼Šï¼Š\",\n      \"body\": \"ï¼Šï¼Šï¼Šï¼Š\",\n      \"custom_field\": \"ï¼Šï¼Šï¼Šï¼Š\"\n    }\n  },\n\nãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»\n\n  \"commit\": { }\n}\n```\n\n##ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæŠ•å…¥\n\n- ä»¥ä¸‹å®Ÿè¡Œã§ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æŠ•å…¥\n    - ```**cluster_id**```ã€```**config_name**```ã¯é©å®œç½®æ›ã€```**document_path**```ã«å…ˆã»ã©ä½œæˆã—ãŸjsonãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ã‚’è¨­å®š\n\n```shell-session\ncurl -k -X POST -H \"Content-Type: application/json\" -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/update\" --data-binary @**document_path**\n```\n\n```json\n{\n  \"responseHeader\": {\n    \"status\": 0,\n    \"QTime\": 495\n  }\n}\n```\n\n##æ¤œç´¢(ãƒ©ãƒ³ã‚«ãƒ¼ç„¡ã—)\n- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«ä»¥ä¸‹ã‚’å…¥åŠ›\n    - ```**xxxx**```ã®ç®‡æ‰€ã¯ä»Šã¾ã§ã«å€£ã£ã¦é©å®œå¤‰æ›´ã€‚æ¤œç´¢æ–‡ã¯ä»»æ„ã«è¨­å®š\n    - æ¤œç´¢æ–‡ã«å¿œã˜ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¿”ã£ã¦ãã‚Œã°OK\n    - idæ¤œç´¢ãŒã—ãŸã„å ´åˆã¯ã€q=id:1ãªã©ã¨ã™ã‚‹\n\n```\nhttps://**username**:**password**@gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/select?q=æ¤œç´¢æ–‡&wt=json&fl=id,title,body,custom_field\n```\n\n```json\n{\n  \"responseHeader\": {\n    \"status\": 0,\n    \"QTime\": 1,\n    \"params\":{\n      \"q\": \"æ¤œç´¢æ–‡\",\n      \"fl\": \"id,title,body,custom_field\",\n      \"wt\":\"json\"\n    }\n  },\n  \"response\": {\n    \"numFound\": 58,\n    \"start\": 0,\n    \"docs\": [\n      {\n        \"id\": \"1\",\n        \"title\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"body\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"custom_field\": \"ï¼Šï¼Šï¼Šï¼Š\"\n      },\n\nãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»\n\n    ]\n  }\n}\n```\n\n##ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ\n\n- Retrieve and Rankã‚’Webã‹ã‚‰å‘¼ã³å‡ºã™ã«ã¯ã€Node-REDã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµŒç”±ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n    - ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯ã“ã‚Œã«æ°—ã¥ã‘ãš1æ™‚é–“ã»ã©ãƒ•ã‚¤ã«ã—ãŸ(åçœ)\n\n- [ã‚¢ãƒ—ãƒª](https://console.ng.bluemix.net/dashboard/applications)ã‹ã‚‰**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ > Node-RED Starter > ä½œæˆ**\n    - å…¥åŠ›é …ç›®ã¯ä»»æ„ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ˆã„ãŒã€ãƒ›ã‚¹ãƒˆåã«ã¤ã„ã¦ã¯APIã®URLã«ç”¨ã„ã‚‰ã‚Œã‚‹\n\n- [ã‚¢ãƒ—ãƒª](https://console.ng.bluemix.net/dashboard/applications)ã‹ã‚‰**ã‚¢ãƒ—ãƒªå > ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  > ç’°å¢ƒå¤‰æ•° > ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾© > è¿½åŠ  > ä¿å­˜**ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š\n    - [ã‚¢ãƒ—ãƒª](https://console.ng.bluemix.net/dashboard/applications)ã«ã¦**å†å§‹å‹•**(å††å¼§å‹ã®çŸ¢å°ã®ãƒœã‚¿ãƒ³)ã‚’æŠ¼ã—ã¦ãŠã\n\nåå‰|å€¤\n---|---\nNODE_RED_USERNAME|ä»»æ„\nNODE_RED_PASSWORD|ä»»æ„\n\n##ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç·¨é›†\n\n- [ã‚¢ãƒ—ãƒª](https://console.ng.bluemix.net/dashboard/applications)ã§**ã‚¢ãƒ—ãƒªå > çµŒè·¯**ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹URLã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€Node-REDã®ãƒˆãƒƒãƒ—ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n\n- **Go to your Node-RED flow editor**ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨èªè¨¼ç”»é¢ãŒå‡ºã‚‹ã®ã§ã€å…ˆã»ã©è¨­å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›\n\n- è¡¨ç¤ºã•ã‚ŒãŸã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã«ã¦ã€ä»¥ä¸‹è¦é ˜ã§ãƒãƒ¼ãƒ‰ã‚’ä½œæˆã€æ¥ç¶š\n\n<img width=\"533\" alt=\"æ¥ç¶šã‚¤ãƒ¡ãƒ¼ã‚¸\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/d95d3010-8c13-268a-042c-2ca84531a99d.png\">\n\n###http(input)\n\n- ç”»é¢å·¦ã‚ˆã‚Š**input > http**ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸­å¤®ã«ãƒ‰ãƒ­ãƒƒãƒ—\n\n- URLã«æŒ‡å®šã—ãŸå€¤ãŒã€APIã®URLã®ãƒ‘ã‚¹ã«ä½¿ç”¨ã•ã‚Œã‚‹\n\nåå‰|å€¤\n---|---\nMethod|POST\nURL|/```**path**```\nName|ä»»æ„\n\n###function(ãƒªã‚¯ã‚¨ã‚¹ãƒˆç”Ÿæˆ)\n\n- ç”»é¢å·¦ã‚ˆã‚Š**function > function**\n\n- Webã‚ˆã‚Šå‘¼ã³å‡ºã™éš›ã«æ¤œç´¢æ–‡ã‚’è¨­å®šã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’```msg.payload```ã®```q```ã§æŒ‡å®šã™ã‚‹\n\n- è‰²ã€…ã¨ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã®ã¯[ã“ã¡ã‚‰](http://d.hatena.ne.jp/miau/20140705/1404564644)ã‚’å‚è€ƒã«ã€‚substringã¯ãªã‚“ã¨ãªãå®Ÿæ–½\n\n```javascript:Function\nvar query;\ntry {\n    query = msg.payload.q.substring(0, 1000);\n} catch(e) {\n    query = \"\";\n}\nquery = query.replace(\n    /[\\\\\\+\\-\\&\\|\\!\\(\\)\\{\\}\\[\\]\\^\\\"\\~\\*\\?\\:\\/\\r\\n\\t\\u0020\\u3000]|AND|OR|NOT/g, \n    function(c) { return \"\\\\\" + c; });\nmsg.headers = {\n    \"content-type\": \"application/x-www-form-urlencoded\"\n};\nmsg.payload = {\n    \"wt\": \"json\",\n    \"fl\": \"id,title,body,custom_field\",\n    \"q\": query\n};\nreturn msg;\n```\n\n###http request\n\n- ç”»é¢å·¦ã‚ˆã‚Š**function > http request**\n\nåå‰|å€¤\n---|---\nMethod|POST\nURL|```https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/select```\nEnable secure (SSL/TLS) connection| ãƒã‚§ãƒƒã‚¯ç„¡\nUse basic authentication|ãƒã‚§ãƒƒã‚¯æœ‰\nUsername|```**username**```\nPassword|```**password**```\nReturn|a UTF-8 string\nName|ä»»æ„\n\n###function(ãƒ˜ãƒƒãƒ€è¨­å®š)\n\n- ç”»é¢å·¦ã‚ˆã‚Š**function > function**\n\n- CORSå¯¾å¿œã®ãŸã‚\n\n```javascript:Function\nmsg.headers = {\n  \"Access-Control-Allow-Origin\": \"*\"\n}\nreturn msg;\n```\n\n###jsonã€http(output)\n\n- ç”»é¢å·¦ã‚ˆã‚Š**function > json**ã€**output > http response**\n\n##ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åæ˜ \n\n- ç”»é¢å³ä¸Šã®**Deploy**ã‚’æŠ¼ã™ã¨åæ˜ \n    - ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã¨ã€ç”»é¢å³ã®**debug**ã‚¿ãƒ–ã«è¡¨ç¤ºã•ã‚Œã‚‹\n\n##Webã‹ã‚‰APIå‘¼ã³å‡ºã—\n\n- jQueryç­‰ã‚’ä½¿ã£ã¦APIå‘¼ã³å‡ºã—ã€çµæœå–å¾—\n\n```html:test.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Retrieve and Rank</title>\n    <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.1.1.min.js\"></script>\n  </head>\n  <body>\n    <input id=\"query\" type=\"text\">\n    <input id=\"test\" type=\"button\" value=\"Test\">\n    <div id=\"result\"></div>\n  </body>\n  <script type=\"text/javascript\">        \n    $(\"#test\").click(function(){\n      $(\"#result\").empty();\n\n      $.ajax({\n        type: \"POST\",\n        url: \"http://**ãƒ›ã‚¹ãƒˆå**.mybluemix.net/**path**\",\n        dataType: \"json\",\n        data: {\n            q: $(\"#query\").val()\n        }\n      }).done(function(data){\n        var doc = \"\";\n        var docs = data.response.docs;\n        if (docs.length > 0) {\n            doc = JSON.stringify(docs[0]);\n        } else {\n            doc = \"çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\";\n        }\n        $(\"#result\").text(doc);\n      }).fail(function(error){\n          console.log(error);\n      });\n    });\n  </script>\n</html>\n```\n\n##å­¦ç¿’\n\n- ãƒãƒƒã‚«ã‚½ãƒ³ã§ã¯æ™‚é–“ãŒè¶³ã‚‰ãšæ³£ãæ³£ãè«¦ã‚ãŸã€ãƒ©ãƒ³ã‚«ãƒ¼ã‚’ç”¨ã„ãŸæ¤œç´¢ã«ã¤ã„ã¦æŒ‘æˆ¦ã—ãŸ\n\n###Grandtruthã®ä½œæˆ\n\n- è³ªå•ã«å¯¾ã—ã¦ã©ã®è§£ç­”ãŒé©åˆ‡ã§ã‚ã£ãŸã‹è§£ç­”ã—ã¦Grandtruthã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Šã€ãƒ©ãƒ³ã‚«ãƒ¼ã‚’ä½œæˆ\n    - **è³ªå•æ–‡å…¥åŠ›&è§£ç­”å€™è£œè¡¨ç¤ºâ†’é©åˆ‡ã¨æ€ã‚ã‚Œã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™â†’è³ªå•æ–‡å…¥åŠ›â€¦â†’Groundtruthå–å¾—**ã§CSVãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n\n```html:test2.html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Groundtruth</title>\n    <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.1.1.min.js\"></script>\n    <style type=\"text/css\">\n      body {\n        font-size: small;\n      }\n      #query {\n        width: 95%;\n      }\n      #header {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        padding: 0.2em;\n        background-color: gray;\n      }\n      .doc {\n        border: 1px solid gray;\n        border-radius: 0.2em;\n        margin: 0.2em;\n        padding: 0.2em;\n      }\n      #result {\n        margin-top: 4em;\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"header\">\n      <input id=\"query\" type=\"text\" placeholder=\"è³ªå•æ–‡\"><br>\n      <input id=\"send\" type=\"button\" value=\"å€™è£œè¡¨ç¤º\">\n      <input id=\"getgt\" type=\"button\" value=\"Groundtruthå–å¾—\">\n      <a id=\"downloadlink\" target=\"_blank\" href=\"#\"></a>\n    </div>\n    <div id=\"result\"></div>\n  </body>\n  <script type=\"text/javascript\">\n    var MAX_USEFUL=4;\n    var groundtruth={};\n    \n    $(\"#send\").click(function(){\n      var $result=$(\"#result\");\n      $result.empty();\n      \n      var $query=$(\"#query\");      \n      $.ajax({\n        type: \"POST\",\n        url: \"http://**ãƒ›ã‚¹ãƒˆå**.mybluemix.net/**path**\",\n        dataType: \"json\",\n        data: {\n          q: $query.val()\n        }\n      }).done(function(data){\n        var docs = data.response.docs;\n        if (docs.length > 0) {\n          docs.forEach(function(doc){\n            var $doc=$(\"<div>\").addClass(\"doc\").data({ \n              \"query\": data.responseHeader.params.q,\n              \"doc\": doc \n            });\n            \n            $doc.append($(\"<input>\").attr({\n              \"id\": \"useful\",\n              \"type\": \"button\",\n              \"value\": doc.id,\n            }).click(function(){ clickUseful($doc); }));\n            \n            $doc.append($(\"<span>\").addClass(\"counter\"));\n            $doc.append($(\"<div>\").text(doc.body));            \n            \n            $result.append($doc);\n          });\n        } else {\n          $result.text(\"çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\");\n        }\n      }).fail(function(error){\n          console.log(error);\n      });      \n    });\n    \n    $(\"#getgt\").click(function(){\n      var rows=[];\n      $.each(groundtruth,function(query, idList){\n        var row=[];\n        row.push(query);\n        $.each(idList,function(id, count){\n          row.push(id);\n          row.push(count);\n        });\n        rows.push(row.map(function(value){ return escapeCSV(String(value)) }).join(\",\"));\n      });\n      rows.push(\"\");\n\n      var blob = new Blob([rows.join(\"\\n\")], { \"type\": \"text/plain\" });\n      var $downloadlink=$(\"#downloadlink\");\n      $downloadlink.attr(\"href\", window.URL.createObjectURL(blob));\n      $downloadlink.attr(\"download\", \"gt_\" + createTimeString() + \".csv\");\n      $downloadlink[0].click();\n    });\n    \n    function clickUseful($doc) {\n      var query=$doc.data(\"query\");\n      var id=$doc.data(\"doc\").id;\n      if (groundtruth[query] === undefined) {\n        groundtruth[query]={};\n      }\n      \n      var count=(groundtruth[query][id] === undefined ? 0 : groundtruth[query][id]);\n      count=Math.min(count + 1, MAX_USEFUL);\n      groundtruth[query][id]=count;\n\n      $doc.find(\".counter\").text(count);\n      if (count >= MAX_USEFUL) {\n        $doc.find(\"#useful\").prop(\"disabled\", true);        \n      }      \n    }\n    \n    function escapeCSV(value) {\n      return \"\\\"\" + value.replace(/\\\"/, \"\\\"\\\"\") + \"\\\"\";\n    }\n    function createTimeString() {\n      function padZero(num) {\n          var result;\n          if (num < 10) {\n              result = \"0\" + num;\n          } else {\n              result = \"\" + num;\n          }\n          return result;\n      }\n      var now = new Date();\n      var res = \"\" + now.getFullYear() + padZero(now.getMonth() + 1) + \n          padZero(now.getDate()) + padZero(now.getHours()) + \n          padZero(now.getMinutes()) + padZero(now.getSeconds());\n      return res;\n    }\n  </script>\n</html>\n```\n\n<img width=\"588\" alt=\"ãƒ„ãƒ¼ãƒ«\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/8630c050-e6c2-e6da-4fe8-78748418a720.png\">\n\n- è³ªå•æ–‡,è§£ç­”1ã®ID,è§£ç­”1ã®å½¹ã«ç«‹ã£ãŸåº¦(1ã€œ4),è§£ç­”2ã®ID,è§£ç­”2ã®å½¹ã«ç«‹ã£ãŸåº¦(1ã€œ4)...\n    - è³ªå•æ–‡ã«å¯¾ã—è§£ç­”å€™è£œã¨ã—ã¦è¿”å´ã•ã‚Œãªã„IDã‚’æŒ‡å®šã™ã‚‹ã¨ã€æ¬¡ã®train.pyã§ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹\n\n    - æœ€ä½49è¡Œ(=ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè³ªå•æ–‡49å€‹)ä»¥ä¸ŠãŒå¿…è¦ã‚‰ã—ã„ã€‚è¶³ã‚Šãªã„ã¨ã‚„ã¯ã‚Šã‚¨ãƒ©ãƒ¼ã«ãªã‚‹\n\n    - ãã®ä»–ã€å¿…è¦ãªè¦ä»¶ãŒè‰²ã€…ã¨ã‚ã‚‹æ¨¡æ§˜([ã“ã¡ã‚‰](http://www.slideshare.net/kotasuizu5/watson-61078069)ã®p25ã¨ã‹ã€[ã“ã“](https://www.ibm.com/watson/developercloud/doc/retrieve-rank/training_data.shtml#data_stds)ã¨ã‹)\n\n    - UTF-8ã€LFã§å‡ºåŠ›ã®ã“ã¨\n\n```javascript:gt.csv(ã‚¤ãƒ¡ãƒ¼ã‚¸)\n\"ã“ã‚“ã«ã¡ã¯\",\"7203\",\"3\",\"7654\",\"2\"\n\n```\n\n###ãƒ©ãƒ³ã‚«ãƒ¼ã®ä½œæˆ\n\n- csvãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ãŸã‚‰ã€[ã“ã¡ã‚‰](http://www.ibm.com/watson/developercloud/doc/retrieve-rank/tutorial.shtml#create-train)ã‹ã‚‰**train.py**ã‚’å–å¾—ã—ã€ä»¥ä¸‹å®Ÿè¡Œ\n    - ```**ranker_name**```ã¯ä»»æ„ã§ã‚ˆã„\n    - Windowsç’°å¢ƒã®äººã¯ã€Pythonã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n```shell-session\npython ./train.py -u \"**username**:**password**\" -i ./gt.csv -c \"**cluster_id**\" -x \"**collection_name**\" -n \"**ranker_name**\"\n```\n\n```text\nInput file is ./gt.csv\nSolr cluster is **cluster_id**\nSolr collection is **collection_name**\nRanker name is **ranker_name**\nRows per query 10\nGenerating training data...\nGenerating training data complete.\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  242k    0   316  100  241k    113  88936  0:00:02  0:00:02 --:--:-- 88935\n```\n\n- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ```Training```ã®é–“ã¯ä½¿ç”¨ä¸å¯ã€‚5åˆ†ç¨‹åº¦ã‹ã‹ã‚‹ã®ã§æš«ã—å¾…ã¤\n    - ```**ranker_id**```ã‚’ãƒ¡ãƒ¢\n\n```json\n{\n  \"ranker_id\": \"**ranker_id**\",\n  \"name\": \"**ranker_name**\",\n  \"created\": \"2016-11-18T19:14:20.146Z\",\n  \"url\": \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\",\n  \"status\": \"Training\",\n  \"status_description\": \"The ranker instance is in its training phase, not yet ready to accept rank requests\"\n}\n```\n\n- ãƒ©ãƒ³ã‚«ãƒ¼ã®çŠ¶æ…‹ç¢ºèªã¯ä»¥ä¸‹ã€‚```Available```ã¨ãªã‚Œã°OK\n\n```shell-session\ncurl -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"\n```\n\n```json\n{\n  \"ranker_id\": \"**ranker_id**\",\n  \"name\": \"**ranker_name**\",\n  \"created\":\"2016-11-18T19:14:20.146Z\",\n  \"url\": \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\",\n  \"status\": \"Available\",\n  \"status_description\": \"The ranker instance is now available and is ready to take ranker requests.\"\n}\n```\n\n###æ¤œç´¢(ãƒ©ãƒ³ã‚«ãƒ¼æœ‰ã‚Š)\n\n- fcselectã§å®Ÿæ–½\n    - APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«è¨˜è¼‰ãŒãªã„ãŒã€flã«```ranker.confidence```ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ãƒ©ãƒ³ã‚¯ä»˜ã‘ã®ä¿¡é ¼åº¦ãŒå‡ºåŠ›ã•ã‚Œã‚‹([ã“ã“](http://www.ibm.com/watson/developercloud/doc/retrieve-rank/training_data.shtml#top)ã®**Working with ranker confidence scores**å‚ç…§)\n\n```\nhttps://**username**:**password**@gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/**collection_name**/fcselect?ranker_id=**ranker_id**&q=æ¤œç´¢æ–‡&wt=json&fl=id,title,body,custom_field,ranker.confidence\n```\n\n```json\n{\n  \"responseHeader\": {\n    \"status\": 0,\n    \"QTime\": 75\n  },\n  \"response\": {\n    \"numFound\": 11,\n    \"start\": 0,\n    \"maxScore\": 10.0,\n    \"docs\": [\n      {\n        \"id\": \"7722\",\n        \"title\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"body\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"custom_field\": \"ï¼Šï¼Šï¼Šï¼Š\",\n        \"ranker.confidence\": 0.48287850973637736\n      },\n      {\n        \"id\": \"7203\",\n        \"title\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"body\": [\"ï¼Šï¼Šï¼Šï¼Š\"],\n        \"custom_field\": \"ï¼Šï¼Šï¼Šï¼Š\",\n        \"ranker.confidence\": 0.3192066081818791\n      },\n\nãƒ»ãƒ»ãƒ»ä¸­ç•¥ãƒ»ãƒ»ãƒ»\n\n    ]\n  }\n}\n```\n\n###çµæœã®æ¯”è¼ƒ\n\n- å·¦ãŒselect(=å­¦ç¿’ç„¡?)ã€å³ãŒfcselect(=å­¦ç¿’æœ‰?)\n\n- \"7810\"ã¯selectã§ãƒ©ãƒ³ã‚¯ã®ä¸€ç•ªä¸‹ã ã£ãŸãŒã€fcselectã§ã¯æ¤œç´¢ã«å¼•ã£ã‹ã‹ã‚‰ãªããªã£ãŸâ€¦\n\n- \"1908\"ãªã©ã€ç›´æ¥æŒ‡å®šã—ã¦ã„ãªã„IDã‚‚ãƒ©ãƒ³ã‚¯ãŒä¸Šæ˜‡\n    - \"ã©ã†ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™\"ã§\"4\"ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã®ã§ã€ãã®å½±éŸ¿ã‹?\n\n- \"7963\"ã¯ã€Grandtruthå…¨ä½“ã‚’é€šã˜ã¦ä¸€åº¦ã‚‚ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãªã„ãŒé †ä½ãŒä¸Šæ˜‡ã—ã¦ã„ã‚‹\n    - å‘¨ã‚ŠãŒä¸‹ãŒã£ã¦ã„ã‚‹?\n    - ãã®ä»–è‰²ã€…ãªè³ªå•æ–‡ã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®å½±éŸ¿ã‚‚ã‚ã‚‹ã®ã‹ã‚‚\n\n```javascript:Grandtruth(æŠœç²‹)\n\"ã©ã†ã‚‚\",\"1525\",\"2\",\"4669\",\"4\",\"6137\",\"3\",\"7481\",\"3\",\"8252\",\"4\"\n\"ã©ã†ã‚‚ãƒ¼\",\"1908\",\"2\",\"7481\",\"2\",\"7810\",\"2\",\"8252\",\"3\"\n\"ã©ã†ã‚‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ\",\"2475\",\"4\",\"5984\",\"4\",\"6220\",\"4\",\"6490\",\"4\"\n\"ã©ã†ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™\",\"252\",\"4\",\"1439\",\"4\",\"1750\",\"2\",\"1821\",\"2\",\"1908\",\"4\",\"3731\",\"4\"\n\"ã©ã†ã‚‚ã“ã‚“ã«ã¡ã¯\",\"3627\",\"3\",\"7203\",\"2\",\"7654\",\"2\",\"7660\",\"4\",\"7722\",\"2\"\n```\n\n<img width=\"944\" alt=\"æ¯”è¼ƒ\" src=\"https://qiita-image-store.s3.amazonaws.com/0/106259/70fc5084-4425-0eb3-2249-6fe6566c4ad5.png\">\n\n##å¾Œç‰‡ä»˜ã‘\n\n- [ã“ã¡ã‚‰](http://www.ibm.com/developerworks/jp/bluemix/credit.html)ã‚’è¦‹ã‚‹ã¨ã€è©¦ç”¨æœŸé–“çµ‚äº†å¾Œã«è‡ªå‹•ã§å…¨å‰Šé™¤ã•ã‚Œã‚‹é›°å›²æ°—ã ãŒã€ãªã‚“ã¨ãªãæ‰‹ã§æ¶ˆã—ã¦ãŠã\n\n- ãƒ©ãƒ³ã‚«ãƒ¼å‰Šé™¤\n\n```shell-session\ncurl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/rankers/**ranker_id**\"\n```\n\n```json\n{}\n```\n\n- ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å‰Šé™¤\n\n```shell-session\ncurl -X POST -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/solr/admin/collections\" -d \"action=DELETE&name=**collection_name**\"\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<response>\n  <lst name=\"responseHeader\">\n    <int name=\"status\">0</int>\n    <int name=\"QTime\">907</int>\n  </lst>\n  <lst name=\"success\">\n    <lst name=\"****\">\n      <lst name=\"responseHeader\">\n        <int name=\"status\">0</int>\n        <int name=\"QTime\">95</int>\n      </lst>\n    </lst>\n    <lst name=\"****\">\n      <lst name=\"responseHeader\">\n        <int name=\"status\">0</int>\n        <int name=\"QTime\">119</int>\n      </lst>\n    </lst>\n  </lst>\n</response>\n```\n\n- ã‚³ãƒ³ãƒ•ã‚£ã‚°å‰Šé™¤\n\n```shell-session\ncurl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**/config/**config_name**\"\n```\n\n```json\n{\n  \"message\": \"WRRCSR025: Successfully deleted named config [**config_name**] for Solr cluster [**cluster_id**].\",\n  \"statusCode\": 200\n}\n```\n\n- ã‚¯ãƒ©ã‚¹ã‚¿å‰Šé™¤\n\n```shell-session\ncurl -X DELETE -u \"**username**:**password**\" \"https://gateway.watsonplatform.net/retrieve-and-rank/api/v1/solr_clusters/**cluster_id**\"\n```\n\n```json\n{\n  \"message\": \"WRRCSR023: Successfully deleted Solr cluster [**cluster_id**].\",\n  \"statusCode\": 200\n}\n```\n\n- [ã‚¢ãƒ—ãƒª](https://console.ng.bluemix.net/dashboard/applications)ã€[ã‚µãƒ¼ãƒ“ã‚¹](https://console.ng.bluemix.net/dashboard/services)ã‹ã‚‰ã€ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‰Šé™¤\n",
      "coediting": false,
      "comments_count": 0,
      "created_at": "2016-11-20T19:23:24+09:00",
      "group": null,
      "id": "0a1dcad29162f02b3908",
      "likes_count": 8,
      "private": false,
      "reactions_count": 0,
      "stocks_count": 12,
      "tags": [
        {
          "name": "Solr",
          "versions": []
        },
        {
          "name": "Bluemix",
          "versions": []
        },
        {
          "name": "Watson",
          "versions": []
        },
        {
          "name": "node-red",
          "versions": []
        }
      ],
      "title": "Watson Retrieve and Rankã‚’Webã‹ã‚‰ä½¿ã†",
      "updated_at": "2017-05-18T23:31:19+09:00",
      "url": "https://qiita.com/yktakaha4/items/0a1dcad29162f02b3908",
      "user": {
        "description": "",
        "facebook_id": "",
        "followees_count": 26,
        "followers_count": 23,
        "github_login_name": "yktakaha4",
        "id": "yktakaha4",
        "items_count": 27,
        "linkedin_id": "",
        "location": "",
        "name": "Yuuki Takahashi",
        "organization": "LAPRASæ ªå¼ä¼šç¤¾",
        "permanent_id": 106259,
        "profile_image_url": "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/106259/profile-images/1600489516",
        "team_only": false,
        "twitter_screen_name": "yktakaha4",
        "website_url": "https://yktakaha4.github.io/"
      },
      "page_views_count": null,
      "team_membership": null,
      "organization_url_name": null,
      "slide": false
    }
  ]
}
